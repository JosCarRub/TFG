This file is a merged representation of a subset of the codebase, containing specifically included files, combined into a single document by Repomix.

================================================================
File Summary
================================================================

Purpose:
--------
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.

File Format:
------------
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  a. A separator line (================)
  b. The file path (File: path/to/file)
  c. Another separator line
  d. The full contents of the file
  e. A blank line

Usage Guidelines:
-----------------
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.

Notes:
------
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Only files matching these patterns are included: app
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)


================================================================
Directory Structure
================================================================
app/
  forms/
    canchas_forms.py
    equipo_forms.py
    partido_forms.py
    user_forms.py
  management/
    commands/
      generate_schema_description.py
  models/
    __init__.py
    cancha.py
    equipo.py
    historial.py
    inscripcion.py
    partido.py
    resultado.py
    user.py
  static/
    css/
      auth/
        login_styles.css
        registration_styles.css
      canchas/
        canchas_detalle_styles.css
        canchas_lista_styles.css
        registro_cancha_styles.css
      equipo/
        crear_equipo_styles.css
        detalle_equipo_styles.css
        editar_equipo_styles.css
        lista_equipo_styles.css
      global/
        base_styles.css
        estadisticas_styles.css
        home_styles.css
        landing_styles.css
      partidos/
        buscar_partidos_styles.css
        crear_partido_styles.css
        detalle_partido_styles.css
        mis_partidos_styles.css
        resultado_partido_styles.css
      perfil/
        editar_perfil_styles.css
        perfil_styles.css
      secret/
        secret_voice_dash.css
      main.css
      secret_voice.css
      secret.css
    js/
      equipo/
        crear_equipo.js
        editar_equipo.js
        lista_equipo.js
      secret/
        secret_voice_face.js
        secret_voice_logic.js
        secret_voice.js
      detalle_partido.js
  templates/
    auth/
      registration.html
    canchas/
      canchas_lista.html
      detalle_cancha.html
      registro_canchas.html
    components/
      svg/
        landing_location.html
        landing_player.html
        landing_team.html
        logo_tiro.html
        logo.html
        logo2_player.html
        logo3_balon_antiguo.html
      audio_toggle.html
      landing_nav.html
      nav.html
      top_nav.html
    equipos/
      crear_equipo_permanente.html
      detalle_equipo.html
      editar_equipo_permanente.html
      mis_equipos_lista.html
    estadisticas/
      estadisticas_generales.html
    global/
      estadisticas.html
      home.html
      landing_page.html
    oldest/
      landing.html
    partidos/
      buscar_partidos.html
      crear_partidos.html
      detalle_partido.html
      mis_partidos.html
      registrar_resultado.html
    perfil/
      perfil.html
      update_profile.html
    registration/
      logged_out.html
      login.html
      registro.html
    secret/
      dashboard_voice.html
      dashboard_voiceTEST.html
      dashboard.html
      test.html
    base.html
    canchas.html
    main.html
  templatetags/
    attribute_filters.py
  views/
    __init__.py
    canchas_views.py
    commons_views.py
    equipo_views.py
    estadisticas_views.py
    mis_partidos_views.py
    partido_views.py
    user_views.py
  admin.py
  apps.py
  context_processors.py
  styles.css
  tests.py
  urls.py

================================================================
Files
================================================================

================
File: app/management/commands/generate_schema_description.py
================
# mi_proyecto_django/app/management/commands/generate_schema_description.py
from django.core.management.base import BaseCommand
from django.apps import apps
from django.db import models

class Command(BaseCommand):
    help = 'Genera una descripción del esquema de la base de datos para el prompt del LLM.'

    def handle(self, *args, **options):
        output = ["**Esquema de la Base de Datos (SQLite):**\n"]
        app_models = apps.get_app_config('app').get_models()

        for model in app_models:
            model_name = model._meta.db_table
            output.append(f"Tabla `{model_name}` (modelo Django: `{model.__name__}`):")
            
            # Iterar solo sobre campos concretos y relaciones directas que tienen columnas
            # (ForeignKey, OneToOneField).
            # Los ManyToManyField se manejan de forma especial.
            # Los campos de relación inversa (como ManyToOneRel) se omitirán.
            for field in model._meta.get_fields():
                # Omitir relaciones inversas y campos ManyToMany directos aquí
                # (los ManyToMany se manejan por su tabla intermedia)
                if (field.auto_created and not field.concrete) or isinstance(field, models.ManyToManyField):
                    # Esto omite ManyToOneRel, OneToOneRel, ManyToManyRel
                    # y también el descriptor ManyToManyField en el modelo (ya que su tabla se describe aparte)
                    
                    # Si es un ManyToManyField y es el "dueño" de la relación (no auto_created por el otro lado)
                    # y su tabla intermedia es auto-creada por Django, la describimos.
                    if isinstance(field, models.ManyToManyField) and field.concrete and field.remote_field.through._meta.auto_created:
                        intermediate_table_name = field.m2m_db_table()
                        col1_name = field.m2m_column_name() # Columna que apunta a este modelo
                        col2_name = field.m2m_reverse_name() # Columna que apunta al modelo relacionado

                        # Obtener nombres de las columnas PK de los modelos involucrados
                        pk_model_col_name = model._meta.pk.column or model._meta.pk.name
                        pk_related_model_col_name = field.related_model._meta.pk.column or field.related_model._meta.pk.name
                        
                        output.append(f"Tabla Intermedia `{intermediate_table_name}` (para {model_name}.{field.name}):")
                        output.append(f"  id (INTEGER, PRIMARY KEY AUTOINCREMENT)") # Las tablas m2m de Django tienen un id
                        output.append(f"  {col1_name} ({model._meta.pk.get_internal_type()}, FOREIGN KEY REFERENCES {model_name}({pk_model_col_name}))")
                        output.append(f"  {col2_name} ({field.related_model._meta.pk.get_internal_type()}, FOREIGN KEY REFERENCES {field.related_model._meta.db_table}({pk_related_model_col_name}))")
                        output.append(f"  UNIQUE ({col1_name}, {col2_name})\n")
                    continue

                # Para campos concretos (incluyendo ForeignKey y OneToOneField que son concretos)
                # field.column debería existir o ser None si el nombre de la columna es igual al nombre del campo.
                # field.name siempre existe.
                column_name = field.column if field.column else field.name
                field_info = f"  {column_name} ("
                
                if isinstance(field, models.ForeignKey):
                    # Para ForeignKey, el tipo de la columna es el tipo de la PK del modelo relacionado
                    pk_type_related = field.related_model._meta.pk.get_internal_type()
                    field_info += f"{pk_type_related}, FOREIGN KEY REFERENCES {field.related_model._meta.db_table}({field.related_model._meta.pk.column or field.related_model._meta.pk.name})"
                elif isinstance(field, models.OneToOneField):
                    pk_type_related = field.related_model._meta.pk.get_internal_type()
                    # OneToOneField también es la PK de esta tabla si es la relación "principal"
                    field_info += f"{pk_type_related}, UNIQUE"
                    if field.primary_key: # Si este OneToOne es la PK
                         field_info += ", PRIMARY KEY"
                    field_info += f", FOREIGN KEY REFERENCES {field.related_model._meta.db_table}({field.related_model._meta.pk.column or field.related_model._meta.pk.name})"
                else:
                    field_info += f"{field.get_internal_type()}"
                    if hasattr(field, 'max_length') and field.max_length:
                        field_info += f"({field.max_length})"
                
                if field.primary_key and not isinstance(field, models.OneToOneField): # Ya manejado para OneToOne
                    field_info += ", PRIMARY KEY"
                if field.unique and not isinstance(field, models.OneToOneField): # Ya manejado para OneToOne
                    field_info += ", UNIQUE"
                
                # El atributo 'null' en el campo del modelo se traduce a NULL/NOT NULL en la BD.
                # Por defecto, los campos no son null a menos que null=True.
                if field.null: # Si el campo PUEDE ser null
                    field_info += ", NULLABLE"
                else: # Si el campo NO PUEDE ser null
                    field_info += ", NOT NULL"

                if hasattr(field, 'default') and field.default is not models.NOT_PROVIDED:
                    default_val = field.default
                    if callable(default_val): # Si el default es una función (ej. timezone.now)
                        default_val_str = f"FUNCTION_DEFAULT" # O algo más descriptivo
                    elif isinstance(default_val, str):
                        default_val_str = f"'{default_val}'"
                    else:
                        default_val_str = str(default_val)
                    field_info += f", DEFAULT {default_val_str}"
                
                field_info += ")"
                if hasattr(field, 'choices') and field.choices:
                    choices_str = ", ".join([f"'{c[0]}'" for c in field.choices])
                    field_info += f" -- Valores: {choices_str}"
                
                output.append(field_info)
            output.append("")

        schema_description = "\n".join(output)
        self.stdout.write(schema_description)
        
        with open("schema_description.txt", "w") as f:
            f.write(schema_description)
        self.stdout.write(self.style.SUCCESS("Descripción del esquema guardada en schema_description.txt"))

================
File: app/static/css/secret/secret_voice_dash.css
================
/* Reset y Base */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #0f0f23 100%);
    color: #ffffff;
    overflow: hidden;
    height: 100vh;
    position: relative;
}

/* Sidebar */
.sidebar {
    position: fixed;
    left: 0;
    top: 0;
    width: 280px;
    height: 100vh;
    background: rgba(15, 15, 35, 0.95);
    backdrop-filter: blur(20px);
    border-right: 1px solid rgba(0, 212, 177, 0.2);
    z-index: 100;
    transition: transform 0.3s ease;
}

.sidebar-content {
    padding: 2rem;
    height: 100%;
    display: flex;
    flex-direction: column;
}

/* Brand */
.brand {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 3rem;
    padding-bottom: 2rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.brand-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #00d4b1, #00b89f);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: white;
    box-shadow: 0 8px 25px rgba(0, 212, 177, 0.3);
}

.brand-title {
    font-size: 1.5rem;
    font-weight: bold;
    background: linear-gradient(135deg, #00d4b1, #ffffff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: transparent;
}

.brand-subtitle {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.6);
}

/* Navigation */
.nav-menu {
    flex: 1;
}

.nav-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    margin-bottom: 0.5rem;
    border-radius: 12px;
    color: rgba(255, 255, 255, 0.7);
    text-decoration: none;
    transition: all 0.3s ease;
    border: 1px solid transparent;
}

.nav-item:hover {
    background: rgba(255, 255, 255, 0.05);
    color: #ffffff;
    border-color: rgba(0, 212, 177, 0.3);
    transform: translateX(5px);
}

.nav-item.active {
    background: rgba(0, 212, 177, 0.1);
    color: #00d4b1;
    border-color: rgba(0, 212, 177, 0.4);
    box-shadow: 0 4px 15px rgba(0, 212, 177, 0.2);
}

.nav-item i {
    font-size: 1.2rem;
    width: 20px;
    text-align: center;
}

/* Voice Status Card */
.voice-status-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(0, 212, 177, 0.2);
    border-radius: 12px;
    padding: 1.5rem;
    backdrop-filter: blur(10px);
    margin-top: auto;
}

.status-indicator {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
}

.status-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #00d4b1;
    box-shadow: 0 0 15px rgba(0, 212, 177, 0.6);
    animation: pulse 2s infinite;
    transition: background-color 0.3s ease;
}

@keyframes pulse {
    0%, 100% { 
        opacity: 1; 
        transform: scale(1);
        box-shadow: 0 0 15px rgba(0, 212, 177, 0.6);
    }
    50% { 
        opacity: 0.7; 
        transform: scale(1.1);
        box-shadow: 0 0 25px rgba(0, 212, 177, 0.8);
    }
}

.status-description {
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.5);
}

/* Main Content */
.main-content {
    margin-left: 280px;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
    z-index: 10;
    padding: 2rem;
}

/* AI Face Container */
.ai-face-container {
    position: relative;
    width: 400px;
    height: 400px;
    margin-bottom: 3rem;
    border-radius: 50%;
    overflow: hidden;
    box-shadow: 
        0 0 50px rgba(0, 212, 177, 0.3),
        inset 0 0 50px rgba(0, 0, 0, 0.3);
    transition: all 0.3s ease;
}

.ai-face-container:hover {
    box-shadow: 
        0 0 80px rgba(0, 212, 177, 0.5),
        inset 0 0 50px rgba(0, 0, 0, 0.3);
    transform: scale(1.02);
}

#faceCanvas {
    width: 100%;
    height: 100%;
    display: block;
    border-radius: 50%;
}

/* AI Status */
.ai-status {
    position: absolute;
    bottom: -80px;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    font-size: 1.2rem;
    color: rgba(255, 255, 255, 0.9);
    background: rgba(0, 0, 0, 0.4);
    padding: 1rem 2rem;
    border-radius: 25px;
    backdrop-filter: blur(15px);
    border: 1px solid rgba(0, 212, 177, 0.3);
    min-width: 300px;
    max-width: 500px;
    transition: all 0.3s ease;
    font-weight: 500;
}

.ai-status.response {
    border-color: rgba(0, 212, 177, 0.5);
    background: rgba(0, 212, 177, 0.1);
}

.ai-status.error {
    border-color: rgba(255, 107, 107, 0.5);
    background: rgba(255, 107, 107, 0.1);
    color: #ff6b6b;
}

/* Input Section */
.input-section {
    position: fixed;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    z-index: 100;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: center;
}

.input-container {
    display: flex;
    align-items: center;
    gap: 1rem;
    background: rgba(15, 15, 35, 0.95);
    backdrop-filter: blur(25px);
    border: 1px solid rgba(0, 212, 177, 0.3);
    border-radius: 30px;
    padding: 1rem 1.5rem;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
    transition: all 0.3s ease;
}

.input-container:hover {
    border-color: rgba(0, 212, 177, 0.5);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
}

.input-container:focus-within {
    border-color: rgba(0, 212, 177, 0.7);
    box-shadow: 
        0 20px 40px rgba(0, 0, 0, 0.5),
        0 0 30px rgba(0, 212, 177, 0.3);
}

.voice-input {
    background: transparent;
    border: none;
    outline: none;
    color: #ffffff;
    font-size: 1.1rem;
    padding: 0.5rem 1rem;
    width: 400px;
    border-radius: 20px;
    font-family: inherit;
}

.voice-input::placeholder {
    color: rgba(255, 255, 255, 0.5);
}

.voice-btn, .send-btn {
    width: 50px;
    height: 50px;
    border: none;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 1.2rem;
    position: relative;
    overflow: hidden;
}

.voice-btn {
    background: linear-gradient(135deg, #ff6b6b, #ee5a24);
    color: white;
    box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
}

.voice-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 8px 25px rgba(255, 107, 107, 0.6);
}

.voice-btn:active {
    transform: scale(0.95);
}

.voice-btn.recording {
    background: linear-gradient(135deg, #ff3838, #c92a2a);
    animation: recordPulse 1s infinite;
}

.voice-btn.recording::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, #ff3838, #c92a2a, #ff3838);
    border-radius: 50%;
    z-index: -1;
    animation: rotate 2s linear infinite;
}

@keyframes recordPulse {
    0%, 100% { 
        transform: scale(1);
        box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
    }
    50% { 
        transform: scale(1.05);
        box-shadow: 0 8px 30px rgba(255, 107, 107, 0.8);
    }
}

@keyframes rotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.send-btn {
    background: linear-gradient(135deg, #00d4b1, #00b89f);
    color: white;
    box-shadow: 0 4px 15px rgba(0, 212, 177, 0.4);
}

.send-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 8px 25px rgba(0, 212, 177, 0.6);
}

.send-btn:active {
    transform: scale(0.95);
}

.send-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
    background: rgba(108, 117, 125, 0.5);
}

/* Voice Controls */
.voice-controls {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    background: rgba(15, 15, 35, 0.9);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 25px;
    padding: 1rem 2rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    transition: all 0.3s ease;
}

.voice-controls:hover {
    border-color: rgba(0, 212, 177, 0.3);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
}

.control-btn {
    background: transparent;
    border: none;
    color: rgba(255, 255, 255, 0.7);
    font-size: 1.1rem;
    cursor: pointer;
    padding: 0.8rem;
    border-radius: 12px;
    transition: all 0.3s ease;
    position: relative;
}

.control-btn:hover {
    color: #00d4b1;
    background: rgba(0, 212, 177, 0.1);
    transform: translateY(-2px);
}

.control-btn:active {
    transform: translateY(0);
}

.volume-slider {
    display: flex;
    align-items: center;
    position: relative;
}

#volumeRange {
    width: 120px;
    height: 6px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
    outline: none;
    -webkit-appearance: none;
    transition: all 0.3s ease;
}

#volumeRange:hover {
    background: rgba(255, 255, 255, 0.3);
}

#volumeRange::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    background: linear-gradient(135deg, #00d4b1, #00b89f);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0, 212, 177, 0.4);
    transition: all 0.3s ease;
}

#volumeRange::-webkit-slider-thumb:hover {
    transform: scale(1.2);
    box-shadow: 0 4px 12px rgba(0, 212, 177, 0.6);
}

#volumeRange::-moz-range-thumb {
    width: 18px;
    height: 18px;
    background: linear-gradient(135deg, #00d4b1, #00b89f);
    border-radius: 50%;
    cursor: pointer;
    border: none;
    box-shadow: 0 2px 8px rgba(0, 212, 177, 0.4);
    transition: all 0.3s ease;
}

#volumeRange::-moz-range-thumb:hover {
    transform: scale(1.2);
    box-shadow: 0 4px 12px rgba(0, 212, 177, 0.6);
}

/* Efectos de estado */
.ai-face-container.listening {
    animation: listeningGlow 2s ease-in-out infinite alternate;
}

.ai-face-container.processing {
    animation: processingPulse 1s ease-in-out infinite;
}

.ai-face-container.speaking {
    animation: speakingEnergy 0.5s ease-in-out infinite alternate;
}

@keyframes listeningGlow {
    0% {
        box-shadow: 
            0 0 50px rgba(255, 215, 0, 0.4),
            inset 0 0 50px rgba(0, 0, 0, 0.3);
    }
    100% {
        box-shadow: 
            0 0 80px rgba(255, 215, 0, 0.8),
            inset 0 0 50px rgba(0, 0, 0, 0.3);
    }
}

@keyframes processingPulse {
    0%, 100% {
        box-shadow: 
            0 0 50px rgba(255, 149, 0, 0.3),
            inset 0 0 50px rgba(0, 0, 0, 0.3);
        transform: scale(1);
    }
    50% {
        box-shadow: 
            0 0 100px rgba(255, 149, 0, 0.7),
            inset 0 0 50px rgba(0, 0, 0, 0.3);
        transform: scale(1.02);
    }
}

@keyframes speakingEnergy {
    0% {
        box-shadow: 
            0 0 60px rgba(0, 191, 255, 0.5),
            inset 0 0 50px rgba(0, 0, 0, 0.3);
    }
    100% {
        box-shadow: 
            0 0 120px rgba(0, 191, 255, 0.9),
            inset 0 0 50px rgba(0, 0, 0, 0.3);
    }
}

/* Responsive Design */
@media (max-width: 768px) {
    .sidebar {
        transform: translateX(-100%);
        width: 250px;
    }
    
    .main-content {
        margin-left: 0;
        padding: 1rem;
    }
    
    .ai-face-container {
        width: 300px;
        height: 300px;
        margin-bottom: 2rem;
    }
    
    .voice-input {
        width: 250px;
        font-size: 1rem;
    }
    
    .input-container {
        margin: 0 1rem;
        padding: 0.8rem 1rem;
    }
    
    .voice-controls {
        padding: 0.8rem 1.5rem;
        gap: 1rem;
    }
    
    .ai-status {
        bottom: -60px;
        font-size: 1rem;
        padding: 0.8rem 1.5rem;
        min-width: 250px;
    }
    
    #volumeRange {
        width: 80px;
    }
}

@media (max-width: 480px) {
    .ai-face-container {
        width: 250px;
        height: 250px;
    }
    
    .voice-input {
        width: 200px;
    }
    
    .voice-controls {
        flex-wrap: wrap;
        justify-content: center;
    }
    
    .ai-status {
        font-size: 0.9rem;
        padding: 0.6rem 1rem;
        min-width: 200px;
    }
}

/* Animaciones adicionales */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* Aplicar animaciones de entrada */
.sidebar {
    animation: slideInLeft 0.6s ease-out;
}

.ai-face-container {
    animation: fadeInUp 0.8s ease-out 0.2s both;
}

.input-section {
    animation: fadeInUp 0.8s ease-out 0.4s both;
}

/* Estados de error mejorados */
.ai-face-container.error {
    animation: errorShake 0.5s ease-in-out;
    box-shadow: 
        0 0 50px rgba(255, 107, 107, 0.5),
        inset 0 0 50px rgba(0, 0, 0, 0.3);
}

@keyframes errorShake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

/* Efectos de partículas de fondo */
.main-content::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(circle at 20% 20%, rgba(0, 212, 177, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(0, 191, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 60%, rgba(255, 107, 107, 0.1) 0%, transparent 50%);
    pointer-events: none;
    z-index: -1;
}

/* Mejoras en accesibilidad */
.voice-btn:focus,
.send-btn:focus,
.control-btn:focus {
    outline: 2px solid rgba(0, 212, 177, 0.5);
    outline-offset: 2px;
}

.voice-input:focus {
    box-shadow: 0 0 0 2px rgba(0, 212, 177, 0.3);
}

/* Estados de carga */
.loading {
    position: relative;
    overflow: hidden;
}

.loading::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(0, 212, 177, 0.3),
        transparent
    );
    animation: shimmer 2s infinite;
}

@keyframes shimmer {
    0% { left: -100%; }
    100% { left: 100%; }
}

/* Scrollbar personalizado para elementos con scroll */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #00d4b1, #00b89f);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, #00b89f, #008f7f);
}

/* Efectos de hover mejorados */
.nav-item,
.control-btn,
.voice-btn,
.send-btn {
    position: relative;
    overflow: hidden;
}

.nav-item::before,
.control-btn::before,
.voice-btn::before,
.send-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    transform: translate(-50%, -50%);
    transition: width 0.3s ease, height 0.3s ease;
}

.nav-item:hover::before,
.control-btn:hover::before,
.voice-btn:hover::before,
.send-btn:hover::before {
    width: 100%;
    height: 100%;
}

/* Mejoras en el indicador de estado */
.status-dot {
    position: relative;
}

.status-dot::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: inherit;
    transform: translate(-50%, -50%);
    animation: ripple 2s infinite;
    opacity: 0.3;
}

@keyframes ripple {
    0% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.3;
    }
    100% {
        transform: translate(-50%, -50%) scale(2);
        opacity: 0;
    }
}

/* Transiciones suaves para cambios de tema */
* {
    transition: background-color 0.3s ease, 
                border-color 0.3s ease, 
                color 0.3s ease,
                box-shadow 0.3s ease;
}

/* Evitar transiciones en animaciones específicas */
.status-dot,
.voice-btn.recording,
.ai-face-container.listening,
.ai-face-container.processing,
.ai-face-container.speaking {
    transition: none;
}

================
File: app/static/css/secret_voice.css
================
/* Reset y Base */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Arial', sans-serif;
    background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #0f0f23 100%);
    color: #ffffff;
    overflow: hidden;
    height: 100vh;
}

/* Background Canvas */
#backgroundCanvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    opacity: 0.3;
}

/* Sidebar */
.sidebar {
    position: fixed;
    left: 0;
    top: 0;
    width: 280px;
    height: 100vh;
    background: rgba(15, 15, 35, 0.95);
    backdrop-filter: blur(20px);
    border-right: 1px solid rgba(0, 212, 177, 0.2);
    z-index: 100;
    transition: transform 0.3s ease;
}

.sidebar-content {
    padding: 2rem;
    height: 100%;
    display: flex;
    flex-direction: column;
}

/* Brand */
.brand {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 3rem;
    padding-bottom: 2rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.brand-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #00d4b1, #00b89f);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: white;
    box-shadow: 0 8px 25px rgba(0, 212, 177, 0.3);
}

.brand-title {
    font-size: 1.5rem;
    font-weight: bold;
    background: linear-gradient(135deg, #00d4b1, #ffffff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.brand-subtitle {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.6);
}

/* Navigation */
.nav-menu {
    flex: 1;
}

.nav-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    margin-bottom: 0.5rem;
    border-radius: 12px;
    color: rgba(255, 255, 255, 0.7);
    text-decoration: none;
    transition: all 0.3s ease;
    border: 1px solid transparent;
}

.nav-item:hover {
    background: rgba(255, 255, 255, 0.05);
    color: #ffffff;
    border-color: rgba(0, 212, 177, 0.3);
}

.nav-item.active {
    background: rgba(0, 212, 177, 0.1);
    color: #00d4b1;
    border-color: rgba(0, 212, 177, 0.4);
    box-shadow: 0 4px 15px rgba(0, 212, 177, 0.2);
}

.nav-item i {
    font-size: 1.2rem;
    width: 20px;
    text-align: center;
}

/* Voice Status Card */
.voice-status-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(0, 212, 177, 0.2);
    border-radius: 12px;
    padding: 1.5rem;
    backdrop-filter: blur(10px);
}

.status-indicator {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
}

.status-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #00d4b1;
    box-shadow: 0 0 15px rgba(0, 212, 177, 0.6);
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.7; transform: scale(1.1); }
}

.status-description {
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.5);
}

/* Main Content */
.main-content {
    margin-left: 280px;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
    z-index: 10;
}

/* AI Face Container */
.ai-face-container {
    position: relative;
    width: 400px;
    height: 400px;
    margin-bottom: 3rem;
}

#faceCanvas {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    box-shadow: 
        0 0 50px rgba(0, 212, 177, 0.3),
        inset 0 0 50px rgba(0, 0, 0, 0.3);
}

/* Face Features */
.face-features {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.eye {
    position: absolute;
    width: 60px;
    height: 60px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 50%;
    top: 30%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.2);
}

.left-eye {
    left: 25%;
}

.right-eye {
    right: 25%;
}

.pupil {
    width: 30px;
    height: 30px;
    background: #1a1a2e;
    border-radius: 50%;
    transition: all 0.3s ease;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}

.mouth {
    position: absolute;
    width: 80px;
    height: 40px;
    bottom: 25%;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255, 100, 100, 0.8);
    border-radius: 0 0 40px 40px;
    overflow: hidden;
    transition: all 0.3s ease;
}

.mouth-inner {
    width: 100%;
    height: 100%;
    background: rgba(139, 0, 0, 0.9);
    border-radius: 0 0 40px 40px;
    transform: scaleY(0.3);
    transition: all 0.3s ease;
}

.mouth.speaking {
    animation: speak 0.3s ease-in-out infinite alternate;
}

.mouth.speaking .mouth-inner {
    transform: scaleY(1);
}

@keyframes speak {
    0% { transform: translateX(-50%) scaleY(0.8); }
    100% { transform: translateX(-50%) scaleY(1.2); }
}

.ai-status {
    position: absolute;
    bottom: -80px;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    font-size: 1.2rem;
    color: rgba(255, 255, 255, 0.8);
    background: rgba(0, 0, 0, 0.3);
    padding: 1rem 2rem;
    border-radius: 25px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(0, 212, 177, 0.3);
    min-width: 300px;
    transition: all 0.3s ease;
}

/* Input Section */
.input-section {
    position: fixed;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    z-index: 100;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: center;
}

.input-container {
    display: flex;
    align-items: center;
    gap: 1rem;
    background: rgba(15, 15, 35, 0.9);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(0, 212, 177, 0.3);
    border-radius: 25px;
    padding: 1rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.voice-input {
    background: transparent;
    border: none;
    outline: none;
    color: #ffffff;
    font-size: 1.1rem;
    padding: 0.5rem 1rem;
    width: 400px;
    border-radius: 20px;
}

.voice-input::placeholder {
    color: rgba(255, 255, 255, 0.5);
}

.voice-btn, .send-btn {
    width: 50px;
    height: 50px;
    border: none;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 1.2rem;
}

.voice-btn {
    background: linear-gradient(135deg, #ff6b6b, #ee5a24);
    color: white;
    box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
}

.voice-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
}

.voice-btn.recording {
    background: linear-gradient(135deg, #ff3838, #c92a2a);
    animation: recordPulse 1s infinite;
}

@keyframes recordPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

.send-btn {
    background: linear-gradient(135deg, #00d4b1, #00b89f);
    color: white;
    box-shadow: 0 4px 15px rgba(0, 212, 177, 0.4);
}

.send-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(0, 212, 177, 0.6);
}

.send-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

/* Voice Controls */
.voice-controls {
    display: flex;
    align-items: center;
    gap: 1rem;
    background: rgba(15, 15, 35, 0.8);
    backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    padding: 0.8rem 1.5rem;
}

.control-btn {
    background: transparent;
    border: none;
    color: rgba(255, 255, 255, 0.7);
    font-size: 1.1rem;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.control-btn:hover {
    color: #00d4b1;
    background: rgba(0, 212, 177, 0.1);
}

.volume-slider {
    display: flex;
    align-items: center;
}

#volumeRange {
    width: 100px;
    height: 4px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 2px;
    outline: none;
    -webkit-appearance: none;
}

#volumeRange::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 16px;
    height: 16px;
    background: linear-gradient(135deg, #00d4b1, #00b89f);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0, 212, 177, 0.4);
}

#volumeRange::-moz-range-thumb {
    width: 16px;
    height: 16px;
    background: linear-gradient(135deg, #00d4b1, #00b89f);
    border-radius: 50%;
    cursor: pointer;
    border: none;
    box-shadow: 0 2px 8px rgba(0, 212, 177, 0.4);
}

/* Estados de la cara */
.ai-face-container.listening .eye .pupil {
    animation: lookAround 2s infinite;
}

.ai-face-container.processing .eye .pupil {
    animation: think 1s infinite;
}

.ai-face-container.speaking .eye .pupil {
    transform: scale(0.8);
}

@keyframes lookAround {
    0%, 100% { transform: translate(0, 0); }
    25% { transform: translate(5px, -3px); }
    50% { transform: translate(-3px, 5px); }
    75% { transform: translate(3px, 3px); }
}

@keyframes think {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
}

/* Responsive */
@media (max-width: 768px) {
    .sidebar {
        transform: translateX(-100%);
        width: 250px;
    }
    
    .main-content {
        margin-left: 0;
    }
    
    .ai-face-container {
        width: 300px;
        height: 300px;
    }
    
    .voice-input {
        width: 250px;
    }
    
    .input-container {
        margin: 0 1rem;
    }
}

================
File: app/static/css/secret.css
================
:root {
    --mint: #00d4b1;
    --mint-glow: rgba(0, 212, 177, 0.3);
    --mint-dark: #00b89f;
    --bg-primary: #0a0a0a;
    --bg-secondary: #0f0f0f;
    --surface: #151515;
    --surface-elevated: #1a1a1a;
    --border: #1e1e1e;
    --border-glow: #2a2a2a;
    --text-primary: #ffffff;
    --text-secondary: #9ca3af;
    --text-tertiary: #6b7280;
    --input-bg: #1a1a1a;
    --sidebar-width: 280px;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    color: var(--text-primary);
    line-height: 1.5;
    font-weight: 400;
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden;
}

/* Launch Screen */
.launch-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--bg-primary);
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 3rem;
}

.launch-screen.hide {
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.8s ease-out;
}

.welcome-content {
    text-align: center;
    max-width: 500px;
}

.ai-logo {
    width: 120px;
    height: 120px;
    background: linear-gradient(135deg, var(--mint) 0%, var(--mint-dark) 100%);
    border-radius: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 3rem;
    color: var(--bg-primary);
    box-shadow: 0 0 60px var(--mint-glow);
    margin: 0 auto 2rem;
    position: relative;
}

.ai-logo::before {
    content: '';
    position: absolute;
    inset: -4px;
    border-radius: 28px;
    background: linear-gradient(135deg, var(--mint), var(--mint-dark));
    z-index: -1;
    filter: blur(20px);
    opacity: 0.7;
}

.welcome-title {
    font-size: 2.5rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
}

.welcome-subtitle {
    font-size: 1.2rem;
    color: var(--text-secondary);
    margin-bottom: 3rem;
    line-height: 1.6;
}

.launch-button {
    background: linear-gradient(135deg, var(--mint) 0%, var(--mint-dark) 100%);
    border: none;
    border-radius: 16px;
    color: var(--bg-primary);
    font-size: 1.1rem;
    font-weight: 600;
    padding: 1rem 2.5rem;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.launch-button::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: 18px;
    background: linear-gradient(135deg, var(--mint), var(--mint-dark));
    z-index: -1;
    filter: blur(15px);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.launch-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px var(--mint-glow);
}

.launch-button:hover::before {
    opacity: 0.7;
}

.launch-button:active {
    transform: translateY(0);
}

/* Animation Screen - MAS PROTAGONISMO */
.animation-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at center, var(--bg-secondary) 0%, var(--bg-primary) 70%);
    z-index: 9999;
    display: none;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 3rem;
    overflow: hidden;
}

.animation-screen.show {
    display: flex;
}

.animation-screen.hide {
    opacity: 0;
    pointer-events: none;
    transition: opacity 1.2s ease-out;
}

/* Animated Background Grid */
.animated-grid {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        linear-gradient(rgba(0, 212, 177, 0.15) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 212, 177, 0.15) 1px, transparent 1px);
    background-size: 30px 30px;
    animation: gridPulse 4s ease-in-out infinite;
    z-index: 1;
}

@keyframes gridPulse {
    0%, 100% { 
        opacity: 0.3;
        transform: scale(1);
    }
    50% { 
        opacity: 0.8;
        transform: scale(1.02);
    }
}

/* Enhanced Matrix Canvas */
#matrix-canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.6;
    z-index: 2;
}

/* Floating Orbs Enhanced */
.loading-orb {
    position: absolute;
    border-radius: 50%;
    background: radial-gradient(circle, var(--mint-glow) 0%, transparent 70%);
    filter: blur(20px);
    animation: orbFloat 6s ease-in-out infinite;
}

.loading-orb.orb1 {
    width: 200px;
    height: 200px;
    top: 15%;
    left: 20%;
    animation-delay: 0s;
}

.loading-orb.orb2 {
    width: 150px;
    height: 150px;
    top: 60%;
    right: 25%;
    animation-delay: 2s;
}

.loading-orb.orb3 {
    width: 100px;
    height: 100px;
    bottom: 20%;
    left: 60%;
    animation-delay: 4s;
}

@keyframes orbFloat {
    0%, 100% { 
        transform: translate(0px, 0px) scale(1);
        opacity: 0.3;
    }
    33% { 
        transform: translate(30px, -20px) scale(1.1);
        opacity: 0.6;
    }
    66% { 
        transform: translate(-20px, 20px) scale(0.9);
        opacity: 0.4;
    }
}

/* Logo más dramático */
.loading-logo {
    width: 140px;
    height: 140px;
    background: linear-gradient(135deg, var(--mint) 0%, var(--mint-dark) 100%);
    border-radius: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 3.5rem;
    color: var(--bg-primary);
    box-shadow: 
        0 0 80px var(--mint-glow),
        0 0 40px var(--mint),
        inset 0 0 20px rgba(255, 255, 255, 0.1);
    animation: logoEpic 3s ease-in-out infinite;
    position: relative;
    z-index: 10;
    border: 2px solid rgba(0, 212, 177, 0.3);
}

.loading-logo::before {
    content: '';
    position: absolute;
    inset: -6px;
    border-radius: 34px;
    background: linear-gradient(135deg, var(--mint), var(--mint-dark));
    z-index: -1;
    filter: blur(25px);
    opacity: 0.8;
    animation: logoGlow 2s ease-in-out infinite alternate;
}

.loading-logo::after {
    content: '';
    position: absolute;
    inset: -12px;
    border-radius: 40px;
    background: linear-gradient(45deg, var(--mint), transparent, var(--mint-dark), transparent);
    z-index: -2;
    filter: blur(40px);
    opacity: 0.4;
    animation: logoAura 4s linear infinite;
}

@keyframes logoEpic {
    0%, 100% { 
        transform: translateY(0px) scale(1) rotate(0deg);
    }
    25% { 
        transform: translateY(-15px) scale(1.05) rotate(1deg);
    }
    50% { 
        transform: translateY(-5px) scale(1.08) rotate(0deg);
    }
    75% { 
        transform: translateY(-10px) scale(1.03) rotate(-1deg);
    }
}

@keyframes logoGlow {
    0% { opacity: 0.6; }
    100% { opacity: 1; }
}

@keyframes logoAura {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Texto más impactante */
.loading-text {
    color: var(--text-primary);
    font-size: 1.8rem;
    font-weight: 600;
    letter-spacing: 0.1em;
    opacity: 0;
    animation: textReveal 0.8s ease-out 0.5s forwards;
    position: relative;
    z-index: 10;
    text-shadow: 0 0 20px rgba(0, 212, 177, 0.5);
}

@keyframes textReveal {
    0% {
        opacity: 0;
        transform: translateY(30px);
        letter-spacing: 0.3em;
    }
    100% {
        opacity: 1;
        transform: translateY(0);
        letter-spacing: 0.1em;
    }
}

/* Subtexto dinámico */
.loading-subtext {
    color: var(--text-secondary);
    font-size: 1rem;
    font-weight: 400;
    margin-top: 0.5rem;
    opacity: 0;
    animation: subtextFade 1s ease-out 1s forwards;
    z-index: 10;
    position: relative;
}

@keyframes subtextFade {
    0% { opacity: 0; transform: translateY(20px); }
    100% { opacity: 0.8; transform: translateY(0); }
}

/* Progress bar épica */
.loading-progress {
    width: 400px;
    height: 6px;
    background: var(--border);
    border-radius: 6px;
    overflow: hidden;
    position: relative;
    z-index: 10;
    box-shadow: 
        0 0 20px rgba(0, 0, 0, 0.5),
        inset 0 0 10px rgba(0, 0, 0, 0.3);
}

.loading-bar {
    height: 100%;
    background: linear-gradient(90deg, 
        var(--mint) 0%, 
        #ffffff 25%, 
        var(--mint) 50%, 
        var(--mint-dark) 75%, 
        var(--mint) 100%);
    border-radius: 6px;
    width: 0%;
    animation: loadingProgressEpic 4s ease-out forwards;
    box-shadow: 
        0 0 30px var(--mint-glow),
        0 0 15px var(--mint);
    position: relative;
}

.loading-bar::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255, 255, 255, 0.4) 50%, 
        transparent 100%);
    animation: progressShine 1.5s ease-in-out infinite;
}

@keyframes loadingProgressEpic {
    0% { width: 0%; }
    15% { width: 20%; }
    30% { width: 45%; }
    50% { width: 65%; }
    70% { width: 85%; }
    85% { width: 95%; }
    100% { width: 100%; }
}

@keyframes progressShine {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(400px); }
}

/* Porcentaje dinámico */
.loading-percentage {
    color: var(--mint);
    font-size: 1.2rem;
    font-weight: 700;
    margin-top: 1rem;
    opacity: 0;
    animation: percentageFade 0.5s ease-out 1.5s forwards;
    z-index: 10;
    position: relative;
    text-shadow: 0 0 10px var(--mint-glow);
}

@keyframes percentageFade {
    0% { opacity: 0; }
    100% { opacity: 1; }
}

/* Partículas flotantes */
.particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: var(--mint);
    border-radius: 50%;
    box-shadow: 0 0 10px var(--mint-glow);
    animation: particleFloat 8s linear infinite;
    z-index: 3;
}

@keyframes particleFloat {
    0% {
        transform: translateY(100vh) translateX(0px) scale(0);
        opacity: 0;
    }
    10% {
        opacity: 1;
        transform: scale(1);
    }
    90% {
        opacity: 1;
    }
    100% {
        transform: translateY(-10vh) translateX(var(--random-x)) scale(0);
        opacity: 0;
    }
}

/* Futuristic Background Effects */
.bg-effects {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
}

.grid-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        linear-gradient(rgba(0, 212, 177, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 212, 177, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: gridMove 20s linear infinite;
}

@keyframes gridMove {
    0% { transform: translate(0, 0); }
    100% { transform: translate(50px, 50px); }
}

.glow-orb {
    position: absolute;
    width: 300px;
    height: 300px;
    border-radius: 50%;
    background: radial-gradient(circle, var(--mint-glow) 0%, transparent 70%);
    filter: blur(40px);
    animation: float 8s ease-in-out infinite;
}

.glow-orb.orb1 {
    top: 10%;
    left: 80%;
    animation-delay: 0s;
}

.glow-orb.orb2 {
    bottom: 20%;
    left: 10%;
    animation-delay: 4s;
}

@keyframes float {
    0%, 100% { transform: translateY(0px) translateX(0px); }
    50% { transform: translateY(-30px) translateX(20px); }
}

/* Main content initially hidden */
.main-app {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.8s ease-out;
}

.main-app.loaded {
    opacity: 1;
    transform: translateY(0);
}

/* Futuristic Sidebar */
.sidebar {
    position: fixed;
    left: 0;
    top: 0;
    width: var(--sidebar-width);
    height: 100vh;
    background: linear-gradient(180deg, var(--surface) 0%, var(--surface-elevated) 100%);
    border-right: 1px solid var(--border);
    backdrop-filter: blur(20px);
    z-index: 1000;
    display: flex;
    flex-direction: column;
    box-shadow: 0 0 50px rgba(0, 212, 177, 0.1);
}

.sidebar::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 1px;
    height: 100%;
    background: linear-gradient(180deg, transparent 0%, var(--mint) 50%, transparent 100%);
    opacity: 0.5;
}

/* Brand Section */
.brand-section {
    padding: 2rem 1.5rem;
    border-bottom: 1px solid var(--border);
    position: relative;
}

.brand {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.brand-icon {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, var(--mint) 0%, var(--mint-dark) 100%);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--bg-primary);
    font-size: 1.25rem;
    box-shadow: 0 4px 20px var(--mint-glow);
}

.brand-text {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
    letter-spacing: -0.02em;
}

.brand-subtitle {
    font-size: 0.75rem;
    color: var(--text-tertiary);
    margin-top: 0.25rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Navigation */
.nav-section {
    flex: 1;
    padding: 2rem 0;
}

.nav-item {
    margin: 0.5rem 1.5rem;
    position: relative;
}

.nav-link {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.25rem;
    color: var(--text-secondary);
    text-decoration: none;
    border-radius: 12px;
    transition: all 0.3s ease;
    font-size: 0.875rem;
    font-weight: 500;
    position: relative;
    overflow: hidden;
}

.nav-link::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 0;
    height: 100%;
    background: linear-gradient(90deg, var(--mint-glow) 0%, transparent 100%);
    transition: width 0.3s ease;
    z-index: -1;
}

.nav-link:hover {
    color: var(--text-primary);
    background: var(--surface-elevated);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.nav-link:hover::before {
    width: 100%;
}

.nav-link.active {
    color: var(--text-primary);
    background: var(--surface-elevated);
    border: 1px solid var(--border-glow);
}

.nav-link.active::before {
    width: 100%;
}

.nav-icon {
    width: 20px;
    text-align: center;
    font-size: 1rem;
}

/* Status Section */
.status-section {
    padding: 1.5rem;
    border-top: 1px solid var(--border);
}

.status-card {
    background: var(--surface-elevated);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 1rem;
    text-align: center;
}

.status-indicator {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--mint);
    font-size: 0.875rem;
    font-weight: 500;
    margin-bottom: 0.5rem;
}

.status-dot {
    width: 8px;
    height: 8px;
    background-color: var(--mint);
    border-radius: 50%;
    box-shadow: 0 0 10px var(--mint-glow);
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.2); opacity: 0.7; }
    100% { transform: scale(1); opacity: 1; }
}

.status-text {
    color: var(--text-tertiary);
    font-size: 0.75rem;
}

/* Main Content */
.main-content {
    margin-left: var(--sidebar-width);
    min-height: 100vh;
    position: relative;
    z-index: 1;
}

.content-container {
    padding: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
}

/* Futuristic Chat Interface */
.chat-interface {
    width: 100%;
    max-width: 900px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 24px;
    overflow: hidden;
    height: 80vh;
    display: flex;
    flex-direction: column;
    box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.5),
        0 0 0 1px rgba(0, 212, 177, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px);
    position: relative;
}

.chat-interface::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent 0%, var(--mint) 50%, transparent 100%);
    opacity: 0.7;
}

/* Chat Header */
.chat-header {
    padding: 2rem 2.5rem 1.5rem;
    border-bottom: 1px solid var(--border);
    background: linear-gradient(135deg, var(--surface) 0%, var(--surface-elevated) 100%);
    position: relative;
}

.chat-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
    letter-spacing: -0.02em;
}

.chat-description {
    color: var(--text-tertiary);
    font-size: 0.875rem;
    margin-top: 0.5rem;
    font-weight: 400;
}

/* Messages Area */
.messages-container {
    flex: 1;
    overflow-y: auto;
    padding: 2.5rem;
    background: var(--bg-primary);
}

.messages-container::-webkit-scrollbar {
    width: 4px;
}

.messages-container::-webkit-scrollbar-track {
    background: transparent;
}

.messages-container::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 4px;
}

.messages-container::-webkit-scrollbar-thumb:hover {
    background: var(--mint);
}

/* Message Styling */
.message {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
    max-width: 75%;
    animation: messageSlide 0.5s ease-out;
}

@keyframes messageSlide {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.message.user {
    margin-left: auto;
    flex-direction: row-reverse;
}

.avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    font-size: 0.875rem;
    position: relative;
}

.avatar.ai {
    background: linear-gradient(135deg, var(--mint) 0%, var(--mint-dark) 100%);
    color: var(--bg-primary);
    box-shadow: 0 4px 20px var(--mint-glow);
}

.avatar.ai::after {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--mint), var(--mint-dark));
    z-index: -1;
    filter: blur(4px);
    opacity: 0.5;
}

.avatar.user {
    background: linear-gradient(135deg, #4f46e5 0%, #3b82f6 100%);
    color: var(--text-primary);
    border: 1px solid rgba(79, 70, 229, 0.3);
    box-shadow: 0 4px 20px rgba(79, 70, 229, 0.3);
}

.avatar.user::after {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: 50%;
    background: linear-gradient(135deg, #4f46e5, #3b82f6);
    z-index: -1;
    filter: blur(4px);
    opacity: 0.3;
}

.message-bubble {
    padding: 1.25rem 1.75rem;
    border-radius: 20px;
    font-size: 0.9375rem;
    line-height: 1.6;
    font-weight: 400;
    position: relative;
}

.message.ai .message-bubble {
    background: var(--surface);
    color: var(--text-primary);
    border: 1px solid var(--border);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.message.user .message-bubble {
    background: linear-gradient(135deg, var(--mint) 0%, var(--mint-dark) 100%);
    color: var(--bg-primary);
    box-shadow: 0 4px 20px var(--mint-glow);
}

/* Input Area */
.input-area {
    padding: 2rem 2.5rem;
    border-top: 1px solid var(--border);
    background: linear-gradient(135deg, var(--surface) 0%, var(--surface-elevated) 100%);
}

.input-container {
    display: flex;
    gap: 1rem;
    align-items: flex-end;
    background: var(--input-bg);
    border: 1px solid var(--border);
    border-radius: 24px;
    padding: 0.75rem;
    transition: all 0.3s ease;
}

.input-container:focus-within {
    border-color: var(--mint);
    box-shadow: 0 0 20px var(--mint-glow);
}

.message-input {
    flex: 1;
    background: transparent;
    border: none;
    color: var(--text-primary);
    font-size: 0.9375rem;
    resize: none;
    min-height: 24px;
    max-height: 120px;
    line-height: 1.5;
    padding: 0.5rem 1rem;
}

.message-input:focus {
    outline: none;
}

.message-input::placeholder {
    color: var(--text-tertiary);
}

.send-button {
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, var(--mint) 0%, var(--mint-dark) 100%);
    border: none;
    border-radius: 50%;
    color: var(--bg-primary);
    font-size: 1.125rem;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    flex-shrink: 0;
    position: relative;
}

.send-button::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--mint), var(--mint-dark));
    z-index: -1;
    filter: blur(8px);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.send-button:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 20px var(--mint-glow);
}

.send-button:hover::before {
    opacity: 0.7;
}

.send-button:active {
    transform: scale(0.95);
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .sidebar {
        transform: translateX(-100%);
        transition: transform 0.3s ease;
    }
    
    .sidebar.mobile-open {
        transform: translateX(0);
    }
    
    .main-content {
        margin-left: 0;
    }
    
    .content-container {
        padding: 1.5rem;
    }
    
    .chat-interface {
        height: 85vh;
        border-radius: 20px;
    }
    
    .chat-header {
        padding: 1.5rem 2rem 1rem;
    }
    
    .messages-container {
        padding: 2rem;
    }
    
    .input-area {
        padding: 1.5rem 2rem;
    }
    
    .message {
        max-width: 85%;
    }

    .welcome-title {
        font-size: 2rem;
    }

    .welcome-subtitle {
        font-size: 1rem;
    }
}

/* Mobile menu button */
.mobile-menu-btn {
    display: none;
    position: fixed;
    top: 1rem;
    left: 1rem;
    z-index: 1001;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    width: 48px;
    height: 48px;
    color: var(--text-primary);
    font-size: 1.125rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.mobile-menu-btn:hover {
    background: var(--surface-elevated);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

@media (max-width: 768px) {
    .mobile-menu-btn {
        display: flex;
        align-items: center;
        justify-content: center;
    }
}

================
File: app/static/js/secret/secret_voice_face.js
================
// ==========================================
// CARA FUTURÍSTICA WEBGL - HUMANOIDE
// ==========================================

// Variables globales
let scene, camera, renderer, clock;
let faceGroup, eyeLeft, eyeRight, mouth;
let faceCanvas;
let mouseX = 0, mouseY = 0;
let faceState = 'idle'; // idle, listening, processing, speaking
let energyLevel = 0;
let speakingIntensity = 0;

// Configuración de la cara
const faceConfig = {
    canvas: null,
    width: 400,
    height: 400,
    cameraDistance: 5,
    colors: {
        idle: 0x00d4b1,
        listening: 0xffd700,
        processing: 0xff9500,
        speaking: 0x00bfff,
        error: 0xff6b6b
    },
    face: {
        radius: 1.5,
        detail: 32
    },
    eyes: {
        radius: 0.2,
        distance: 0.4,
        height: 0.3
    },
    mouth: {
        width: 0.6,
        height: 0.2,
        depth: 0.1
    }
};

// Shaders personalizados para efectos
const faceVertexShader = `
    uniform float time;
    uniform float energy;
    varying vec2 vUv;
    varying vec3 vNormal;
    varying vec3 vPosition;
    
    void main() {
        vUv = uv;
        vNormal = normalize(normalMatrix * normal);
        
        vec3 pos = position;
        
        // Efecto de ondas basado en energía
        float wave = sin(pos.x * 10.0 + time * 5.0) * sin(pos.y * 10.0 + time * 3.0);
        pos += normal * wave * energy * 0.1;
        
        vPosition = pos;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
    }
`;

const faceFragmentShader = `
    uniform float time;
    uniform float energy;
    uniform vec3 baseColor;
    uniform vec2 mouse;
    varying vec2 vUv;
    varying vec3 vNormal;
    varying vec3 vPosition;
    
    void main() {
        vec3 color = baseColor;
        
        // Gradiente base
        float gradient = dot(vNormal, vec3(0.0, 0.0, 1.0));
        color *= 0.7 + gradient * 0.3;
        
        // Patrones de circuitos
        float circuit1 = step(0.98, sin(vUv.x * 50.0 + time)) * step(0.98, sin(vUv.y * 30.0));
        float circuit2 = step(0.95, sin(vUv.x * 30.0 - time)) * step(0.95, sin(vUv.y * 50.0));
        
        color += vec3(circuit1 + circuit2) * energy * 0.5;
        
        // Efecto de mouse
        float mouseDistance = distance(vUv, mouse);
        float mouseEffect = 1.0 - smoothstep(0.0, 0.3, mouseDistance);
        color += vec3(0.2, 0.4, 0.8) * mouseEffect * 0.3;
        
        // Pulso de energía
        float pulse = sin(time * 8.0) * 0.5 + 0.5;
        color += baseColor * energy * pulse * 0.2;
        
        gl_FragColor = vec4(color, 1.0);
    }
`;

// Inicializar la cara futurística
function initializeFuturisticFace() {
    console.log('🎭 Inicializando cara futurística WebGL...');
    
    faceCanvas = document.getElementById('faceCanvas');
    if (!faceCanvas) {
        console.error('❌ Canvas no encontrado');
        return;
    }
    
    setupThreeJS();
    createFaceGeometry();
    setupLighting();
    setupEventListeners();
    
    animate();
    
    console.log('✅ Cara futurística inicializada');
}

// Configurar Three.js
function setupThreeJS() {
    const container = document.querySelector('.ai-face-container');
    const size = Math.min(container.clientWidth, container.clientHeight);
    
    faceConfig.width = size;
    faceConfig.height = size;
    
    // Escena
    scene = new THREE.Scene();
    scene.background = new THREE.Color(0x0a0a0a);
    
    // Cámara
    camera = new THREE.PerspectiveCamera(
        50,
        faceConfig.width / faceConfig.height,
        0.1,
        1000
    );
    camera.position.z = faceConfig.cameraDistance;
    
    // Renderer
    renderer = new THREE.WebGLRenderer({
        canvas: faceCanvas,
        antialias: true,
        alpha: true
    });
    renderer.setSize(faceConfig.width, faceConfig.height);
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    renderer.shadowMap.enabled = true;
    renderer.shadowMap.type = THREE.PCFSoftShadowMap;
    
    // Clock para animaciones
    clock = new THREE.Clock();
}

// Crear geometría de la cara
function createFaceGeometry() {
    // Grupo principal de la cara
    faceGroup = new THREE.Group();
    
    // Crear cara base
    createFaceBase();
    
    // Crear ojos
    createEyes();
    
    // Crear boca
    createMouth();
    
    scene.add(faceGroup);
}

// Crear base de la cara
function createFaceBase() {
    const geometry = new THREE.SphereGeometry(
        faceConfig.face.radius,
        faceConfig.face.detail,
        faceConfig.face.detail
    );
    
    // Aplanar ligeramente para forma más humana
    const positions = geometry.attributes.position.array;
    for (let i = 0; i < positions.length; i += 3) {
        positions[i + 2] *= 0.8; // Aplanar en Z
    }
    geometry.attributes.position.needsUpdate = true;
    geometry.computeVertexNormals();
    
    const material = new THREE.ShaderMaterial({
        uniforms: {
            time: { value: 0 },
            energy: { value: 0 },
            baseColor: { value: new THREE.Color(faceConfig.colors.idle) },
            mouse: { value: new THREE.Vector2(0.5, 0.5) }
        },
        vertexShader: faceVertexShader,
        fragmentShader: faceFragmentShader,
        transparent: true
    });
    
    const faceMesh = new THREE.Mesh(geometry, material);
    faceMesh.name = 'faceBase';
    faceGroup.add(faceMesh);
}

// Crear ojos
function createEyes() {
    // Geometría del ojo
    const eyeGeometry = new THREE.SphereGeometry(faceConfig.eyes.radius, 16, 16);
    
    // Material del ojo
    const eyeMaterial = new THREE.MeshPhongMaterial({
        color: 0x87ceeb,
        shininess: 100,
        transparent: true,
        opacity: 0.9
    });
    
    // Ojo izquierdo
    eyeLeft = new THREE.Mesh(eyeGeometry, eyeMaterial);
    eyeLeft.position.set(-faceConfig.eyes.distance, faceConfig.eyes.height, 1.2);
    eyeLeft.name = 'eyeLeft';
    
    // Ojo derecho
    eyeRight = new THREE.Mesh(eyeGeometry, eyeMaterial);
    eyeRight.position.set(faceConfig.eyes.distance, faceConfig.eyes.height, 1.2);
    eyeRight.name = 'eyeRight';
    
    // Pupilas
    const pupilGeometry = new THREE.SphereGeometry(faceConfig.eyes.radius * 0.5, 8, 8);
    const pupilMaterial = new THREE.MeshBasicMaterial({ color: 0x1a1a2e });
    
    const pupilLeft = new THREE.Mesh(pupilGeometry, pupilMaterial);
    pupilLeft.position.z = 0.1;
    eyeLeft.add(pupilLeft);
    
    const pupilRight = new THREE.Mesh(pupilGeometry, pupilMaterial);
    pupilRight.position.z = 0.1;
    eyeRight.add(pupilRight);
    
    faceGroup.add(eyeLeft);
    faceGroup.add(eyeRight);
}

// Crear boca
function createMouth() {
    const mouthGeometry = new THREE.RingGeometry(
        faceConfig.mouth.width * 0.3,
        faceConfig.mouth.width * 0.5,
        8,
        1,
        0,
        Math.PI
    );
    
    const mouthMaterial = new THREE.MeshPhongMaterial({
        color: 0xff6b6b,
        transparent: true,
        opacity: 0.8,
        side: THREE.DoubleSide
    });
    
    mouth = new THREE.Mesh(mouthGeometry, mouthMaterial);
    mouth.position.set(0, -faceConfig.mouth.height, 1);
    mouth.rotation.x = Math.PI;
    mouth.name = 'mouth';
    
    faceGroup.add(mouth);
}

// Configurar iluminación
function setupLighting() {
    // Luz ambiental
    const ambientLight = new THREE.AmbientLight(0x404040, 0.6);
    scene.add(ambientLight);
    
    // Luces direccionales
    const frontLight = new THREE.DirectionalLight(0xffffff, 0.8);
    frontLight.position.set(0, 0, 5);
    scene.add(frontLight);
    
    const backLight = new THREE.DirectionalLight(0x00d4b1, 0.3);
    backLight.position.set(0, 0, -5);
    scene.add(backLight);
    
    // Luces puntuales para efectos
    const leftLight = new THREE.PointLight(0x00bfff, 0.5, 10);
    leftLight.position.set(-3, 1, 2);
    scene.add(leftLight);
    
    const rightLight = new THREE.PointLight(0xff6b6b, 0.5, 10);
    rightLight.position.set(3, 1, 2);
    scene.add(rightLight);
}

// Configurar event listeners
function setupEventListeners() {
    // Seguimiento del mouse
    faceCanvas.addEventListener('mousemove', (event) => {
        const rect = faceCanvas.getBoundingClientRect();
        mouseX = ((event.clientX - rect.left) / rect.width) * 2 - 1;
        mouseY = -((event.clientY - rect.top) / rect.height) * 2 + 1;
        
        // Actualizar uniforme del shader
        const faceMesh = faceGroup.getObjectByName('faceBase');
        if (faceMesh) {
            faceMesh.material.uniforms.mouse.value.set(
                (mouseX + 1) * 0.5,
                (mouseY + 1) * 0.5
            );
        }
    });
    
    // Redimensionar
    window.addEventListener('resize', () => {
        const container = document.querySelector('.ai-face-container');
        const size = Math.min(container.clientWidth, container.clientHeight);
        
        faceConfig.width = size;
        faceConfig.height = size;
        
        camera.aspect = faceConfig.width / faceConfig.height;
        camera.updateProjectionMatrix();
        renderer.setSize(faceConfig.width, faceConfig.height);
    });
}

// Bucle de animación
function animate() {
    requestAnimationFrame(animate);
    
    const elapsedTime = clock.getElapsedTime();
    
    updateFaceAnimations(elapsedTime);
    updateEyeAnimations(elapsedTime);
    updateMouthAnimations(elapsedTime);
    
    renderer.render(scene, camera);
}

// Actualizar animaciones de la cara
function updateFaceAnimations(time) {
    if (!faceGroup) return;
    
    const faceMesh = faceGroup.getObjectByName('faceBase');
    if (!faceMesh) return;
    
    // Actualizar uniforms del shader
    faceMesh.material.uniforms.time.value = time;
    faceMesh.material.uniforms.energy.value = energyLevel;
    
    // Rotación sutil
    faceGroup.rotation.y = Math.sin(time * 0.5) * 0.1;
    faceGroup.rotation.x = Math.sin(time * 0.3) * 0.05;
    
    // Actualizar color según estado
    const targetColor = new THREE.Color(faceConfig.colors[faceState]);
    faceMesh.material.uniforms.baseColor.value.lerp(targetColor, 0.05);
}

// Actualizar animaciones de los ojos
function updateEyeAnimations(time) {
    if (!eyeLeft || !eyeRight) return;
    
    switch (faceState) {
        case 'listening':
            // Parpadeo más frecuente
            const blinkListening = Math.sin(time * 4) > 0.8 ? 0.1 : 1;
            eyeLeft.scale.y = blinkListening;
            eyeRight.scale.y = blinkListening;
            
            // Movimiento de seguimiento
            eyeLeft.rotation.y = mouseX * 0.2;
            eyeRight.rotation.y = mouseX * 0.2;
            break;
            
        case 'processing':
            // Pulsación
            const pulseProcessing = 0.8 + Math.sin(time * 6) * 0.2;
            eyeLeft.scale.setScalar(pulseProcessing);
            eyeRight.scale.setScalar(pulseProcessing);
            break;
            
        case 'speaking':
            // Brillo intenso
            eyeLeft.material.emissive.setHex(0x004488);
            eyeRight.material.emissive.setHex(0x004488);
            break;
            
        default:
            // Estado idle - parpadeo normal
            const blinkIdle = Math.sin(time * 0.5) > 0.95 ? 0.1 : 1;
            eyeLeft.scale.y = blinkIdle;
            eyeRight.scale.y = blinkIdle;
            
            // Reset emissive
            eyeLeft.material.emissive.setHex(0x000000);
            eyeRight.material.emissive.setHex(0x000000);
    }
}

// Actualizar animaciones de la boca
function updateMouthAnimations(time) {
    if (!mouth) return;
    
    switch (faceState) {
        case 'speaking':
            // Animación de habla
            const speakScale = 1 + speakingIntensity * 0.5;
            mouth.scale.set(speakScale, speakScale, 1);
            
            // Ondulación
            mouth.rotation.z = Math.sin(time * 10) * speakingIntensity * 0.1;
            break;
            
        default:
            // Escala normal
            mouth.scale.set(1, 1, 1);
            mouth.rotation.z = 0;
    }
}

// Funciones públicas para controlar la cara
function setFaceState(newState) {
    faceState = newState;
    console.log(`🎭 Estado de cara: ${newState}`);
    
    // Actualizar energía según estado
    switch (newState) {
        case 'listening':
            energyLevel = 0.6;
            break;
        case 'processing':
            energyLevel = 0.8;
            break;
        case 'speaking':
            energyLevel = 1.0;
            break;
        case 'error':
            energyLevel = 0.3;
            break;
        default:
            energyLevel = 0.2;
    }
}

function setSpeakingIntensity(intensity) {
    speakingIntensity = Math.max(0, Math.min(1, intensity));
}

function setFaceEnergy(energy) {
    energyLevel = Math.max(0, Math.min(1, energy));
}

// Limpiar recursos
function cleanupFaceAnimation() {
    if (renderer) {
        renderer.dispose();
    }
    if (scene) {
        scene.clear();
    }
}

================
File: app/static/js/secret/secret_voice_logic.js
================
// ==========================================
// LÓGICA DE VOZ CORREGIDA
// ==========================================

// Configuración de la API
const API_CONFIG = {
    endpoint: 'http://localhost:8001/query-database-agent',
    timeout: 15000,
    retries: 2,
    retryDelay: 1000
};

// Estado de la aplicación
let appState = {
    isListening: false,
    isProcessing: false,
    isSpeaking: false,
    isVoiceAvailable: false,
    isSpeechRecognitionAvailable: false,
    connectionStatus: 'unknown'
};

// Variables del sistema de voz
let recognition = null;
let speechSynthesis = window.speechSynthesis;
let currentUtterance = null;
let availableVoices = [];

// Elementos DOM
let voiceInput, voiceBtn, sendBtn, muteBtn, volumeRange;
let aiStatus, voiceStatusDot, voiceStatusText;

// Inicializar sistema de voz
function initializeVoiceSystem() {
    console.log('🎤 Inicializando sistema de voz...');
    
    // Obtener elementos DOM
    getDOMElements();
    
    // Inicializar reconocimiento de voz
    initializeSpeechRecognition();
    
    // Inicializar síntesis de voz
    initializeTextToSpeech();
    
    // Configurar event listeners
    setupEventListeners();
    
    // Verificar disponibilidad
    checkVoiceAvailability();
    
    console.log('✅ Sistema de voz inicializado');
}

// Obtener elementos DOM
function getDOMElements() {
    voiceInput = document.getElementById('voiceInput');
    voiceBtn = document.getElementById('voiceBtn');
    sendBtn = document.getElementById('sendBtn');
    muteBtn = document.getElementById('muteBtn');
    volumeRange = document.getElementById('volumeRange');
    aiStatus = document.getElementById('aiStatus');
    voiceStatusDot = document.getElementById('voiceStatusDot');
    voiceStatusText = document.getElementById('voiceStatusText');
    
    if (!voiceInput || !voiceBtn || !sendBtn) {
        console.error('❌ Elementos DOM no encontrados');
        return false;
    }
    
    return true;
}

// Inicializar reconocimiento de voz
function initializeSpeechRecognition() {
    try {
        // Verificar soporte
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        
        if (!SpeechRecognition) {
            console.log('❌ Speech Recognition no disponible');
            appState.isSpeechRecognitionAvailable = false;
            voiceBtn.style.display = 'none';
            return;
        }
        
        // Crear instancia
        recognition = new SpeechRecognition();
        
        // Configuración
        recognition.lang = 'es-ES';
        recognition.continuous = false;
        recognition.interimResults = false;
        recognition.maxAlternatives = 1;
        
        // Event listeners
        recognition.onstart = () => {
            console.log('🎤 Reconocimiento iniciado');
            appState.isListening = true;
            updateVoiceUI();
            setFaceState('listening');
            voiceBtn.classList.add('recording');
        };
        
        recognition.onresult = (event) => {
            const result = event.results[0];
            if (result.isFinal) {
                const transcript = result[0].transcript;
                console.log('🎤 Transcripción:', transcript);
                voiceInput.value = transcript;
                handleMessageSend(transcript);
            }
        };
        
        recognition.onerror = (event) => {
            console.error('❌ Error en reconocimiento:', event.error);
            
            // Manejar errores específicos
            let errorMessage = 'Error en reconocimiento de voz';
            switch (event.error) {
                case 'network':
                    errorMessage = 'Error de conexión';
                    break;
                case 'not-allowed':
                    errorMessage = 'Micrófono no permitido';
                    break;
                case 'no-speech':
                    errorMessage = 'No se detectó voz';
                    break;
                case 'audio-capture':
                    errorMessage = 'Error de captura de audio';
                    break;
            }
            
            updateStatus('error', errorMessage);
            stopListening();
        };
        
        recognition.onend = () => {
            console.log('🎤 Reconocimiento terminado');
            stopListening();
        };
        
        appState.isSpeechRecognitionAvailable = true;
        console.log('✅ Speech Recognition disponible');
        
    } catch (error) {
        console.error('❌ Error inicializando Speech Recognition:', error);
        appState.isSpeechRecognitionAvailable = false;
        voiceBtn.style.display = 'none';
    }
}

// Inicializar síntesis de voz
function initializeTextToSpeech() {
    try {
        if (!speechSynthesis) {
            console.log('❌ Speech Synthesis no disponible');
            appState.isVoiceAvailable = false;
            return;
        }
        
        // Cargar voces disponibles
        loadVoices();
        
        // Event listener para cambios de voces
        speechSynthesis.addEventListener('voiceschanged', loadVoices);
        
        appState.isVoiceAvailable = true;
        console.log('✅ Speech Synthesis disponible');
        
    } catch (error) {
        console.error('❌ Error inicializando Speech Synthesis:', error);
        appState.isVoiceAvailable = false;
    }
}

// Cargar voces disponibles
function loadVoices() {
    try {
        availableVoices = speechSynthesis.getVoices();
        console.log(`🔊 ${availableVoices.length} voces disponibles`);
        
        // Encontrar voz en español
        const spanishVoice = availableVoices.find(voice => 
            voice.lang.includes('es') || 
            voice.name.toLowerCase().includes('spanish')
        );
        
        if (spanishVoice) {
            console.log('✅ Voz en español encontrada:', spanishVoice.name);
        }
        
    } catch (error) {
        console.error('❌ Error cargando voces:', error);
    }
}

// Configurar event listeners
function setupEventListeners() {
    try {
        // Botón de voz
        if (voiceBtn) {
            voiceBtn.addEventListener('click', toggleListening);
        }
        
        // Botón de enviar
        if (sendBtn) {
            sendBtn.addEventListener('click', () => {
                const message = voiceInput?.value?.trim();
                if (message) {
                    handleMessageSend(message);
                }
            });
        }
        
        // Input de texto
        if (voiceInput) {
            voiceInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    const message = voiceInput.value.trim();
                    if (message) {
                        handleMessageSend(message);
                    }
                }
            });
        }
        
        // Botón de silenciar
        if (muteBtn) {
            muteBtn.addEventListener('click', toggleMute);
        }
        
        // Control de volumen
        if (volumeRange) {
            volumeRange.addEventListener('input', (e) => {
                const volume = e.target.value / 100;
                if (currentUtterance) {
                    currentUtterance.volume = volume;
                }
            });
        }
        
        console.log('✅ Event listeners configurados');
        
    } catch (error) { 
        console.log(error)
    }
}

================
File: app/static/js/secret/secret_voice.js
================
// Configuración
const AI_ENDPOINT = 'http://localhost:8001/query-database-agent';

// Estado de la aplicación
let isListening = false;
let isProcessing = false;
let isSpeaking = false;
let recognition = null;
let speechSynthesis = window.speechSynthesis;
let currentUtterance = null;

// Variables WebGL
let gl, program, backgroundGL, backgroundProgram;
let faceCanvas, backgroundCanvas;
let mouseX = 0, mouseY = 0;
let startTime = Date.now();
let speakingLevel = 0;
let energyLevel = 0;

// Elementos DOM
const voiceInput = document.getElementById('voiceInput');
const voiceBtn = document.getElementById('voiceBtn');
const sendBtn = document.getElementById('sendBtn');
const muteBtn = document.getElementById('muteBtn');
const volumeRange = document.getElementById('volumeRange');
const aiStatus = document.getElementById('aiStatus');
const aiMouth = document.getElementById('aiMouth');
const faceContainer = document.querySelector('.ai-face-container');
const voiceStatusDot = document.getElementById('voiceStatusDot');
const voiceStatusText = document.getElementById('voiceStatusText');

// Inicializar aplicación
document.addEventListener('DOMContentLoaded', function() {
    initializeWebGL();
    initializeSpeechRecognition();
    initializeEventListeners();
    initializeTextToSpeech();
    updateStatus('ready', 'Listo para escuchar');
});

// Inicializar WebGL para la cara
function initializeWebGL() {
    faceCanvas = document.getElementById('faceCanvas');
    backgroundCanvas = document.getElementById('backgroundCanvas');
    
    // Configurar canvas de fondo
    backgroundCanvas.width = window.innerWidth;
    backgroundCanvas.height = window.innerHeight;
    
    // Configurar canvas de cara
    faceCanvas.width = 400;
    faceCanvas.height = 400;
    
    // Inicializar contextos WebGL
    initializeFaceGL();
    initializeBackgroundGL();
    
    // Event listeners para mouse
    document.addEventListener('mousemove', (e) => {
        mouseX = e.clientX / window.innerWidth;
        mouseY = 1.0 - (e.clientY / window.innerHeight);
    });
    
    // Iniciar renderizado
    render();
}

// Inicializar WebGL para la cara
function initializeFaceGL() {
    gl = faceCanvas.getContext('webgl');
    if (!gl) {
        console.error('WebGL no disponible');
        return;
    }
    
    const vertexShader = createShader(gl, gl.VERTEX_SHADER, document.getElementById('faceVertexShader').textContent);
    const fragmentShader = createShader(gl, gl.FRAGMENT_SHADER, document.getElementById('faceFragmentShader').textContent);
    
    program = createProgram(gl, vertexShader, fragmentShader);
    
    // Buffer de vértices
    const buffer = gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, 1, -1, -1, 1, -1, 1, 1]), gl.STATIC_DRAW);
    
    const vPosition = gl.getAttribLocation(program, 'vPosition');
    gl.vertexAttribPointer(vPosition, 2, gl.FLOAT, false, 0, 0);
    gl.enableVertexAttribArray(vPosition);
    
    gl.useProgram(program);
    gl.viewport(0, 0, faceCanvas.width, faceCanvas.height);
    
    // Uniforms
    gl.uniform2fv(gl.getUniformLocation(program, 'resolution'), [faceCanvas.width, faceCanvas.height]);
}

// Inicializar WebGL para el fondo
function initializeBackgroundGL() {
    backgroundGL = backgroundCanvas.getContext('webgl');
    if (!backgroundGL) return;
    
    const bgVertexShader = `
        attribute vec4 vPosition;
        void main() {
            gl_Position = vPosition;
        }
    `;
    
    const bgFragmentShader = `
        #ifdef GL_ES
        precision mediump float;
        #endif
        uniform float time;
        uniform vec2 resolution;
        
        void main() {
            vec2 uv = gl_FragCoord.xy / resolution.xy;
            vec3 color = vec3(0.05, 0.1, 0.2);
            
            // Partículas flotantes
            for(int i = 0; i < 3; i++) {
                float fi = float(i);
                vec2 p = uv + vec2(sin(time * 0.5 + fi), cos(time * 0.3 + fi)) * 0.1;
                float d = length(p - 0.5);
                color += vec3(0.02, 0.05, 0.1) / (d * 10.0);
            }
            
            gl_FragColor = vec4(color, 1.0);
        }
    `;
    
    const vertexShader = createShader(backgroundGL, backgroundGL.VERTEX_SHADER, bgVertexShader);
    const fragmentShader = createShader(backgroundGL, backgroundGL.FRAGMENT_SHADER, bgFragmentShader);
    
    backgroundProgram = createProgram(backgroundGL, vertexShader, fragmentShader);
    
    const buffer = backgroundGL.createBuffer();
    backgroundGL.bindBuffer(backgroundGL.ARRAY_BUFFER, buffer);
    backgroundGL.bufferData(backgroundGL.ARRAY_BUFFER, new Float32Array([-1, 1, -1, -1, 1, -1, 1, 1]), backgroundGL.STATIC_DRAW);
    
    const vPosition = backgroundGL.getAttribLocation(backgroundProgram, 'vPosition');
    backgroundGL.vertexAttribPointer(vPosition, 2, backgroundGL.FLOAT, false, 0, 0);
    backgroundGL.enableVertexAttribArray(vPosition);
    
    backgroundGL.useProgram(backgroundProgram);
    backgroundGL.viewport(0, 0, backgroundCanvas.width, backgroundCanvas.height);
    
    backgroundGL.uniform2fv(backgroundGL.getUniformLocation(backgroundProgram, 'resolution'), [backgroundCanvas.width, backgroundCanvas.height]);
}

// Crear shader
function createShader(gl, type, source) {
    const shader = gl.createShader(type);
    gl.shaderSource(shader, source);
    gl.compileShader(shader);
    
    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
        console.error('Error compilando shader:', gl.getShaderInfoLog(shader));
        gl.deleteShader(shader);
        return null;
    }
    
    return shader;
}

// Crear programa WebGL
function createProgram(gl, vertexShader, fragmentShader) {
    const program = gl.createProgram();
    gl.attachShader(program, vertexShader);
    gl.attachShader(program, fragmentShader);
    gl.linkProgram(program);
    
    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
        console.error('Error enlazando programa:', gl.getProgramInfoLog(program));
        gl.deleteProgram(program);
        return null;
    }
    
    return program;
}

// Bucle de renderizado
function render() {
    const time = (Date.now() - startTime) / 1000;
    
    // Renderizar fondo
    if (backgroundGL && backgroundProgram) {
        backgroundGL.useProgram(backgroundProgram);
        backgroundGL.uniform1f(backgroundGL.getUniformLocation(backgroundProgram, 'time'), time);
        backgroundGL.drawArrays(backgroundGL.TRIANGLE_FAN, 0, 4);
    }
    
    // Renderizar cara
    if (gl && program) {
        gl.useProgram(program);
        gl.uniform1f(gl.getUniformLocation(program, 'time'), time);
        gl.uniform2fv(gl.getUniformLocation(program, 'mouse'), [mouseX, mouseY]);
        gl.uniform1f(gl.getUniformLocation(program, 'speaking'), speakingLevel);
        gl.uniform1f(gl.getUniformLocation(program, 'energy'), energyLevel);
        
        // Animar niveles
        if (isSpeaking) {
            speakingLevel = Math.min(speakingLevel + 0.1, 1.0);
            energyLevel = 0.5 + Math.sin(time * 10) * 0.3;
        } else {
            speakingLevel = Math.max(speakingLevel - 0.05, 0.0);
            energyLevel = Math.max(energyLevel - 0.02, 0.0);
        }
        
        gl.drawArrays(gl.TRIANGLE_FAN, 0, 4);
    }
    
    requestAnimationFrame(render);
}

// Inicializar reconocimiento de voz
function initializeSpeechRecognition() {
    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        recognition = new SpeechRecognition();
        
        recognition.lang = 'es-ES';
        recognition.continuous = false;
        recognition.interimResults = false;
        recognition.maxAlternatives = 1;
        
        recognition.onstart = () => {
            console.log('🎤 Reconocimiento iniciado');
            isListening = true;
            updateFaceState('listening');
            updateStatus('listening', 'Escuchando...');
            voiceBtn.classList.add('recording');
        };
        
        recognition.onresult = (event) => {
            const transcript = event.results[0][0].transcript;
            console.log('🎤 Texto reconocido:', transcript);
            voiceInput.value = transcript;
            sendMessage(transcript);
        };
        
        recognition.onerror = (event) => {
            console.error('❌ Error en reconocimiento:', event.error);
            updateStatus('error', 'Error en reconocimiento');
            stopListening();
        };
        
        recognition.onend = () => {
            console.log('🎤 Reconocimiento terminado');
            stopListening();
        };
    } else {
        console.log('❌ Reconocimiento de voz no disponible');
        voiceBtn.style.display = 'none';
    }
}

// Inicializar text-to-speech
function initializeTextToSpeech() {
    if ('speechSynthesis' in window) {
        console.log('🔊 Text-to-Speech disponible');
        
        // Cargar voces
        speechSynthesis.addEventListener('voiceschanged', () => {
            console.log('🔊 Voces cargadas:', speechSynthesis.getVoices().length);
        });
    } else {
        console.log('❌ Text-to-Speech no disponible');
    }
}

// Inicializar event listeners
function initializeEventListeners() {
    // Botón de voz
    voiceBtn.addEventListener('click', toggleListening);
    
    // Botón de enviar
    sendBtn.addEventListener('click', () => {
        const message = voiceInput.value.trim();
        if (message) {
            sendMessage(message);
        }
    });
    
    // Input de texto (Enter)
    voiceInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            const message = voiceInput.value.trim();
            if (message) {
                sendMessage(message);
            }
        }
    });
    
    // Botón de silenciar
    muteBtn.addEventListener('click', toggleMute);
    
    // Control de volumen
    volumeRange.addEventListener('input', (e) => {
        const volume = e.target.value / 100;
        if (currentUtterance) {
            currentUtterance.volume = volume;
        }
    });
    
    // Redimensionar canvas
    window.addEventListener('resize', () => {
        backgroundCanvas.width = window.innerWidth;
        backgroundCanvas.height = window.innerHeight;
        if (backgroundGL) {
            backgroundGL.viewport(0, 0, backgroundCanvas.width, backgroundCanvas.height);
            backgroundGL.uniform2fv(backgroundGL.getUniformLocation(backgroundProgram, 'resolution'), 
                [backgroundCanvas.width, backgroundCanvas.height]);
        }
    });
}

// Toggle del micrófono
function toggleListening() {
    if (!recognition) {
        console.log('❌ Reconocimiento no disponible');
        return;
    }
    
    if (isListening) {
        stopListening();
    } else {
        startListening();
    }
}

// Iniciar escucha
function startListening() {
    if (isProcessing || isSpeaking) {
        return;
    }
    
    try {
        recognition.start();
    } catch (error) {
        console.error('Error iniciando reconocimiento:', error);
        updateStatus('error', 'Error iniciando micrófono');
    }
}

// Detener escucha
function stopListening() {
    isListening = false;
    voiceBtn.classList.remove('recording');
    updateFaceState('idle');
    updateStatus('ready', 'Listo para escuchar');
    
    if (recognition) {
        try {
            recognition.stop();
        } catch (error) {
            console.log('Error deteniendo reconocimiento:', error);
        }
    }
}

// Enviar mensaje al AI
async function sendMessage(message) {
    if (isProcessing || !message.trim()) return;
    
    isProcessing = true;
    updateFaceState('processing');
    updateStatus('processing', 'Procesando...');
    sendBtn.disabled = true;
    voiceInput.value = '';
    
    try {
        const response = await fetch(AI_ENDPOINT, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                question: message
            })
        });
        
        if (!response.ok) {
            throw new Error(`Error HTTP: ${response.status}`);
        }
        
        const data = await response.json();
        
        if (data.error) {
            throw new Error(data.error);
        }
        
        if (data.answer) {
            await speakResponse(data.answer);
        } else {
            throw new Error('Respuesta vacía del servidor');
        }
        
    } catch (error) {
        console.error('Error comunicándose con IA:', error);
        updateStatus('error', `Error: ${error.message}`);
        await speakResponse(`Lo siento, ha ocurrido un error: ${error.message}`);
    } finally {
        isProcessing = false;
        sendBtn.disabled = false;
        updateFaceState('idle');
        updateStatus('ready', 'Listo para escuchar');
    }
}

// Hablar respuesta
async function speakResponse(text) {
    return new Promise((resolve) => {
        if (!speechSynthesis) {
            console.log('❌ Speech synthesis no disponible');
            resolve();
            return;
        }
        
        // Detener cualquier speech anterior
        speechSynthesis.cancel();
        
        // Limpiar texto
        const cleanText = text
            .replace(/<[^>]*>/g, '')
            .replace(/\*\*(.*?)\*\*/g, '$1')
            .replace(/\*(.*?)\*/g, '$1')
            .replace(/•/g, '')
            .trim();
        
        if (!cleanText) {
            resolve();
            return;
        }
        
        // Crear utterance
        currentUtterance = new SpeechSynthesisUtterance(cleanText);
        
        // Configurar voz en español
        const voices = speechSynthesis.getVoices();
        const spanishVoice = voices.find(voice => 
            voice.lang.includes('es') || 
            voice.name.toLowerCase().includes('spanish')
        );
        
        if (spanishVoice) {
            currentUtterance.voice = spanishVoice;
        }
        
        currentUtterance.lang = 'es-ES';
        currentUtterance.rate = 0.9;
        currentUtterance.pitch = 1.0;
        currentUtterance.volume = volumeRange.value / 100;
        
        // Event listeners
        currentUtterance.onstart = () => {
            console.log('🔊 Hablando...');
            isSpeaking = true;
            updateFaceState('speaking');
            updateStatus('speaking', 'Hablando...');
            aiMouth.classList.add('speaking');
        };
        
        currentUtterance.onend = () => {
            console.log('🔊 Speech terminado');
            isSpeaking = false;
            updateFaceState('idle');
            updateStatus('ready', 'Listo para escuchar');
            aiMouth.classList.remove('speaking');
            resolve();
        };
        
        currentUtterance.onerror = (event) => {
            console.error('❌ Error en speech:', event.error);
            isSpeaking = false;
            updateFaceState('idle');
            updateStatus('error', 'Error en síntesis de voz');
            aiMouth.classList.remove('speaking');
            resolve();
        };
        
        // Hablar
        speechSynthesis.speak(currentUtterance);
    });
}

// Actualizar estado de la cara
function updateFaceState(state) {
    faceContainer.className = 'ai-face-container';
    if (state !== 'idle') {
        faceContainer.classList.add(state);
    }
}

// Actualizar estado general
function updateStatus(status, text) {
    aiStatus.textContent = text;
    voiceStatusText.textContent = text;
    
    // Actualizar indicador visual
    voiceStatusDot.className = 'status-dot';
    switch (status) {
        case 'ready':
            voiceStatusDot.style.background = '#00d4b1';
            break;
        case 'listening':
            voiceStatusDot.style.background = '#ffd700';
            break;
        case 'processing':
            voiceStatusDot.style.background = '#ff9500';
            break;
        case 'speaking':
            voiceStatusDot.style.background = '#00bfff';
            break;
        case 'error':
            voiceStatusDot.style.background = '#ff6b6b';
            break;
    }
}

// Toggle mute
function toggleMute() {
    const icon = muteBtn.querySelector('i');
    if (speechSynthesis.paused || volumeRange.value == 0) {
        speechSynthesis.resume();
        volumeRange.value = 80;
        icon.className = 'fas fa-volume-up';
    } else {
        speechSynthesis.pause();
        volumeRange.value = 0;
        icon.className = 'fas fa-volume-mute';
    }
}

================
File: app/templates/secret/dashboard_voice.html
================
{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Voice Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="{% static 'css/secret_voice.css' %}" rel="stylesheet">
</head>
<body>
    <!-- Background Canvas -->
    <canvas id="backgroundCanvas"></canvas>
    
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-content">
            <!-- Brand -->
            <div class="brand">
                <div class="brand-icon">
                    <i class="fas fa-microphone"></i>
                </div>
                <div class="brand-text">
                    <div class="brand-title">Voice AI</div>
                    <div class="brand-subtitle">Assistant</div>
                </div>
            </div>
            
            <!-- Navigation -->
            <nav class="nav-menu">
                <a href="#" class="nav-item active">
                    <i class="fas fa-comments"></i>
                    <span>Chat por Voz</span>
                </a>
                <a href="dashboard.html" class="nav-item">
                    <i class="fas fa-keyboard"></i>
                    <span>Chat por Texto</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-cog"></i>
                    <span>Configuración</span>
                </a>
            </nav>
            
            <!-- Voice Status -->
            <div class="voice-status-card">
                <div class="status-indicator">
                    <div class="status-dot" id="voiceStatusDot"></div>
                    <span id="voiceStatusText">Listo para escuchar</span>
                </div>
                <div class="status-description">Sistema de voz activo</div>
            </div>
        </div>
    </aside>
    
    <!-- Main Content -->
    <main class="main-content">
        <!-- AI Face Container -->
        <div class="ai-face-container">
            <canvas id="faceCanvas"></canvas>
            
            <!-- Face Features Overlay -->
            <div class="face-features">
                <!-- Eyes -->
                <div class="eye left-eye">
                    <div class="pupil"></div>
                </div>
                <div class="eye right-eye">
                    <div class="pupil"></div>
                </div>
                
                <!-- Mouth -->
                <div class="mouth" id="aiMouth">
                    <div class="mouth-inner"></div>
                </div>
                
                <!-- Status Text -->
                <div class="ai-status" id="aiStatus">
                    Hola, soy tu asistente de IA por voz
                </div>
            </div>
        </div>
        
        <!-- Input Section -->
        <div class="input-section">
            <div class="input-container">
                <input 
                    type="text" 
                    id="voiceInput" 
                    placeholder="Escribe tu mensaje o habla con el asistente..."
                    class="voice-input"
                />
                <button class="voice-btn" id="voiceBtn" title="Activar micrófono">
                    <i class="fas fa-microphone"></i>
                </button>
                <button class="send-btn" id="sendBtn" title="Enviar mensaje">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
            
            <!-- Voice Controls -->
            <div class="voice-controls">
                <button class="control-btn" id="muteBtn" title="Silenciar">
                    <i class="fas fa-volume-up"></i>
                </button>
                <div class="volume-slider">
                    <input type="range" id="volumeRange" min="0" max="100" value="80">
                </div>
                <button class="control-btn" id="settingsBtn" title="Configuración de voz">
                    <i class="fas fa-sliders-h"></i>
                </button>
            </div>
        </div>
    </main>
    
    <!-- Shaders for Face Animation -->
    <script id="faceVertexShader" type="x-shader/x-vertex">
        attribute vec4 vPosition;
        void main() {
            gl_Position = vPosition;
        }
    </script>
    
    <script id="faceFragmentShader" type="x-shader/x-fragment">
        #ifdef GL_ES
        precision mediump float;
        #endif
        
        uniform float time;
        uniform vec2 mouse;
        uniform vec2 resolution;
        uniform float speaking;
        uniform float energy;
        
        float hash(float v) {
            return smoothstep(0.1, 0.9, abs(sin(v))) * 10.0;
        }
        
        float circle(vec2 p, float r) {
            return 1.0 - smoothstep(r - 0.1, r + 0.1, length(p));
        }
        
        void main() {
            vec2 uv = gl_FragCoord.xy / resolution.xy;
            vec2 p = (uv - 0.5) * 2.0;
            p.x *= resolution.x / resolution.y;
            
            // Base face shape
            float face = circle(p, 0.8);
            
            // Dynamic energy waves
            float wave1 = sin(time * 3.0 + p.x * 10.0) * 0.1 * energy;
            float wave2 = cos(time * 4.0 + p.y * 8.0) * 0.1 * energy;
            
            // Color based on speaking state
            vec3 baseColor = vec3(0.1, 0.2, 0.4);
            vec3 speakingColor = vec3(0.0, 0.8, 0.6);
            vec3 color = mix(baseColor, speakingColor, speaking);
            
            // Add energy patterns
            color += vec3(0.2, 0.4, 0.8) * (wave1 + wave2) * face;
            
            // Mouse interaction
            float mouseEffect = 1.0 / (length(p - (mouse - 0.5) * 2.0) + 1.0);
            color += vec3(0.1, 0.3, 0.5) * mouseEffect * 0.3;
            
            gl_FragColor = vec4(color * face, face * 0.8);
        }
    </script>
    
    <script src="{% static 'js/secret/secret_voice.js' %}"></script>
</body>
</html>

================
File: app/templates/secret/dashboard_voiceTEST.html
================
{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Voice Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="{% static 'css/secret/secret_voice_dash.css' %}" rel="stylesheet">
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-content">
            <!-- Brand -->
            <div class="brand">
                <div class="brand-icon">
                    <i class="fas fa-microphone"></i>
                </div>
                <div class="brand-text">
                    <div class="brand-title">Voice AI</div>
                    <div class="brand-subtitle">Assistant</div>
                </div>
            </div>
            
            <!-- Navigation -->
            <nav class="nav-menu">
                <a href="#" class="nav-item active">
                    <i class="fas fa-comments"></i>
                    <span>Chat por Voz</span>
                </a>
                <a href="{% url 'perfil' %}" class="nav-item">
                    <i class="fas fa-keyboard"></i>
                    <span>Chat por Texto</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-cog"></i>
                    <span>Configuración</span>
                </a>
            </nav>
            
            <!-- Voice Status -->
            <div class="voice-status-card">
                <div class="status-indicator">
                    <div class="status-dot" id="voiceStatusDot"></div>
                    <span id="voiceStatusText">Listo para escuchar</span>
                </div>
                <div class="status-description">Sistema de voz activo</div>
            </div>
        </div>
    </aside>
    
    <!-- Main Content -->
    <main class="main-content">
        <!-- AI Face Container -->
        <div class="ai-face-container">
            <canvas id="faceCanvas"></canvas>
            
            <!-- Status Text -->
            <div class="ai-status" id="aiStatus">
                Hola, soy tu asistente de IA por voz
            </div>
        </div>
        
        <!-- Input Section -->
        <div class="input-section">
            <div class="input-container">
                <input 
                    type="text" 
                    id="voiceInput" 
                    placeholder="Escribe tu mensaje o habla con el asistente..."
                    class="voice-input"
                />
                <button class="voice-btn" id="voiceBtn" title="Activar micrófono">
                    <i class="fas fa-microphone"></i>
                </button>
                <button class="send-btn" id="sendBtn" title="Enviar mensaje">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
            
            <!-- Voice Controls -->
            <div class="voice-controls">
                <button class="control-btn" id="muteBtn" title="Silenciar">
                    <i class="fas fa-volume-up"></i>
                </button>
                <div class="volume-slider">
                    <input type="range" id="volumeRange" min="0" max="100" value="80">
                </div>
                <button class="control-btn" id="settingsBtn" title="Configuración de voz">
                    <i class="fas fa-sliders-h"></i>
                </button>
            </div>
        </div>
    </main>
    
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js"></script>
    
    <script src="{% static 'js/secret/secret_voice_logic.js' %}"></script>
    <script src="{% static 'js/secret/secret_voice_face.js' %}"></script>
    <script>
        // Inicializar cuando el DOM esté listo
        document.addEventListener('DOMContentLoaded', function() {
            initializeFuturisticFace();
            initializeVoiceSystem();
            initializeAPIHandler();
        });
    </script>
</body>
</html>

================
File: app/templates/secret/dashboard.html
================
{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Special Admin Dashboard </title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="{% static 'css/secret.css'  %}" rel="stylesheet">
</head>
<body>
    <!-- Launch Screen -->
    <div class="launch-screen" id="launchScreen">
        <div class="welcome-content">
            <div class="ai-logo">
                <i class="fas fa-brain"></i>
            </div>
            <h1 class="welcome-title">Dashboard IA</h1>
            <p class="welcome-subtitle">Centro de comando administrativo con inteligencia artificial avanzada</p>
            <button class="launch-button" id="launchButton">
                <i class="fas fa-rocket me-2"></i>
                Entrar al Dashboard
            </button>
        </div>
    </div>

    <!-- Animation Screen -->
    <div class="animation-screen" id="animationScreen">
        <canvas id="matrix-canvas"></canvas>
        <div class="loading-logo">
            <i class="fas fa-brain"></i>
        </div>
        <div class="loading-text">Inicializando Sistema IA</div>
        <div class="loading-progress">
            <div class="loading-bar"></div>
        </div>
    </div>

    <!-- Main App -->
    <div class="main-app" id="mainApp">
        <!-- Background Effects -->
        <div class="bg-effects">
            <div class="grid-overlay"></div>
            <div class="glow-orb orb1"></div>
            <div class="glow-orb orb2"></div>
        </div>

        <!-- Mobile Menu Button -->
        <button class="mobile-menu-btn" id="mobileMenuBtn">
            <i class="fas fa-bars"></i>
        </button>

        <!-- Futuristic Sidebar -->
        <aside class="sidebar" id="sidebar">
            <!-- Brand Section -->
            <div class="brand-section">
                <div class="brand">
                    <div class="brand-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div>
                        <div class="brand-text">IA Dashboard</div>
                        <div class="brand-subtitle">Admin Portal</div>
                    </div>
                </div>
            </div>

            <!-- Navigation -->
            <nav class="nav-section">
                <div class="nav-item">
                    <a href="#" class="nav-link active">
                        <i class="fas fa-robot nav-icon"></i>
                        <span>Asistente IA</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="{% url 'perfil' %}" class="nav-link" id="backToApp">
                        <i class="fas fa-arrow-left nav-icon"></i>
                        <span>Volver a la App</span>
                    </a>
                </div>

                <div class="nav-item">
                    <a href="{% url 'dashboard_voice' %}" class="nav-link" id="backToApp">
                        <i class="fas fa-comments"></i>
                        <span>Dashboard Voice</span>
                    </a>
                </div>
                
            </nav>

            <!-- Status Section -->
            <div class="status-section">
                <div class="status-card">
                    <div class="status-indicator">
                        <div class="status-dot" id="statusDot"></div>
                        <span id="statusText">Sistema Activo</span>
                    </div>
                    <div class="status-text">Todos los servicios operativos</div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="content-container">
                <div class="chat-interface">
                    <!-- Chat Header -->
                    <div class="chat-header">
                        <h1 class="chat-title">Asistente IA Administrativo</h1>
                        <p class="chat-description">Tu copiloto inteligente para la gestión de la aplicación</p>
                    </div>
                    
                    <!-- Messages -->
                    <div class="messages-container" id="messagesContainer">
                        <div class="message ai">
                            <div class="avatar ai">
                                <i class="fas fa-brain"></i>
                            </div>
                            <div class="message-bubble">
                                Bienvenido al centro de comando administrativo. Soy tu asistente IA especializado en análisis de datos, gestión de usuarios, generación de reportes y optimización del sistema. ¿Cómo puedo potenciar tu gestión hoy?
                            </div>
                        </div>
                    </div>

                    <!-- Input Area -->
                    <div class="input-area">
                        <div class="input-container">
                            <textarea 
                                class="message-input" 
                                id="messageInput"
                                placeholder="Escribe tu consulta o comando..."
                                rows="1"
                            ></textarea>
                            <button class="send-button" id="sendButton">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        // Configuración del endpoint
        const AI_ENDPOINT = 'http://localhost:8001/query-database-agent';

        // Estado de la aplicación
        let isProcessing = false;
        let isVoiceEnabled = false;
        let speechSynthesis = null;
        let currentUtterance = null;

        // Inicializar Text-to-Speech
        function initializeTextToSpeech() {
            if ('speechSynthesis' in window) {
                speechSynthesis = window.speechSynthesis;
                isVoiceEnabled = true;
                console.log('🔊 Text-to-Speech disponible');
                
                // Esperar a que se carguen las voces
                if (speechSynthesis.getVoices().length === 0) {
                    speechSynthesis.addEventListener('voiceschanged', () => {
                        console.log('🔊 Voces cargadas:', speechSynthesis.getVoices().length);
                    });
                }
            } else {
                console.log('❌ Text-to-Speech no disponible en este navegador');
            }
        }

        // Función para leer texto en voz alta
        function speakText(text) {
            if (!isVoiceEnabled || !speechSynthesis) {
                console.log('❌ Voz no disponible');
                return;
            }

            // Detener cualquier reproducción anterior
            speechSynthesis.cancel();

            // Limpiar texto de HTML y markdown
            const cleanText = text
                .replace(/<[^>]*>/g, '') // Remover HTML
                .replace(/\*\*(.*?)\*\*/g, '$1') // Remover markdown bold
                .replace(/\*(.*?)\*/g, '$1') // Remover markdown italic
                .replace(/•/g, '') // Remover viñetas
                .trim();

            if (!cleanText) return;

            // Crear utterance
            currentUtterance = new SpeechSynthesisUtterance(cleanText);
            
            // Configurar voz (buscar voz en español)
            const voices = speechSynthesis.getVoices();
            const spanishVoice = voices.find(voice => 
                voice.lang.includes('es') || 
                voice.name.toLowerCase().includes('spanish') ||
                voice.name.toLowerCase().includes('español')
            );
            
            if (spanishVoice) {
                currentUtterance.voice = spanishVoice;
                currentUtterance.lang = 'es-ES';
            } else {
                currentUtterance.lang = 'es-ES';
            }

            // Configurar parámetros de voz
            currentUtterance.rate = 0.9; // Velocidad
            currentUtterance.pitch = 1.0; // Tono
            currentUtterance.volume = 0.8; // Volumen

            // Event listeners
            currentUtterance.onstart = () => {
                console.log('🔊 Reproduciendo voz...');
                updateVoiceButton(true);
            };

            currentUtterance.onend = () => {
                console.log('🔊 Voz terminada');
                updateVoiceButton(false);
            };

            currentUtterance.onerror = (event) => {
                console.error('❌ Error en voz:', event.error);
                updateVoiceButton(false);
            };

            // Reproducir
            speechSynthesis.speak(currentUtterance);
        }

        // Función para detener la voz
        function stopSpeech() {
            if (speechSynthesis) {
                speechSynthesis.cancel();
                updateVoiceButton(false);
            }
        }

        // Función de animación de entrada unificada y elegante
        function initializeElegantEntrance() {
            // Crear pantalla de entrada
            const entranceScreen = document.createElement('div');
            entranceScreen.id = 'elegantEntrance';
            entranceScreen.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(135deg, #000 0%, #0a0a0a 50%, #000 100%);
                z-index: 10000;
                opacity: 1;
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden;
            `;

            // Crear contenedor principal del logo
            const logoContainer = document.createElement('div');
            logoContainer.style.cssText = `
                text-align: center;
                opacity: 0;
                transform: scale(0.8) translateY(20px);
                animation: elegantEntry 2s ease-out 0.3s forwards;
            `;

            // Crear icono del cerebro
            const brainIcon = document.createElement('div');
            brainIcon.innerHTML = '<i class="fas fa-brain"></i>';
            brainIcon.style.cssText = `
                font-size: 4rem;
                color: #00d4b1;
                margin-bottom: 1rem;
                filter: drop-shadow(0 0 20px rgba(0, 212, 177, 0.5));
                animation: pulse 2s ease-in-out infinite;
            `;

            // Crear texto del título
            const titleText = document.createElement('div');
            titleText.textContent = 'AI Assistant';
            titleText.style.cssText = `
                font-size: 2.5rem;
                font-weight: bold;
                color: #ffffff;
                font-family: Arial, sans-serif;
                letter-spacing: 2px;
                margin-bottom: 0.5rem;
                text-shadow: 0 0 30px rgba(0, 212, 177, 0.3);
            `;

            // Crear línea decorativa
            const decorativeLine = document.createElement('div');
            decorativeLine.style.cssText = `
                width: 0;
                height: 2px;
                background: linear-gradient(90deg, transparent, #00d4b1, transparent);
                margin: 1rem auto;
                animation: lineExpand 1.5s ease-out 1s forwards;
                box-shadow: 0 0 10px rgba(0, 212, 177, 0.8);
            `;

            // Crear partículas de fondo
            const particlesContainer = document.createElement('div');
            particlesContainer.style.cssText = `
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
            `;

            // Generar partículas flotantes
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                const size = Math.random() * 4 + 2;
                const duration = Math.random() * 3 + 2;
                const delay = Math.random() * 2;
                
                particle.style.cssText = `
                    position: absolute;
                    width: ${size}px;
                    height: ${size}px;
                    background: rgba(0, 212, 177, 0.6);
                    border-radius: 50%;
                    left: ${Math.random() * 100}%;
                    top: ${Math.random() * 100}%;
                    animation: float ${duration}s ease-in-out ${delay}s infinite;
                    box-shadow: 0 0 10px rgba(0, 212, 177, 0.8);
                `;
                particlesContainer.appendChild(particle);
            }

            // Agregar estilos CSS para las animaciones
            const styleSheet = document.createElement('style');
            styleSheet.textContent = `
                @keyframes elegantEntry {
                    0% {
                        opacity: 0;
                        transform: scale(0.8) translateY(20px);
                    }
                    60% {
                        opacity: 1;
                        transform: scale(1.05) translateY(-5px);
                    }
                    100% {
                        opacity: 1;
                        transform: scale(1) translateY(0);
                    }
                }

                @keyframes pulse {
                    0%, 100% {
                        transform: scale(1);
                        filter: drop-shadow(0 0 20px rgba(0, 212, 177, 0.5));
                    }
                    50% {
                        transform: scale(1.1);
                        filter: drop-shadow(0 0 30px rgba(0, 212, 177, 0.8));
                    }
                }

                @keyframes lineExpand {
                    0% {
                        width: 0;
                    }
                    100% {
                        width: 200px;
                    }
                }

                @keyframes float {
                    0%, 100% {
                        transform: translateY(0) rotate(0deg);
                        opacity: 0.6;
                    }
                    50% {
                        transform: translateY(-20px) rotate(180deg);
                        opacity: 1;
                    }
                }

                @keyframes fadeOutEntrance {
                    0% {
                        opacity: 1;
                        transform: scale(1);
                    }
                    100% {
                        opacity: 0;
                        transform: scale(1.1);
                    }
                }

                .typing-indicator {
                    display: inline-block;
                    position: relative;
                }

                .typing-indicator span {
                    display: inline-block;
                    background-color: #00d4b1;
                    width: 8px;
                    height: 8px;
                    border-radius: 50%;
                    margin: 0 2px;
                    animation: typing 1.4s infinite ease-in-out;
                }

                .typing-indicator span:nth-child(2) {
                    animation-delay: 0.2s;
                }

                .typing-indicator span:nth-child(3) {
                    animation-delay: 0.4s;
                }

                @keyframes typing {
                    0%, 60%, 100% {
                        transform: translateY(0);
                        opacity: 0.5;
                    }
                    30% {
                        transform: translateY(-10px);
                        opacity: 1;
                    }
                }

                .send-button:disabled {
                    opacity: 0.6;
                    cursor: not-allowed;
                }

                .message-input:disabled {
                    opacity: 0.8;
                    background-color: rgba(255, 255, 255, 0.05);
                }
            `;
            document.head.appendChild(styleSheet);

            // Ensamblar elementos
            logoContainer.appendChild(brainIcon);
            logoContainer.appendChild(titleText);
            logoContainer.appendChild(decorativeLine);
            
            entranceScreen.appendChild(particlesContainer);
            entranceScreen.appendChild(logoContainer);
            document.body.insertBefore(entranceScreen, document.body.firstChild);

            // Ejecutar secuencia de salida después de 2.5 segundos
            setTimeout(() => {
                entranceScreen.style.animation = 'fadeOutEntrance 1.2s ease-out forwards';
                entranceScreen.style.pointerEvents = 'none';
                
                // Remover elemento después del fade out
                setTimeout(() => {
                    if (entranceScreen.parentNode) {
                        entranceScreen.parentNode.removeChild(entranceScreen);
                    }
                }, 1200);
            }, 2500);
        }

        // Matrix Animation Class optimizada
        class AIPixel {
            constructor(x, y, color, speed, delay, step, boundSize) {
                this.x = x;
                this.y = y;
                this.color = color;
                this.speed = Math.random() * 0.5 + 0.3;
                this.size = 0;
                this.maxSize = Math.random() * 3 + 1;
                this.opacity = 0;
                this.delay = delay;
                this.counter = 0;
                this.step = step;
                this.phase = Math.random() * Math.PI * 2;
                this.glowIntensity = Math.random() * 0.5 + 0.5;
            }

            draw(ctx) {
                if (this.counter < this.delay) {
                    this.counter += this.step;
                    return;
                }

                const pulse = Math.sin(this.phase + Date.now() * 0.003) * 0.3 + 0.7;
                this.opacity = Math.min(pulse * this.glowIntensity, 1);
                
                if (this.size < this.maxSize) {
                    this.size += 0.05;
                }

                ctx.save();
                ctx.globalAlpha = this.opacity * 0.3;
                ctx.fillStyle = this.color;
                ctx.shadowColor = this.color;
                ctx.shadowBlur = 10;
                ctx.fillRect(this.x - 2, this.y - 2, this.size + 4, this.size + 4);
                
                ctx.globalAlpha = this.opacity;
                ctx.shadowBlur = 5;
                ctx.fillRect(this.x, this.y, this.size, this.size);
                ctx.restore();
            }
        }

        // Initialize Matrix Animation optimizada
        function initMatrixAnimation() {
            const canvas = document.getElementById('matrix-canvas');
            if (!canvas) return null;
            
            const ctx = canvas.getContext('2d');
            let pixels = [];
            let animationFrame;

            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                initPixels();
            }

            function initPixels() {
                pixels = [];
                const gap = 25;
                const colors = ['#00d4b1', '#00b89f', 'rgba(0, 212, 177, 0.8)', 'rgba(0, 212, 177, 0.6)'];
                
                for (let x = 0; x < canvas.width; x += gap) {
                    for (let y = 0; y < canvas.height; y += gap) {
                        const color = colors[Math.floor(Math.random() * colors.length)];
                        const delay = Math.sqrt((x - canvas.width/2)**2 + (y - canvas.height/2)**2) * 0.5;
                        pixels.push(new AIPixel(x, y, color, 1, delay, 2, 3));
                    }
                }
            }

            function animate() {
                try {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    pixels.forEach(pixel => pixel.draw(ctx));
                    animationFrame = requestAnimationFrame(animate);
                } catch (error) {
                    console.log('Animation stopped');
                }
            }

            try {
                resizeCanvas();
                animate();
            } catch (error) {
                console.log('Matrix animation failed to start');
                return null;
            }

            return () => {
                if (animationFrame) {
                    cancelAnimationFrame(animationFrame);
                }
            };
        }

        // Initialize App Launch Sequence optimizada
        function initializeLaunchSequence() {
            const launchButton = document.getElementById('launchButton');
            const launchScreen = document.getElementById('launchScreen');
            const animationScreen = document.getElementById('animationScreen');
            const mainApp = document.getElementById('mainApp');

            launchButton?.addEventListener('click', function() {
                launchScreen.classList.add('hide');
                
                setTimeout(() => {
                    launchScreen.style.display = 'none';
                    animationScreen.classList.add('show');
                    
                    const stopMatrix = initMatrixAnimation();
                    
                    setTimeout(() => {
                        animationScreen.classList.add('hide');
                        if (stopMatrix) stopMatrix();
                        
                        setTimeout(() => {
                            animationScreen.style.display = 'none';
                            mainApp.classList.add('loaded');
                            setTimeout(() => {
                                const messagesContainer = document.getElementById('messagesContainer');
                                if (messagesContainer) {
                                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                                }
                            }, 1000);
                        }, 1200);
                    }, 3000);
                }, 800);
            });
        }

        // Funciones para el chat con IA
        function addMessage(content, isUser = false) {
            const messagesContainer = document.getElementById('messagesContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'ai'}`;

            if (isUser) {
                messageDiv.innerHTML = `
                    <div class="message-bubble">
                        ${content}
                    </div>
                    <div class="avatar user">
                        <i class="fas fa-user"></i>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="avatar ai">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="message-bubble">
                        ${content}
                        ${isVoiceEnabled ? `
                        <div class="voice-controls">
                            <button class="voice-btn" onclick="speakText('${content.replace(/'/g, "\\'")}')">
                                <i class="fas fa-volume-up"></i>
                            </button>
                            <button class="voice-btn stop-btn" onclick="stopSpeech()" style="display: none;">
                                <i class="fas fa-stop"></i>
                            </button>
                        </div>
                        ` : ''}
                    </div>
                `;
            }

            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function updateVoiceButton(isPlaying) {
            const voiceBtns = document.querySelectorAll('.message:last-child .voice-btn');
            const stopBtns = document.querySelectorAll('.message:last-child .stop-btn');
            
            voiceBtns.forEach(btn => {
                if (!btn.classList.contains('stop-btn')) {
                    btn.style.display = isPlaying ? 'none' : 'inline-block';
                }
            });
            
            stopBtns.forEach(btn => {
                btn.style.display = isPlaying ? 'inline-block' : 'none';
            });
        }

        function addTypingIndicator() {
            const messagesContainer = document.getElementById('messagesContainer');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message ai';
            typingDiv.id = 'typing-indicator';
            typingDiv.innerHTML = `
                <div class="avatar ai">
                    <i class="fas fa-brain"></i>
                </div>
                <div class="message-bubble">
                    <div class="typing-indicator">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            `;
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function updateStatus(status, text) {
            const statusDot = document.getElementById('statusDot');
            const statusText = document.getElementById('statusText');
            
            if (statusDot && statusText) {
                statusDot.className = `status-dot ${status}`;
                statusText.textContent = text;
            }
        }

        function formatAIResponse(answer) {
            // Convertir markdown básico a HTML
            let formatted = answer
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/\n\*/g, '<br>•')
                .replace(/\n/g, '<br>');
            
            return formatted;
        }

        async function sendMessageToAI(message) {
            if (isProcessing) return;
            
            isProcessing = true;
            updateStatus('processing', 'Procesando...');
            
            // Agregar mensaje del usuario
            addMessage(message, true);
            
            // Mostrar indicador de escritura
            addTypingIndicator();
            
            // Deshabilitar controles
            const messageInput = document.getElementById('messageInput');
            const sendButton = document.getElementById('sendButton');
            messageInput.disabled = true;
            sendButton.disabled = true;

            try {
                const response = await fetch(AI_ENDPOINT, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        question: message
                    })
                });

                if (!response.ok) {
                    throw new Error(`Error HTTP: ${response.status}`);
                }

                const data = await response.json();
                
                // Remover indicador de escritura
                removeTypingIndicator();
                
                if (data.error) {
                    addMessage(`❌ Error: ${data.error}`, false);
                    updateStatus('error', 'Error en respuesta');
                } else if (data.answer) {
                    const formattedAnswer = formatAIResponse(data.answer);
                    addMessage(formattedAnswer, false);
                    updateStatus('active', 'Sistema Activo');
                    
                    // Reproducir automáticamente la respuesta si está habilitado
                    if (isVoiceEnabled) {
                        setTimeout(() => {
                            speakText(data.answer);
                        }, 500);
                    }
                } else {
                    addMessage('❌ Respuesta vacía del servidor', false);
                    updateStatus('warning', 'Respuesta incompleta');
                }

            } catch (error) {
                console.error('Error al comunicarse con la IA:', error);
                removeTypingIndicator();
                addMessage(`❌ Error de conexión: ${error.message}`, false);
                updateStatus('error', 'Error de conexión');
            } finally {
                isProcessing = false;
                messageInput.disabled = false;
                sendButton.disabled = false;
                messageInput.value = '';
                messageInput.focus();
            }
        }

        function initializeChatHandlers() {
            const messageInput = document.getElementById('messageInput');
            const sendButton = document.getElementById('sendButton');

            // Manejar envío con botón
            sendButton.addEventListener('click', function() {
                const message = messageInput.value.trim();
                if (message && !isProcessing) {
                    sendMessageToAI(message);
                }
            });

            // Manejar envío con Enter
            messageInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    const message = messageInput.value.trim();
                    if (message && !isProcessing) {
                        sendMessageToAI(message);
                    }
                }
            });

            // Auto-resize del textarea
            messageInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 150) + 'px';
            });
        }

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeElegantEntrance();
            initializeLaunchSequence();
            initializeChatHandlers();
            initializeTextToSpeech();
            
            // Mensaje de bienvenida después de que se cargue la app
            setTimeout(() => {
                updateStatus('active', 'Sistema Activo');
            }, 4000);
        });
    </script>
</body>
</html>

================
File: app/templates/secret/test.html
================
{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Voice Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="{% static 'css/secret_voice.css' %}" rel="stylesheet">
</head>
<body>
    <!-- Background Canvas -->
    <canvas id="backgroundCanvas"></canvas>
    
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-content">
            <!-- Brand -->
            <div class="brand">
                <div class="brand-icon">
                    <i class="fas fa-microphone"></i>
                </div>
                <div class="brand-text">
                    <div class="brand-title">Voice AI</div>
                    <div class="brand-subtitle">Assistant</div>
                </div>
            </div>
            
            <!-- Navigation -->
            <nav class="nav-menu">
                <a href="#" class="nav-item active">
                    <i class="fas fa-comments"></i>
                    <span>Chat por Voz</span>
                </a>
                <a href="dashboard.html" class="nav-item">
                    <i class="fas fa-keyboard"></i>
                    <span>Chat por Texto</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-cog"></i>
                    <span>Configuración</span>
                </a>
            </nav>
            
            <!-- Voice Status -->
            <div class="voice-status-card">
                <div class="status-indicator">
                    <div class="status-dot" id="voiceStatusDot"></div>
                    <span id="voiceStatusText">Listo para escuchar</span>
                </div>
                <div class="status-description">Sistema de voz activo</div>
            </div>
        </div>
    </aside>
    
    <!-- Main Content -->
    <main class="main-content">
        <!-- AI Face Container -->
        <div class="ai-face-container">
            <canvas id="faceCanvas"></canvas>
            
            <!-- Face Features Overlay -->
            <div class="face-features">
                <!-- Eyes -->
                <div class="eye left-eye">
                    <div class="pupil"></div>
                </div>
                <div class="eye right-eye">
                    <div class="pupil"></div>
                </div>
                
                <!-- Mouth -->
                <div class="mouth" id="aiMouth">
                    <div class="mouth-inner"></div>
                </div>
                
                <!-- Status Text -->
                <div class="ai-status" id="aiStatus">
                    Hola, soy tu asistente de IA por voz
                </div>
            </div>
        </div>
        
        <!-- Input Section -->
        <div class="input-section">
            <div class="input-container">
                <input 
                    type="text" 
                    id="voiceInput" 
                    placeholder="Escribe tu mensaje o habla con el asistente..."
                    class="voice-input"
                />
                <button class="voice-btn" id="voiceBtn" title="Activar micrófono">
                    <i class="fas fa-microphone"></i>
                </button>
                <button class="send-btn" id="sendBtn" title="Enviar mensaje">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
            
            <!-- Voice Controls -->
            <div class="voice-controls">
                <button class="control-btn" id="muteBtn" title="Silenciar">
                    <i class="fas fa-volume-up"></i>
                </button>
                <div class="volume-slider">
                    <input type="range" id="volumeRange" min="0" max="100" value="80">
                </div>
                <button class="control-btn" id="settingsBtn" title="Configuración de voz">
                    <i class="fas fa-sliders-h"></i>
                </button>
            </div>
        </div>
    </main>
    
    
    
    <script src="{% static 'js/secret/secret_voice_logic.js' %}"></script>
    <script src="{% static 'js/secret/secret_voice_face.js' %}"></script>
    <script>
        // Inicializar cuando el DOM esté listo
        document.addEventListener('DOMContentLoaded', function() {
            initializeFuturisticFace();
            initializeAPIHandler();
            
            // Conectar funciones de voz con la cara
            window.setFaceState = setFaceState;
            window.setSpeakingIntensity = setSpeakingIntensity;
            window.sendMessageToAI = sendMessageToAI;
        });
    </script>
</body>
</html>

================
File: app/forms/user_forms.py
================
from django import forms
from app.models.user import User 
from django.contrib.auth import get_user_model
from django.contrib.auth.forms import UserCreationForm




class UserRegisterForm(UserCreationForm):
    class Meta:
        model = get_user_model()
        fields = ( 'username', 'nombre')


    def clean_email(self):
        email = self.cleaned_data.get('username')  
        if email and User.objects.filter(email=email).exclude(id=self.instance.id).exists():
            raise forms.ValidationError('El email introducido ya está registrado, ¡debes introducir otro!')
        return email

class UserUpdateProfilelForm(forms.ModelForm):

    fecha_nacimiento = forms.DateField(widget=forms.DateInput(attrs={'type': 'date'}),required=False)
    imagen_perfil = forms.ImageField(required=False) 
    banner_perfil = forms.ImageField(required=False)
    
    class Meta:
        model = User
        fields = ('nombre','fecha_nacimiento', 'genero','posicion','ubicacion', 'imagen_perfil', 'banner_perfil' )

    def __init__(self, *args, **kwargs):

        super(UserUpdateProfilelForm, self).__init__(*args, **kwargs)
        
        self.fields['nombre'].widget.attrs.update({'placeholder': 'Tu nombre completo'})

        self.fields['ubicacion'].widget.attrs.update({'placeholder': 'Ciudad, Provincia'})

================
File: app/models/__init__.py
================
from .user import User
from .cancha import Cancha
from .equipo import Equipo
from .partido import Partido
from .inscripcion import Inscripcion
from .historial import HistorialELO
from .resultado import Resultado

__all__ = [
    "User",
    "Cancha",
    "Equipo",
    "Partido",
    "Inscripcion",
    "HistorialELO",
    "Resultado",
]

================
File: app/models/cancha.py
================
import uuid
from django.db import models

class Cancha(models.Model):
    TIPO_CHOICES = [
        ('SALA', 'Fútbol Sala'),
        ('F7', 'Fútbol 7'),
        ('F11', 'Fútbol 11'),
    ]
    
    PROPIEDAD_CHOICES = [
        ('PUBLICA', 'Pública'),
        ('PRIVADA', 'Privada'),
    ]

    SUPERFICIE_CHOICES = [
        ('FUTBOL SALA','Fútbol sala'),
        ('CESPED ARTIFICIAL','Césped artificial'),
        ('CESPED NATURAL','Césped natural'),
        ('TIERRA','Tierra'),
        ('CEMENTO','Cemento')
    ]
    
    id_cancha = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    nombre_cancha = models.CharField(max_length=100)
    ubicacion = models.CharField(max_length=255)
    tipo = models.CharField(max_length=4, choices=TIPO_CHOICES)
    superficie = models.CharField(max_length=50,choices=SUPERFICIE_CHOICES)
    propiedad = models.CharField(max_length=7, choices=PROPIEDAD_CHOICES)
    costo_partido = models.DecimalField(max_digits=10, decimal_places=2, null=True, blank=True)
    descripcion = models.TextField(null=True, blank=True)
    disponible = models.BooleanField(default=True, null=True, blank=True)
    imagen = models.ImageField(upload_to='images/canchas_pictures/', null=True, blank=True)
    
    def __str__(self):
        return f"{self.nombre_cancha} - {self.get_tipo_display()}"

================
File: app/models/historial.py
================
from django.db import models



class HistorialELO(models.Model):
    user = models.ForeignKey("app.User", on_delete=models.CASCADE, related_name='get_user_historialElo')
    partido = models.ForeignKey('app.Partido', on_delete=models.CASCADE)  
    calificacion_antes = models.FloatField()
    calificacion_despues = models.FloatField()
    fecha = models.DateTimeField(auto_now_add=True)

    def __str__(self):
        return f"{self.user.nombre} ({self.fecha.strftime('%d/%m/%Y')}) - {self.calificacion_antes} → {self.calificacion_despues}"

================
File: app/models/inscripcion.py
================
import uuid
from django.db import models



class Inscripcion(models.Model):
    TIPO_CHOICES = [
        ('JUGADOR_PARTIDO', 'Jugador a Partido'),
    ]
    
    ESTADO_CHOICES = [
        ('PENDIENTE', 'Pendiente'),
        ('ACEPTADA', 'Aceptada'),
        ('RECHAZADA', 'Rechazada'),
    ]
    
    id = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    tipo = models.CharField(max_length=15, choices=TIPO_CHOICES)
    fecha_inscripcion = models.DateTimeField(auto_now_add=True)
    estado = models.CharField(max_length=10, choices=ESTADO_CHOICES, default='PENDIENTE')
    
    # Para inscripciones de jugadores a partidos
    jugador = models.ForeignKey("app.User", on_delete=models.CASCADE, null=True, blank=True, related_name='get_jugador_inscripcion')
    partido = models.ForeignKey("app.Partido", on_delete=models.CASCADE, null=True, blank=True, related_name='get_partido_inscripcion')
    
    
    pago_confirmado = models.BooleanField(default=False)
    comentarios = models.TextField(blank=True)
    
    def __str__(self):
        if self.tipo == 'JUGADOR_PARTIDO':
            return f"{self.jugador.username} - {self.partido}"
        return f"{self.equipo.nombre} - {self.torneo.nombre}"

================
File: app/models/resultado.py
================
from django.db import models

class Resultado(models.Model):
    partido = models.OneToOneField('app.Partido', on_delete=models.CASCADE, related_name='get_partido_resultado')
    goles_local = models.PositiveIntegerField(default=0)
    goles_visitante = models.PositiveIntegerField(default=0)
    fecha_registro = models.DateTimeField(auto_now_add=True)
    
    def __str__(self):
        return f"Resultado: {self.partido}"

================
File: app/models/user.py
================
import uuid
from django.db import models
from django.contrib.auth.models import AbstractUser

class User(AbstractUser):
    TIPO_GENERO = [
        ('MASCULINO', 'Masculino'),
        ('FEMENINO', 'Femenino'),
        ('NO_ESPECIFICADO', 'Prefiero no decirlo'),
        ('OTRO', 'Otro'),
    ]

    TIPO_POSICION = [
        ('DELANTERO', 'Delantero'),
        ('CENTROCAMPISTA', 'Centrocampista'),
        ('DEFENSA', 'Defensa'),
        ('PORTERO', 'Portero')
    ]
    

    username = models.EmailField(max_length=150, unique=True, verbose_name="email", help_text="Introduce un email válido",)
    nombre = models.CharField(max_length=150)
    fecha_nacimiento = models.DateField(null=True, blank=True)

    genero = models.CharField(max_length=20, choices=TIPO_GENERO, default='NO_ESPECIFICADO', blank=True, null=True)
    
    posicion = models.CharField(max_length=50,choices=TIPO_POSICION, blank=True, null=True)
    partidos_jugados = models.IntegerField(default=0)
    victorias = models.IntegerField(default=0)
    derrotas = models.IntegerField(default=0)
    empates = models.IntegerField(default=0)
     
    calificacion = models.FloatField(default=1000.0)  # ELO

    imagen_perfil = models.ImageField(upload_to='profile_pictures/', blank=True, null=True)
    banner_perfil = models.ImageField(upload_to='banner_perfil/', blank=True, null=True)
    ubicacion = models.CharField(max_length=255, blank=True, null=True)
    #HAY QUE MANEJAR LA FOTO DE PERFIL Y BANNER POR DEFECTO Y SI NO LA PONE
    #QUE SE PONGA UNA SEGUN EL NIVEL QUE TENGA DE UN JUGADOR U OTRO


    def __str__(self):
        return self.nombre
    
    def save(self, *args, **kwargs):
        #CASO DE QUE USUARIO CAMBIE DE EMAIL POR PERDIDA DE CONTRASEÑA
        if self.pk:  # Si ya es un usuario existente
            originalUser = User.objects.get(pk=self.pk)
            if originalUser.email != self.email:  # si cambia el email
                self.username = self.email  # actualizo el username

        super().save(*args, **kwargs)

================
File: app/static/css/auth/login_styles.css
================
/* ======= Variables CLEAN ======= */
:root {
    --seville-orange: #f7835c;
    --seville-orange-rgb: 247, 131, 92;
    --seville-accent: #8a5cf7;
    --seville-accent-rgb: 138, 92, 247;
    --seville-primary: #f7835c;
    --seville-teal: #f7835c;
    
    --bg-canvas: #0f0f1a;
    --bg-surface: #1e1e2d;
    --bg-elevated: #262636;
    
    --text-primary: #f8fafc;
    --text-secondary: #cbd5e1;
    --text-muted: #94a3b8;
    
    --border-subtle: #374151;
    
    --gradient-primary: linear-gradient(135deg, var(--seville-orange), var(--seville-teal));
    --gradient-accent: linear-gradient(145deg, var(--seville-accent), #8a5cf7);
    --gradient-cta: linear-gradient(145deg, var(--seville-primary), var(--seville-teal));
    
    --shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.15);
    --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.24);
    
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 24px;
    
    --transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    
    --font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
}

/* ======= Reset CLEAN ======= */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: var(--font-family);
    background: var(--bg-canvas);
    color: var(--text-primary);
    line-height: 1.6;
    font-weight: 400;
    -webkit-font-smoothing: antialiased;
}

/* ======= Navbar CLEAN ======= */
.navbar {
    background: rgba(15, 15, 26, 0.8);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border-subtle);
    padding: 1rem 0;
    transition: var(--transition);
}

.navbar-brand {
    font-weight: 600;
    font-size: 1.5rem;
    color: var(--text-primary);
    text-decoration: none;
}

.nav-link {
    color: var(--text-secondary);
    font-weight: 500;
    padding: 0.5rem 1rem;
    transition: var(--transition);
    text-decoration: none;
}

.nav-link:hover {
    color: var(--seville-orange);
}

/* ======= Register Button CLEAN ======= */
.nav-btn-register {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1.25rem;
    background: var(--gradient-cta);
    color: #ffffff;
    font-weight: 600;
    font-size: 0.9rem;
    text-decoration: none;
    border-radius: var(--radius-md);
    transition: var(--transition);
    box-shadow: var(--shadow-subtle);
}

.nav-btn-register:hover {
    color: #ffffff;
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

/* ======= Login Page CLEAN ======= */
.login-section {
    min-height: 100vh;
    display: flex;
    align-items: center;
    position: relative;
    overflow: hidden;
    background: var(--bg-canvas);
    padding: 6rem 0 2rem;
}

.login-bg-pattern {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAwIiBoZWlnaHQ9IjEwMDAiIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiPjxyZWN0IHdpZHRoPSI4MDAiIGhlaWdodD0iNTAwIiB4PSIxMDAiIHk9IjI1MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDI0NywxMzEsOTIsMC4wNSkiIHN0cm9rZS13aWR0aD0iMiIvPjxjaXJjbGUgY3g9IjUwMCIgY3k9IjUwMCIgcj0iODAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgyNDcsMTMxLDkyLDAuMDUpIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB3aWR0aD0iMTgwIiBoZWlnaHQ9IjMwMCIgeD0iMTAwIiB5PSIzNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgyNDcsMTMxLDkyLDAuMDUpIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB3aWR0aD0iMTgwIiBoZWlnaHQ9IjMwMCIgeD0iNzIwIiB5PSIzNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgyNDcsMTMxLDkyLDAuMDUpIiBzdHJva2Utd2lkdGg9IjIiLz48L3N2Zz4=');
    background-size: cover;
    background-position: center;
    opacity: 0.05;
    z-index: 1;
}

.login-hero-image {
    position: absolute;
    right: 0;
    bottom: 0;
    top: 0;
    width: 25%;
    z-index: 1;
    opacity: 0.8;
    pointer-events: none;
}

.login-hero-image img {
    position: absolute;
    right: 0;
    bottom: 0;
    height: 100%;
    width: auto;
    object-fit: contain;
    object-position: right center;
    filter: drop-shadow(0 0 40px rgba(0, 212, 177, 0.15));
}

.login-image-glow {
    position: absolute;
    top: 50%;
    right: 0;
    transform: translateY(-50%);
    width: 300px;
    height: 600px;
    background: radial-gradient(ellipse at center, rgba(247, 131, 92, 0.1) 0%, rgba(247, 131, 92, 0) 70%);
    filter: blur(40px);
    z-index: -1;
}

.login-card {
    background: var(--bg-surface);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-xl);
    padding: 3rem 2rem;
    position: relative;
    z-index: 2;
    box-shadow: var(--shadow-lg);
    backdrop-filter: blur(20px);
}

.login-card-header {
    text-align: center;
    margin-bottom: 2.5rem;
}

.login-title {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
}

.login-divider {
    width: 60px;
    height: 3px;
    background: var(--gradient-primary);
    border-radius: 3px;
    margin: 0 auto 1.5rem;
}

.login-subtitle {
    font-size: 1.125rem;
    color: var(--text-secondary);
    margin: 0;
    max-width: 400px;
    margin: 0 auto;
}

.login-form {
    width: 100%;
}

.form-grid {
    margin-bottom: 1.5rem;
}

.login-remember {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 2rem;
}

.login-remember .form-check-input {
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(247, 131, 92, 0.3);
    border-radius: var(--radius-sm);
}

.login-remember .form-check-input:checked {
    background: var(--gradient-primary);
    border-color: var(--seville-orange);
}

.login-remember .form-check-label {
    color: var(--text-secondary);
    font-size: 0.9rem;
    cursor: pointer;
}

.btn-login {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    width: 100%;
    padding: 1rem 2rem;
    background: var(--gradient-cta);
    color: #ffffff;
    border: none;
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 1.1rem;
    text-decoration: none;
    cursor: pointer;
    transition: var(--transition);
    box-shadow: var(--shadow-md);
    margin-bottom: 1.5rem;
}

.btn-login:hover {
    color: #ffffff;
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.login-footer {
    text-align: center;
    color: var(--text-secondary);
}

.login-footer p {
    margin: 0;
    font-size: 0.95rem;
}

.login-link {
    color: var(--seville-orange);
    text-decoration: none;
    font-weight: 600;
    transition: var(--transition);
}

.login-link:hover {
    color: var(--seville-teal);
    text-decoration: underline;
}

.login-footer-section {
    background: var(--bg-canvas);
    border-top: 1px solid var(--border-subtle);
    padding: 2rem 0;
}

.footer-text {
    color: var(--text-muted);
    margin: 0;
    font-size: 0.9rem;
}

/* ======= Gradient Text Utility ======= */
.gradient-text {
    background: var(--gradient-primary);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

/* ======= Form Styles Integration ======= */
.login-form .form-control,
.login-form .form-select {
    background: var(--bg-canvas);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-sm);
    color: var(--text-primary);
    padding: 0.75rem 1rem;
    font-size: 0.95rem;
    transition: var(--transition);
}

.login-form .form-control:focus,
.login-form .form-select:focus {
    background: var(--bg-canvas);
    border-color: var(--seville-orange);
    box-shadow: 0 0 0 0.2rem rgba(247, 131, 92, 0.25);
    color: var(--text-primary);
}

.login-form .form-control::placeholder {
    color: var(--text-muted);
}

.login-form .form-label {
    color: var(--text-secondary);
    font-weight: 500;
    margin-bottom: 0.5rem;
}

.login-form .invalid-feedback {
    color: #ef4444;
    font-size: 0.875rem;
}

.login-form .form-text {
    color: var(--text-muted);
    font-size: 0.8rem;
}

/* ======= Animations CLEAN ======= */
.fade-in {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.6s ease;
}

.fade-in.visible {
    opacity: 1;
    transform: translateY(0);
}

/* ======= Responsive Login CLEAN ======= */
@media (max-width: 1200px) {
    .login-hero-image {
        opacity: 0.4;
        width: 20%;
    }
}

@media (max-width: 992px) {
    .login-hero-image {
        display: none;
    }
}

@media (max-width: 768px) {
    .login-section {
        padding: 4rem 0 1rem;
    }
    
    .login-card {
        padding: 2rem 1.5rem;
        margin: 1rem 0;
    }
    
    .login-title {
        font-size: 2rem;
    }
    
    .nav-btn-register {
        justify-content: center;
        width: 100%;
        margin: 0.25rem 0;
    }
}

@media (max-width: 576px) {
    .login-card {
        padding: 1.5rem 1rem;
    }
    
    .login-title {
        font-size: 1.75rem;
    }
}

================
File: app/static/css/auth/registration_styles.css
================
/* ======= Variables CLEAN ======= */
:root {
    --seville-orange: #f7835c;
    --seville-orange-rgb: 0, 212, 177;
    --seville-accent: #8a5cf7;
    --seville-accent-rgb: 138, 92, 247;
    --seville-primary: #f7835c;
    --seville-teal: #f7835c;
    
    --bg-canvas: #0f0f1a;
    --bg-surface: #1e1e2d;
    --bg-elevated: #262636;
    
    --text-primary: #f8fafc;
    --text-secondary: #cbd5e1;
    --text-muted: #94a3b8;
    
    --border-subtle: #374151;
    
    --gradient-primary: linear-gradient(135deg, var(--seville-orange), var(--seville-teal));
    --gradient-accent: linear-gradient(145deg, var(--seville-accent), #8a5cf7);
    --gradient-cta: linear-gradient(145deg, var(--seville-primary), var(--seville-teal));
    
    --shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.15);
    --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.24);
    
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 24px;
    
    --transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    
    --font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
}

/* ======= Reset CLEAN ======= */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: var(--font-family);
    background: var(--bg-canvas);
    color: var(--text-primary);
    line-height: 1.6;
    font-weight: 400;
    -webkit-font-smoothing: antialiased;
}

/* ======= Navbar CLEAN ======= */
.navbar {
    background: rgba(15, 15, 26, 0.8);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border-subtle);
    padding: 1rem 0;
    transition: var(--transition);
}

.navbar-brand {
    font-weight: 600;
    font-size: 1.5rem;
    color: var(--text-primary);
    text-decoration: none;
}

.nav-link {
    color: var(--text-secondary);
    font-weight: 500;
    padding: 0.5rem 1rem;
    transition: var(--transition);
    text-decoration: none;
}

.nav-link:hover {
    color: var(--seville-orange);
}

/* ======= Auth Links CLEAN ======= */
.nav-link-auth {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-secondary);
    font-weight: 500;
    padding: 0.5rem 1rem;
    margin-right: 0.5rem;
    transition: var(--transition);
    text-decoration: none;
    border-radius: var(--radius-sm);
}

.nav-link-auth:hover {
    color: var(--seville-orange);
    background: rgba(0, 212, 177, 0.1);
}

/* ======= Register Page CLEAN ======= */
.register-section {
    min-height: 100vh;
    display: flex;
    align-items: center;
    position: relative;
    overflow: hidden;
    background: var(--bg-canvas);
    padding: 6rem 0 2rem;
}

.register-bg-pattern {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAwIiBoZWlnaHQ9IjEwMDAiIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiPjxyZWN0IHdpZHRoPSI4MDAiIGhlaWdodD0iNTAwIiB4PSIxMDAiIHk9IjI1MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDAsMjEyLDE3NywwLjA1KSIgc3Ryb2tlLXdpZHRoPSIyIi8+PGNpcmNsZSBjeD0iNTAwIiBjeT0iNTAwIiByPSI4MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDAsMjEyLDE3NywwLjA1KSIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3Qgd2lkdGg9IjE4MCIgaGVpZ2h0PSIzMDAiIHg9IjEwMCIgeT0iMzUwIiBmaWxsPSJub25lIiBzdHJva2U9InJnYmEoMCwyMTIsMTc3LDAuMDUpIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB3aWR0aD0iMTgwIiBoZWlnaHQ9IjMwMCIgeD0iNzIwIiB5PSIzNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgwLDIxMiwxNzcsMC4wNSkiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==');
    background-size: cover;
    background-position: center;
    opacity: 0.05;
    z-index: 1;
}

.register-hero-image {
    position: absolute;
    right: 0;
    bottom: 0;
    top: 0;
    width: 25%;
    z-index: 1;
    opacity: 0.6;
    pointer-events: none;
}

.register-hero-image img {
    position: absolute;
    right: 0;
    bottom: 0;
    height: 100%;
    width: auto;
    object-fit: contain;
    object-position: right center;
    filter: drop-shadow(0 0 40px rgba(0, 212, 177, 0.15));
}

.register-image-glow {
    position: absolute;
    top: 50%;
    right: 0;
    transform: translateY(-50%);
    width: 300px;
    height: 600px;
    background: radial-gradient(ellipse at center, rgba(0, 212, 177, 0.1) 0%, rgba(0, 212, 177, 0) 70%);
    filter: blur(40px);
    z-index: -1;
}

.register-card {
    background: var(--bg-surface);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-xl);
    padding: 3rem 2rem;
    position: relative;
    z-index: 2;
    box-shadow: var(--shadow-lg);
    backdrop-filter: blur(20px);
}

.register-card-header {
    text-align: center;
    margin-bottom: 2.5rem;
}

.register-title {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
}

.register-divider {
    width: 60px;
    height: 3px;
    background: var(--gradient-primary);
    border-radius: 3px;
    margin: 0 auto 1.5rem;
}

.register-subtitle {
    font-size: 1.125rem;
    color: var(--text-secondary);
    margin: 0;
    max-width: 400px;
    margin: 0 auto;
}

.register-form {
    width: 100%;
}

.form-grid {
    margin-bottom: 2rem;
}

.btn-register {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    width: 100%;
    padding: 1rem 2rem;
    background: var(--gradient-cta);
    color: #ffffff;
    border: none;
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 1.1rem;
    text-decoration: none;
    cursor: pointer;
    transition: var(--transition);
    box-shadow: var(--shadow-md);
    margin-bottom: 1.5rem;
}

.btn-register:hover {
    color: #ffffff;
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.register-footer {
    text-align: center;
    color: var(--text-secondary);
}

.register-footer p {
    margin: 0;
    font-size: 0.95rem;
}

.register-link {
    color: var(--seville-orange);
    text-decoration: none;
    font-weight: 600;
    transition: var(--transition);
}

.register-link:hover {
    color: var(--seville-teal);
    text-decoration: underline;
}

.register-footer-section {
    background: var(--bg-canvas);
    border-top: 1px solid var(--border-subtle);
    padding: 2rem 0;
}

.footer-text {
    color: var(--text-muted);
    margin: 0;
    font-size: 0.9rem;
}

/* ======= Gradient Text Utility ======= */
.gradient-text {
    background: var(--gradient-primary);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

/* ======= Form Styles Integration ======= */
.register-form .form-control,
.register-form .form-select {
    background: var(--bg-canvas);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-sm);
    color: var(--text-primary);
    padding: 0.75rem 1rem;
    font-size: 0.95rem;
    transition: var(--transition);
}

.register-form .form-control:focus,
.register-form .form-select:focus {
    background: var(--bg-canvas);
    border-color: var(--seville-orange);
    box-shadow: 0 0 0 0.2rem rgba(0, 212, 177, 0.25);
    color: var(--text-primary);
}

.register-form .form-control::placeholder {
    color: var(--text-muted);
}

.register-form .form-label {
    color: var(--text-secondary);
    font-weight: 500;
    margin-bottom: 0.5rem;
}

.register-form .invalid-feedback {
    color: #ef4444;
    font-size: 0.875rem;
}

.register-form .form-text {
    color: var(--text-muted);
    font-size: 0.8rem;
}

/* ======= Animations CLEAN ======= */
.fade-in {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.6s ease;
}

.fade-in.visible {
    opacity: 1;
    transform: translateY(0);
}

/* ======= Responsive Register CLEAN ======= */
@media (max-width: 1200px) {
    .register-hero-image {
        opacity: 0.4;
        width: 20%;
    }
}

@media (max-width: 992px) {
    .register-hero-image {
        display: none;
    }
}

@media (max-width: 768px) {
    .register-section {
        padding: 4rem 0 1rem;
    }
    
    .register-card {
        padding: 2rem 1.5rem;
        margin: 1rem 0;
    }
    
    .register-title {
        font-size: 2rem;
    }
    
    .nav-link-auth {
        justify-content: center;
        width: 100%;
        margin: 0.25rem 0;
    }
}

@media (max-width: 576px) {
    .register-card {
        padding: 1.5rem 1rem;
    }
    
    .register-title {
        font-size: 1.75rem;
    }
}

================
File: app/static/css/canchas/registro_cancha_styles.css
================
/* ======= Variables CSS para Crear Cancha ======= */
:root {
    --seville-orange: #f7835c;
    --mint: #00d4b1;
    
    --cancha-primary: var(--seville-orange);
    --cancha-secondary: var(--mint);
    --cancha-accent-subtle: rgba(247, 131, 92, 0.06);
    --cancha-accent-border: rgba(247, 131, 92, 0.12);
    --cancha-mint-subtle: rgba(0, 212, 177, 0.06);
    --cancha-mint-border: rgba(0, 212, 177, 0.12);
    --cancha-info: #3b82f6;
    --cancha-info-subtle: rgba(59, 130, 246, 0.06);
    --cancha-info-border: rgba(59, 130, 246, 0.12);
    --cancha-success: #10b981;
    --cancha-warning: #f59e0b;
    --cancha-danger: #ef4444;
    
    --cancha-text-primary: #ffffff;
    --cancha-text-secondary: #a8a8a8;
    --cancha-text-muted: #6b7280;
    --cancha-bg-primary: #0F172A;
    --cancha-bg-card: #1a1a2e;
    --cancha-bg-elevated: #242438;
    --cancha-border: rgba(255, 255, 255, 0.08);
    --cancha-border-strong: rgba(255, 255, 255, 0.12);
    --cancha-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    --cancha-shadow-strong: 0 8px 32px rgba(0, 0, 0, 0.25);
    --cancha-radius: 16px;
    --cancha-radius-small: 12px;
    --cancha-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ======= Container Principal ======= */
#crear-cancha-container {
    max-width: 900px;
    margin: 0 auto;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    gap: 2.5rem;
}

/* ======= Hero Section ======= */
#cancha-hero-section {
    background: var(--cancha-bg-card);
    border: 1px solid var(--cancha-border);
    border-radius: var(--cancha-radius);
    padding: 3rem;
    text-align: center;
}

.hero-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
}

.hero-icon {
    width: 80px;
    height: 80px;
    background: var(--cancha-accent-subtle);
    border: 1px solid var(--cancha-accent-border);
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.hero-icon i {
    font-size: 2.25rem;
    color: var(--cancha-primary);
}

.hero-text {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.hero-title {
    font-size: clamp(1.75rem, 4vw, 2.25rem);
    font-weight: 700;
    color: var(--cancha-text-primary);
    margin: 0;
    letter-spacing: -0.02em;
    line-height: 1.2;
}

.hero-subtitle {
    font-size: 1.1rem;
    color: var(--cancha-text-secondary);
    font-weight: 400;
    margin: 0;
}

/* ======= Info Alert Section ======= */
#cancha-info-alert {
    margin: -0.5rem 0;
}

.custom-alert {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.5rem;
    border-radius: var(--cancha-radius-small);
    border: 1px solid;
    transition: var(--cancha-transition);
}

.custom-alert.alert-info {
    background: var(--cancha-info-subtle);
    border-color: var(--cancha-info-border);
    color: var(--cancha-info);
}

.alert-icon {
    flex-shrink: 0;
    margin-top: 0.125rem;
}

.alert-icon i {
    font-size: 1.25rem;
}

.alert-content {
    flex: 1;
}

.alert-title {
    font-size: 1rem;
    font-weight: 600;
    margin: 0 0 0.5rem 0;
    line-height: 1.2;
}

.alert-text {
    font-size: 0.9rem;
    margin: 0;
    line-height: 1.5;
    opacity: 0.9;
}

/* ======= Form Section ======= */
#cancha-form-section {
    background: var(--cancha-bg-card);
    border: 1px solid var(--cancha-border);
    border-radius: var(--cancha-radius);
    overflow: hidden;
}

.form-container {
    display: flex;
    flex-direction: column;
}

.form-header {
    padding: 2rem 2rem 1rem;
    border-bottom: 1px solid var(--cancha-border);
    text-align: center;
}

.form-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--cancha-text-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    margin: 0 0 0.5rem 0;
}

.form-title i {
    color: var(--cancha-primary);
}

.form-subtitle {
    font-size: 0.95rem;
    color: var(--cancha-text-secondary);
    margin: 0;
}

.form-body {
    padding: 2rem;
}

.cancha-form {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.form-fields {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

/* ======= Form Controls ======= */
.form-group {
    margin-bottom: 0;
}

.form-label {
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--cancha-text-secondary);
    margin-bottom: 0.5rem;
    display: block;
}

.form-control {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--cancha-border);
    border-radius: var(--cancha-radius-small);
    color: var(--cancha-text-primary);
    font-size: 1rem;
    padding: 0.875rem 1rem;
    transition: var(--cancha-transition);
    width: 100%;
}

.form-control:focus {
    background: rgba(255, 255, 255, 0.08);
    border-color: var(--cancha-accent-border);
    box-shadow: 0 0 0 3px var(--cancha-accent-subtle);
    outline: none;
}

.form-control::placeholder {
    color: var(--cancha-text-muted);
}

.form-control.is-invalid {
    border-color: var(--cancha-danger);
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
}

.invalid-feedback {
    color: var(--cancha-danger);
    font-size: 0.85rem;
    margin-top: 0.5rem;
    display: block;
}

/* ======= Textarea específico ======= */
textarea.form-control {
    min-height: 120px;
    resize: vertical;
}

.char-counter {
    font-size: 0.8rem;
    color: var(--cancha-text-muted);
    text-align: right;
    margin-top: 0.25rem;
}

/* ======= File Input ======= */
input[type="file"].form-control {
    padding: 0.5rem;
    background: rgba(255, 255, 255, 0.02);
}

.image-preview {
    margin-top: 1rem;
    position: relative;
    display: inline-block;
}

.preview-img {
    max-width: 200px;
    max-height: 150px;
    border-radius: var(--cancha-radius-small);
    border: 1px solid var(--cancha-border);
}

.remove-preview {
    position: absolute;
    top: -8px;
    right: -8px;
    background: var(--cancha-danger);
    color: white;
    border: none;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    cursor: pointer;
    transition: var(--cancha-transition);
}

.remove-preview:hover {
    background: #dc2626;
    transform: scale(1.1);
}

/* ======= Select específico ======= */
select.form-control {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.75rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem;
}

/* ======= Form Actions ======= */
.form-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    padding-top: 1rem;
    border-top: 1px solid var(--cancha-border);
}

.btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.875rem 1.5rem;
    border-radius: var(--cancha-radius-small);
    font-size: 0.9rem;
    font-weight: 500;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: var(--cancha-transition);
    font-family: inherit;
    white-space: nowrap;
    justify-content: center;
    position: relative;
    overflow: hidden;
    min-width: 140px;
}

.btn:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
}

.btn-primary {
    background: var(--cancha-primary);
    color: white;
    border: 1px solid var(--cancha-primary);
}

.btn-primary:hover:not(:disabled) {
    background: #e6743f;
    border-color: #e6743f;
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(247, 131, 92, 0.3);
    color: white;
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.05);
    color: var(--cancha-text-secondary);
    border: 1px solid var(--cancha-border);
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.08);
    color: var(--cancha-text-primary);
    border-color: var(--cancha-border-strong);
    transform: translateY(-2px);
    text-decoration: none;
}

.btn-save.loading {
    cursor: not-allowed;
    opacity: 0.8;
}

.btn-loader {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    opacity: 0;
    transition: var(--cancha-transition);
}

.btn-save.loading .btn-loader {
    opacity: 1;
}

.spinner {
    width: 20px;
    height: 20px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top: 2px solid white;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* ======= Benefits Section ======= */
#cancha-benefits-section {
    background: var(--cancha-bg-card);
    border: 1px solid var(--cancha-border);
    border-radius: var(--cancha-radius);
    padding: 2rem;
}

.benefits-header {
    text-align: center;
    margin-bottom: 2rem;
}

.benefits-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--cancha-text-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    margin: 0;
}

.benefits-title i {
    color: var(--cancha-primary);
}

.benefits-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
}

.benefit-card {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--cancha-border);
    border-radius: var(--cancha-radius-small);
    padding: 1.5rem;
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    transition: var(--cancha-transition);
    opacity: 0;
    transform: translateY(20px);
}

.benefit-card.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.benefit-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--cancha-shadow);
    border-color: var(--cancha-accent-border);
}

.benefit-icon {
    width: 44px;
    height: 44px;
    background: var(--cancha-accent-subtle);
    border: 1px solid var(--cancha-accent-border);
    border-radius: var(--cancha-radius-small);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.benefit-icon i {
    font-size: 1.1rem;
    color: var(--cancha-primary);
}

.benefit-content {
    flex: 1;
}

.benefit-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--cancha-text-primary);
    margin: 0 0 0.5rem 0;
}

.benefit-description {
    font-size: 0.875rem;
    color: var(--cancha-text-secondary);
    margin: 0;
    line-height: 1.5;
}

/* ======= Responsive Design ======= */
@media (max-width: 768px) {
    #crear-cancha-container {
        padding: 1rem;
        gap: 2rem;
    }
    
    #cancha-hero-section {
        padding: 2rem 1.5rem;
    }
    
    .hero-icon {
        width: 64px;
        height: 64px;
    }
    
    .hero-icon i {
        font-size: 1.75rem;
    }
    
    .hero-title {
        font-size: 1.75rem;
    }
    
    .hero-subtitle {
        font-size: 1rem;
    }
    
    .form-body {
        padding: 1.5rem;
    }
    
    .form-header {
        padding: 1.5rem 1.5rem 1rem;
    }
    
    .form-actions {
        flex-direction: column;
    }
    
    .benefits-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    #cancha-benefits-section {
        padding: 1.5rem;
    }
    
    .custom-alert {
        padding: 1.25rem;
    }
}

@media (max-width: 480px) {
    #crear-cancha-container {
        padding: 0.75rem;
    }
    
    #cancha-hero-section {
        padding: 1.5rem 1rem;
    }
    
    .hero-content {
        gap: 1rem;
    }
    
    .hero-icon {
        width: 56px;
        height: 56px;
    }
    
    .hero-icon i {
        font-size: 1.5rem;
    }
    
    .hero-title {
        font-size: 1.5rem;
    }
    
    .hero-subtitle {
        font-size: 0.9rem;
    }
    
    .form-body {
        padding: 1.25rem;
    }
    
    .form-header {
        padding: 1.25rem 1.25rem 1rem;
    }
    
    .form-title {
        font-size: 1.125rem;
    }
    
    .form-subtitle {
        font-size: 0.875rem;
    }
    
    .form-control {
        padding: 0.75rem 0.875rem;
        font-size: 0.9rem;
    }
    
    .btn {
        padding: 0.75rem 1.25rem;
        font-size: 0.85rem;
    }
    
    .benefit-card {
        padding: 1.25rem;
        gap: 0.875rem;
    }
    
    .benefit-icon {
        width: 38px;
        height: 38px;
    }
    
    .benefit-icon i {
        font-size: 1rem;
    }
    
    .benefit-title {
        font-size: 0.9rem;
    }
    
    .benefit-description {
        font-size: 0.8rem;
    }
    
    #cancha-benefits-section {
        padding: 1.25rem;
    }
    
    .benefits-title {
        font-size: 1.125rem;
    }
    
    .custom-alert {
        padding: 1rem;
        gap: 0.875rem;
    }
    
    .alert-icon i {
        font-size: 1.125rem;
    }
    
    .alert-title {
        font-size: 0.9rem;
    }
    
    .alert-text {
        font-size: 0.85rem;
    }
}

/* ======= Animaciones ======= */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-in {
    animation: fadeInUp 0.6s ease forwards;
}

/* ======= Estados de carga ======= */
.btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none !important;
}

.btn:disabled:hover {
   transform: none !important;
   box-shadow: none !important;
}

.loading-state {
   position: relative;
   overflow: hidden;
}

.loading-state::after {
   content: '';
   position: absolute;
   top: 0;
   left: -100%;
   width: 100%;
   height: 100%;
   background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
   animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
   0% {
       left: -100%;
   }
   100% {
       left: 100%;
   }
}

/* ======= Accesibilidad ======= */
@media (prefers-reduced-motion: reduce) {
   * {
       animation-duration: 0.01ms !important;
       animation-iteration-count: 1 !important;
       transition-duration: 0.01ms !important;
   }
}

/* ======= Focus improvements ======= */
.form-control:focus {
   outline: none;
}

.btn:focus-visible {
   outline: 2px solid var(--cancha-primary);
   outline-offset: 2px;
}

.benefit-card:focus-within {
   border-color: var(--cancha-accent-border);
   box-shadow: 0 0 0 2px var(--cancha-accent-subtle);
}

/* ======= Estados de validación ======= */
.form-group.has-error .form-control {
   border-color: var(--cancha-danger);
   box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
}

.form-group.has-success .form-control {
   border-color: var(--cancha-success);
   box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
}

/* ======= Custom Crispy Forms Styles ======= */
.crispy-form .form-group {
   margin-bottom: 1.5rem;
}

.crispy-form .form-control {
   background: rgba(255, 255, 255, 0.05);
   border: 1px solid var(--cancha-border);
   color: var(--cancha-text-primary);
}

.crispy-form .form-control:focus {
   background: rgba(255, 255, 255, 0.08);
   border-color: var(--cancha-accent-border);
   box-shadow: 0 0 0 3px var(--cancha-accent-subtle);
}

.crispy-form label {
   color: var(--cancha-text-secondary);
   font-weight: 500;
   margin-bottom: 0.5rem;
}

.crispy-form .help-text {
   color: var(--cancha-text-muted);
   font-size: 0.85rem;
   margin-top: 0.25rem;
}

.crispy-form .form-text {
   color: var(--cancha-text-muted);
   font-size: 0.85rem;
}

.crispy-form .required::after {
   content: ' *';
   color: var(--cancha-danger);
}

/* ======= Form Row Layout ======= */
.form-row {
   display: flex;
   gap: 1rem;
   margin-bottom: 1.5rem;
}

.form-row .form-group {
   flex: 1;
   margin-bottom: 0;
}

@media (max-width: 576px) {
   .form-row {
       flex-direction: column;
       gap: 0;
   }
   
   .form-row .form-group {
       margin-bottom: 1.5rem;
   }
   
   .form-row .form-group:last-child {
       margin-bottom: 0;
   }
}

/* ======= Success States ======= */
.success-message {
   background: rgba(16, 185, 129, 0.1);
   border: 1px solid rgba(16, 185, 129, 0.2);
   color: var(--cancha-success);
   padding: 1rem 1.5rem;
   border-radius: var(--cancha-radius-small);
   margin-bottom: 1.5rem;
   display: flex;
   align-items: center;
   gap: 0.75rem;
}

.success-message i {
   font-size: 1.125rem;
}

/* ======= Error States ======= */
.error-message {
   background: rgba(239, 68, 68, 0.1);
   border: 1px solid rgba(239, 68, 68, 0.2);
   color: var(--cancha-danger);
   padding: 1rem 1.5rem;
   border-radius: var(--cancha-radius-small);
   margin-bottom: 1.5rem;
   display: flex;
   align-items: center;
   gap: 0.75rem;
}

.error-message i {
   font-size: 1.125rem;
}

/* ======= Utilities ======= */
.text-center {
   text-align: center;
}

.text-left {
   text-align: left;
}

.text-right {
   text-align: right;
}

.d-none {
   display: none;
}

.d-block {
   display: block;
}

.d-flex {
   display: flex;
}

.align-items-center {
   align-items: center;
}

.justify-content-center {
   justify-content: center;
}

.justify-content-between {
   justify-content: space-between;
}

.flex-column {
   flex-direction: column;
}

.flex-wrap {
   flex-wrap: wrap;
}

.gap-1 {
   gap: 0.5rem;
}

.gap-2 {
   gap: 1rem;
}

.gap-3 {
   gap: 1.5rem;
}

.mt-1 {
   margin-top: 0.5rem;
}

.mt-2 {
   margin-top: 1rem;
}

.mt-3 {
   margin-top: 1.5rem;
}

.mb-1 {
   margin-bottom: 0.5rem;
}

.mb-2 {
   margin-bottom: 1rem;
}

.mb-3 {
   margin-bottom: 1.5rem;
}

.p-1 {
   padding: 0.5rem;
}

.p-2 {
   padding: 1rem;
}

.p-3 {
   padding: 1.5rem;
}

/* ======= Loading Skeleton ======= */
.skeleton {
   background: linear-gradient(90deg, var(--cancha-bg-elevated) 25%, var(--cancha-bg-card) 50%, var(--cancha-bg-elevated) 75%);
   background-size: 200% 100%;
   animation: loading 1.5s infinite;
   border-radius: var(--cancha-radius-small);
}

@keyframes loading {
   0% {
       background-position: 200% 0;
   }
   100% {
       background-position: -200% 0;
   }
}

.skeleton-text {
   height: 1rem;
   margin-bottom: 0.5rem;
}

.skeleton-title {
   height: 1.5rem;
   margin-bottom: 1rem;
}

.skeleton-button {
   height: 2.5rem;
   width: 120px;
}

/* ======= Print styles ======= */
@media print {
   #crear-cancha-container {
       padding: 0;
       gap: 1rem;
   }
   
   .btn {
       display: none;
   }
   
   .form-actions {
       display: none;
   }
   
   .benefit-card {
       break-inside: avoid;
       box-shadow: none;
       border: 1px solid #000;
   }
   
   .hero-icon,
   .alert-icon,
   .benefit-icon {
       background: #f0f0f0 !important;
       border-color: #ccc !important;
   }
   
   * {
       color: #000 !important;
       background: #fff !important;
   }
}

/* ======= Checkbox y Radio Styles ======= */
.form-check {
   margin: 0.5rem 0;
}

.form-check-input {
   background-color: rgba(255, 255, 255, 0.05);
   border: 1px solid var(--cancha-border);
   border-radius: 4px;
}

.form-check-input:checked {
   background-color: var(--cancha-primary);
   border-color: var(--cancha-primary);
}

.form-check-input:focus {
   border-color: var(--cancha-accent-border);
   box-shadow: 0 0 0 3px var(--cancha-accent-subtle);
}

.form-check-label {
   color: var(--cancha-text-secondary);
   font-size: 0.9rem;
   margin-left: 0.5rem;
}

/* ======= Multiple Select Styles ======= */
select[multiple].form-control {
   min-height: 120px;
   background-image: none;
   padding: 0.5rem;
}

select[multiple].form-control option {
   background: var(--cancha-bg-elevated);
   color: var(--cancha-text-primary);
   padding: 0.5rem;
   border-radius: 4px;
   margin: 0.125rem 0;
}

select[multiple].form-control option:checked {
   background: var(--cancha-primary);
   color: white;
}

/* ======= Drag and Drop File Upload ======= */
.file-drop-zone {
   border: 2px dashed var(--cancha-border);
   border-radius: var(--cancha-radius-small);
   padding: 2rem;
   text-align: center;
   background: rgba(255, 255, 255, 0.02);
   transition: var(--cancha-transition);
   cursor: pointer;
}

.file-drop-zone:hover {
   border-color: var(--cancha-accent-border);
   background: var(--cancha-accent-subtle);
}

.file-drop-zone.dragover {
   border-color: var(--cancha-primary);
   background: var(--cancha-accent-subtle);
}

.file-drop-text {
   color: var(--cancha-text-secondary);
   font-size: 0.9rem;
   margin: 0.5rem 0;
}

.file-drop-icon {
   color: var(--cancha-text-muted);
   font-size: 2rem;
   margin-bottom: 1rem;
}

/* ======= Range Input Styles ======= */
input[type="range"].form-control {
   padding: 0.5rem;
   background: transparent;
   -webkit-appearance: none;
   appearance: none;
}

input[type="range"]::-webkit-slider-track {
   background: var(--cancha-bg-elevated);
   height: 6px;
   border-radius: 3px;
}

input[type="range"]::-webkit-slider-thumb {
   -webkit-appearance: none;
   appearance: none;
   height: 20px;
   width: 20px;
   border-radius: 50%;
   background: var(--cancha-primary);
   cursor: pointer;
   margin-top: -7px;
}

input[type="range"]::-moz-range-track {
   background: var(--cancha-bg-elevated);
   height: 6px;
   border-radius: 3px;
   border: none;
}

input[type="range"]::-moz-range-thumb {
   height: 20px;
   width: 20px;
   border-radius: 50%;
   background: var(--cancha-primary);
   cursor: pointer;
   border: none;
}

/* ======= Form Validation Messages ======= */
.field-errors {
   margin-top: 0.5rem;
}

.field-errors .error {
   color: var(--cancha-danger);
   font-size: 0.85rem;
   display: block;
   margin-bottom: 0.25rem;
}

.field-errors .error:last-child {
   margin-bottom: 0;
}

/* ======= Form Progress Indicator ======= */
.form-progress {
   display: flex;
   align-items: center;
   gap: 0.5rem;
   margin-bottom: 2rem;
   padding: 1rem;
   background: rgba(255, 255, 255, 0.02);
   border-radius: var(--cancha-radius-small);
}

.progress-step {
   flex: 1;
   height: 4px;
   background: var(--cancha-bg-elevated);
   border-radius: 2px;
   overflow: hidden;
}

.progress-step.completed {
   background: var(--cancha-primary);
}

.progress-step.active {
   background: linear-gradient(90deg, var(--cancha-primary) 0%, var(--cancha-bg-elevated) 100%);
   animation: progress-animate 2s ease-in-out infinite;
}

@keyframes progress-animate {
   0%, 100% {
       background-position: 0% 0%;
   }
   50% {
       background-position: 100% 0%;
   }
}

================
File: app/static/css/global/home_styles.css
================
/* ======= Variables específicas para Home ======= */
:root {
    --home-accent: #f7835c;
    --home-accent-subtle: rgba(247, 131, 92, 0.06);
    --home-accent-border: rgba(247, 131, 92, 0.12);
    --home-text-primary: #ffffff;
    --home-text-secondary: #a8a8a8;
    --home-text-muted: #6b7280;
    --home-bg-card: #1a1a2e;
    --home-bg-elevated: #242438;
    --home-border: rgba(255, 255, 255, 0.08);
    --home-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    --home-radius: 16px;
    --home-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ======= Container Principal ======= */
.home-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    min-height: calc(100vh - 70px);
    display: flex;
    flex-direction: column;
    gap: 3rem;
}

/* ======= Hero Section ======= */
.hero-section {
    background: linear-gradient(135deg, var(--home-bg-card) 0%, var(--home-bg-elevated) 100%);
    border: 1px solid var(--home-border);
    border-radius: var(--home-radius);
    padding: 3rem;
    position: relative;
    overflow: hidden;
}

.hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 200px;
    height: 200px;
    background: radial-gradient(circle, var(--home-accent-subtle) 0%, transparent 70%);
    border-radius: 50%;
    transform: translate(50%, -50%);
}

.hero-content {
    position: relative;
    z-index: 2;
    display: flex;
    align-items: center;
    gap: 2rem;
    margin-bottom: 2rem;
}

.hero-icon {
    width: 64px;
    height: 64px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--home-border);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.hero-icon i {
    font-size: 1.75rem;
    color: var(--home-accent);
}

.hero-text {
    flex: 1;
}

.hero-title {
    font-size: clamp(1.75rem, 3vw, 2.25rem);
    font-weight: 700;
    color: var(--home-text-primary);
    margin-bottom: 0.5rem;
    letter-spacing: -0.02em;
    line-height: 1.2;
}

.user-highlight {
    color: var(--home-accent);
}

.hero-subtitle {
    font-size: 1rem;
    color: var(--home-text-secondary);
    font-weight: 400;
    margin: 0;
}

.stats-overview {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    position: relative;
    z-index: 2;
}

.stat-pill {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--home-border);
    border-radius: 12px;
    padding: 1rem 1.5rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;
    min-width: 80px;
    transition: var(--home-transition);
    opacity: 0;
    transform: translateY(20px);
}

.stat-pill.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.stat-number {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--home-text-primary);
    line-height: 1;
}

.stat-label {
    font-size: 0.8rem;
    color: var(--home-text-muted);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* ======= Actions Section ======= */
.actions-section {
    margin-bottom: 1rem;
}

.section-header {
    text-align: center;
    margin-bottom: 2rem;
}

.section-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--home-text-primary);
    margin-bottom: 0.5rem;
    letter-spacing: -0.01em;
}

.title-accent {
    width: 60px;
    height: 2px;
    background: linear-gradient(90deg, var(--home-accent) 0%, transparent 100%);
    margin: 0 auto;
    border-radius: 1px;
}

.actions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
}

.action-card {
    background: var(--home-bg-card);
    border: 1px solid var(--home-border);
    border-radius: var(--home-radius);
    padding: 2rem;
    display: flex;
    align-items: center;
    gap: 1.5rem;
    text-decoration: none;
    transition: var(--home-transition);
    opacity: 0;
    transform: translateY(20px);
}

.action-card.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.action-icon {
    width: 48px;
    height: 48px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--home-border);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.action-icon i {
    font-size: 1.25rem;
    color: var(--home-text-secondary);
}

.action-content {
    flex: 1;
}

.action-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--home-text-primary);
    margin-bottom: 0.25rem;
}

.action-desc {
    font-size: 0.9rem;
    color: var(--home-text-muted);
    margin: 0;
}

/* ======= Content Section ======= */
.content-section {
    flex: 1;
}

.content-grid {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr;
    gap: 2rem;
}

.content-card {
    background: var(--home-bg-card);
    border: 1px solid var(--home-border);
    border-radius: var(--home-radius);
    overflow: hidden;
    transition: var(--home-transition);
    opacity: 0;
    transform: translateY(20px);
}

.content-card.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.content-card.large {
    grid-row: span 2;
}

.card-header {
    padding: 1.5rem;
    border-bottom: 1px solid var(--home-border);
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.header-content {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.card-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--home-text-primary);
    margin: 0;
}

.card-subtitle {
    font-size: 0.85rem;
    color: var(--home-text-muted);
}

.header-link {
    font-size: 0.85rem;
    color: var(--home-accent);
    text-decoration: none;
    font-weight: 500;
}

.card-body {
    padding: 1.5rem;
}

/* ======= Matches List ======= */
.matches-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.match-item {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--home-border);
    border-radius: 12px;
    padding: 1.25rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
}

.match-info {
    flex: 1;
}

.match-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.5rem;
}

.match-venue {
    font-size: 1rem;
    font-weight: 600;
    color: var(--home-text-primary);
    margin: 0;
}

.match-type {
    font-size: 0.75rem;
    color: var(--home-text-muted);
    background: rgba(255, 255, 255, 0.05);
    padding: 0.25rem 0.5rem;
    border-radius: 6px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.match-meta {
    display: flex;
    gap: 1rem;
}

.match-time, .match-players {
    font-size: 0.85rem;
    color: var(--home-text-secondary);
}

.match-status {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
}

.status-dot.available {
    background: var(--home-accent);
}

.status-dot.full {
    background: var(--home-text-muted);
}

.status-text {
    font-size: 0.8rem;
    color: var(--home-text-secondary);
    font-weight: 500;
}

/* ======= Empty State ======= */
.empty-state {
    text-align: center;
    padding: 2rem 1rem;
}

.empty-icon {
    width: 64px;
    height: 64px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.5rem;
}

.empty-icon i {
    font-size: 1.5rem;
    color: var(--home-text-muted);
}

.empty-content {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: center;
}

.empty-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--home-text-primary);
    margin: 0;
}

.empty-desc {
    font-size: 0.9rem;
    color: var(--home-text-muted);
    margin: 0;
}

/* ======= Performance Stats ======= */
.performance-stats {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.stat-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}

.stat-item {
    text-align: center;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--home-border);
    border-radius: 12px;
}

.stat-value {
    display: block;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--home-text-primary);
    margin-bottom: 0.25rem;
}

.stat-label {
    font-size: 0.8rem;
    color: var(--home-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.win-rate {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--home-border);
    border-radius: 12px;
    padding: 1rem;
}

.win-rate-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
}

.win-rate-label {
    font-size: 0.85rem;
    color: var(--home-text-secondary);
    font-weight: 500;
}

.win-rate-value {
    font-size: 1rem;
    font-weight: 700;
    color: var(--home-accent);
}

.progress-bar {
    height: 6px;
    background: rgba(255, 255, 255, 0.08);
    border-radius: 3px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: var(--home-accent);
    border-radius: 3px;
    transition: width 0.8s ease;
}

/* ======= Activity Feed ======= */
.activity-feed {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.activity-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
}

.activity-icon {
    width: 32px;
    height: 32px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--home-border);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.activity-icon i {
    font-size: 0.875rem;
    color: var(--home-text-secondary);
}

.activity-content {
    flex: 1;
    min-width: 0;
}

.activity-text {
    font-size: 0.9rem;
    color: var(--home-text-primary);
    margin: 0 0 0.25rem 0;
    line-height: 1.4;
}

.activity-time {
    font-size: 0.75rem;
    color: var(--home-text-muted);
}

/* ======= Button Styles ======= */
.btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.25rem;
    border-radius: 10px;
    font-size: 0.9rem;
    font-weight: 500;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: var(--home-transition);
}

.btn-primary {
    background: var(--home-accent);
    color: white;
    border: 1px solid var(--home-accent);
}

/* ======= Responsive ======= */
@media (max-width: 1024px) {
    .content-grid {
        grid-template-columns: 1fr 1fr;
    }
    
    .content-card.large {
        grid-column: span 2;
        grid-row: span 1;
    }
}

@media (max-width: 768px) {
    .home-container {
        padding: 1rem;
        gap: 2rem;
    }
    
    .hero-section {
        padding: 2rem;
    }
    
    .hero-content {
        flex-direction: column;
        text-align: center;
        gap: 1.5rem;
    }
    
    .stats-overview {
        justify-content: center;
    }
    
    .actions-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .action-card {
        padding: 1.5rem;
    }
    
    .content-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .content-card.large {
        grid-column: span 1;
    }
    
    .card-header,
    .card-body {
        padding: 1.25rem;
    }
    
    .match-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
    }
    
    .match-status {
        align-self: flex-end;
    }
}

@media (max-width: 480px) {
    .hero-content {
        gap: 1rem;
    }
    
    .hero-icon {
        width: 56px;
        height: 56px;
    }
    
    .hero-icon i {
        font-size: 1.5rem;
    }
    
    .stat-pill {
        padding: 0.75rem 1rem;
        min-width: 70px;
    }
    
    .stat-number {
        font-size: 1.25rem;
    }
    
    .actions-grid {
        gap: 0.75rem;
    }
    
    .action-card {
        padding: 1.25rem;
        gap: 1rem;
    }
    
    .action-icon {
        width: 40px;
        height: 40px;
    }
    
    .action-icon i {
        font-size: 1rem;
    }
    
    .card-header,
    .card-body {
        padding: 1rem;
    }
    
    .match-item {
        padding: 1rem;
    }
    
    .stat-row {
        gap: 0.75rem;
    }
    
    .stat-item {
        padding: 0.75rem;
    }
    
    .stat-value {
        font-size: 1.25rem;
    }
}

================
File: app/static/css/global/landing_styles.css
================
/* ======= Variables CLEAN ======= */
:root {
    --seville-orange: #f7835c;
    --seville-orange-rgb: 247, 131, 92;
    --mint: #00d4b1;
    --seville-accent: #8a5cf7;
    --seville-accent-rgb: 138, 92, 247;
    --seville-primary: #f7835c;
    --seville-teal: #f7835c;
    
    --bg-canvas: #0f0f1a;
    --bg-surface: #1e1e2d;
    --bg-elevated: #262636;
    
    --text-primary: #f8fafc;
    --text-secondary: #cbd5e1;
    --text-muted: #94a3b8;
    
    --border-subtle: #374151;
    
    --gradient-primary: linear-gradient(135deg, var(--seville-orange), var(--seville-teal));
    --gradient-accent: linear-gradient(145deg, var(--seville-accent), #8a5cf7);
    --gradient-cta: linear-gradient(145deg, var(--seville-orange), var(--seville-teal));
    
    --shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.15);
    --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.24);
    
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 24px;
    
    --transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    
    --font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
}

/* ======= Reset CLEAN ======= */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: var(--font-family);
    background: var(--bg-canvas);
    color: var(--text-primary);
    line-height: 1.6;
    font-weight: 400;
    -webkit-font-smoothing: antialiased;
}

/* ======= Navbar CLEAN ======= */
.navbar {
    background: rgba(15, 15, 26, 0.8);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border-subtle);
    padding: 1rem 0;
    transition: var(--transition);
}

.navbar-brand {
    font-weight: 600;
    font-size: 1.5rem;
    color: var(--text-primary);
    text-decoration: none;
}

.nav-link {
    color: var(--text-secondary);
    font-weight: 500;
    padding: 0.5rem 1rem;
    transition: var(--transition);
    text-decoration: none;
}

.nav-link:hover {
    color: var(--seville-orange);
}

/* ======= Auth Links CLEAN ======= */
.nav-link-auth {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-secondary);
    font-weight: 500;
    padding: 0.5rem 1rem;
    margin-right: 0.5rem;
    transition: var(--transition);
    text-decoration: none;
    border-radius: var(--radius-sm);
}

.nav-link-auth:hover {
    color: var(--seville-orange);
    background: rgba(247, 131, 92, 0.1);
}

.nav-btn-register {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1.25rem;
    background: var(--gradient-cta);
    color: #ffffff;
    font-weight: 600;
    font-size: 0.9rem;
    text-decoration: none;
    border-radius: var(--radius-md);
    transition: var(--transition);
    box-shadow: var(--shadow-subtle);
}

.nav-btn-register:hover {
    color: #ffffff;
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

/* ======= Hero CLEAN ======= */
.hero {
    min-height: 100vh;
    display: flex;
    align-items: center;
    position: relative;
    overflow: hidden;
}

.hero::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 50%;
    height: 100%;
    background: linear-gradient(135deg, 
        rgba(247, 131, 92, 0.03) 0%, 
        rgba(138, 92, 247, 0.02) 100%);
    z-index: 1;
}

.hero-image {
    position: absolute;
    right: 0;
    bottom: 0;
    top: 0;
    width: 65%;
    z-index: 1;
    opacity: 0.7;
    pointer-events: none;
}

.hero-image img {
    position: absolute;
    right: 5%;
    bottom: 0;
    height: 85%;
    width: auto;
    object-fit: contain;
    filter: drop-shadow(0 0 40px rgba(0, 212, 177, 0.15));
    transition: var(--transition);
}

@media (max-width: 1024px) {
    .hero-image {
        opacity: 0.25;
        width: 40%;
    }
}

@media (max-width: 768px) {
    .hero-image {
        display: none;
    }
    
    .nav-link-auth,
    .nav-btn-register {
        justify-content: center;
        width: 100%;
        margin: 0.25rem 0;
    }
}

.hero-content {
    position: relative;
    z-index: 2;
    max-width: 600px;
}

.hero-title {
    font-size: clamp(4.5rem, 8vw, 4rem);
    font-weight: 900;
    line-height: 1.1;
    margin-bottom: 1.5rem;
    letter-spacing: -0.02em;
}

.hero-title .gradient-text {
    background: var(--seville-orange);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.hero-subtitle {
    font-size: 1.25rem;
    color: var(--text-secondary);
    margin-bottom: 3rem;
    font-weight: 400;
}

.hero-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

/* ======= Buttons CLEAN ======= */
.btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.875rem 2rem;
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 1rem;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: var(--transition);
    position: relative;
    overflow: hidden;
}

.btn-primary {
    background: var(--gradient-cta);
    color: #ffffff;
    box-shadow: var(--shadow-md);
}

.btn-primary:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-lg);
    color: #ffffff;
}

.btn-secondary {
    background: var(--bg-surface);
    color: var(--text-primary);
    border: 1px solid var(--border-subtle);
}

.btn-secondary:hover {
    background: var(--bg-elevated);
    color: var(--text-primary);
    transform: translateY(-1px);
}

/* ======= Features CLEAN ======= */
.features {
    padding: 6rem 0;
    background: var(--bg-surface);
}

.section-header {
    text-align: center;
    max-width: 600px;
    margin: 0 auto 4rem;
}

.section-title {
    font-size: clamp(3rem, 4vw, 2.5rem);
    font-weight: 700;
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
}

.section-subtitle {
    font-size: 1.125rem;
    color: var(--text-secondary);
    font-weight: 400;
}

.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}

.feature-card {
    background: var(--bg-canvas);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-lg);
    padding: 2rem;
    transition: var(--transition);
}

.feature-card:hover {
    transform: translateY(-2px);
    border-color: var(--seville-orange);
    box-shadow: var(--shadow-md);
}

.feature-icon {
    width: 48px;
    height: 48px;
    background: var(--gradient-primary);
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #ffffff;
    font-size: 1.25rem;
    margin-bottom: 1.5rem;
}

.feature-title {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
    color: var(--text-primary);
}

.feature-description {
    color: var(--text-secondary);
    line-height: 1.6;
}

/* ======= Stats CLEAN ======= */
.stats {
    padding: 4rem 0;
    background: var(--bg-canvas);
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 2rem;
}

.stat-item {
    text-align: center;
    padding: 1.5rem;
}

.stat-number {
    font-size: 2.5rem;
    font-weight: 700;
    background: var(--gradient-primary);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    display: block;
    line-height: 1;
    margin-bottom: 0.5rem;
}

.stat-label {
    color: var(--text-secondary);
    font-weight: 500;
}

/* ======= CTA CLEAN ======= */
.cta {
    padding: 6rem 0;
    background: var(--bg-surface);
    text-align: center;
}

.cta-content {
    max-width: 600px;
    margin: 0 auto;
}

.cta-title {
    font-size: clamp(2rem, 4vw, 2.5rem);
    font-weight: 700;
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
}

.cta-subtitle {
    font-size: 1.125rem;
    color: var(--text-secondary);
    margin-bottom: 2rem;
}

/* ======= Footer CLEAN ======= */
.footer {
    background: var(--bg-canvas);
    border-top: 1px solid var(--border-subtle);
    padding: 3rem 0 2rem;
}

.footer-brand {
    font-weight: 600;
    font-size: 1.25rem;
    color: var(--text-primary);
    margin-bottom: 1rem;
}

.footer-description {
    color: var(--text-muted);
    margin-bottom: 2rem;
    max-width: 300px;
}

.footer-links {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.footer-links a {
    color: var(--text-secondary);
    text-decoration: none;
    font-weight: 500;
    transition: var(--transition);
}

.footer-links a:hover {
    color: var(--seville-orange);
}

.footer-bottom {
    border-top: 1px solid var(--border-subtle);
    padding-top: 2rem;
    margin-top: 2rem;
    text-align: center;
}

.footer-bottom p {
    color: var(--text-muted);
    margin: 0;
}

/* ======= Animations CLEAN ======= */
.fade-in {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.6s ease;
}

.fade-in.visible {
    opacity: 1;
    transform: translateY(0);
}

/* ======= Responsive CLEAN ======= */
@media (max-width: 768px) {
    .hero-actions {
        flex-direction: column;
    }

    .btn {
        justify-content: center;
        width: 100%;
    }

    .features-grid {
        grid-template-columns: 1fr;
    }

    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 576px) {
    .stats-grid {
        grid-template-columns: 1fr;
    }
}

================
File: app/static/css/partidos/crear_partido_styles.css
================
/* ======= Variables específicas para Crear Partido ======= */
:root {
    --crear-accent: #f7835c;
    --mint: #00d4b1;
    --crear-accent-subtle: rgba(247, 131, 92, 0.08);
    --crear-accent-border: rgba(247, 131, 92, 0.15);
    --crear-text-primary: #ffffff;
    --crear-text-secondary: #a8a8a8;
    --crear-text-muted: #6b7280;
    --crear-bg-card: #1a1a2e;
    --crear-bg-elevated: #242438;
    --crear-border: rgba(255, 255, 255, 0.08);
    --crear-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    --crear-radius: 16px;
    --crear-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ======= Container Principal ======= */
.crear-partido-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    min-height: calc(100vh - 70px);
    display: flex;
    flex-direction: column;
    gap: 3rem;
}

/* ======= Hero Section ======= */
.hero-section {
    background: linear-gradient(135deg, var(--crear-bg-card) 0%, var(--crear-bg-elevated) 100%);
    border: 1px solid var(--crear-border);
    border-radius: var(--crear-radius);
    padding: 3rem;
    position: relative;
    overflow: hidden;
}

.hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 200px;
    height: 200px;
    background: radial-gradient(circle, var(--crear-accent-subtle) 0%, transparent 70%);
    border-radius: 50%;
    transform: translate(50%, -50%);
}

.hero-content {
    position: relative;
    z-index: 2;
    display: flex;
    align-items: center;
    gap: 1.5rem;
    text-align: center;
    justify-content: center;
}

.hero-icon {
    width: 64px;
    height: 64px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--crear-border);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.hero-icon i {
    font-size: 1.75rem;
    color: var(--crear-accent);
}

.hero-text {
    flex: 1;
}

.hero-title {
    font-size: clamp(1.75rem, 3vw, 2.25rem);
    font-weight: 700;
    color: var(--crear-text-primary);
    margin-bottom: 0.5rem;
    letter-spacing: -0.02em;
    line-height: 1.2;
}

.hero-subtitle {
    font-size: 1rem;
    color: var(--crear-text-secondary);
    font-weight: 400;
    margin: 0;
}

/* ======= Form Section ======= */
.form-section {
    flex: 1;
}

.form-container {
    background: var(--crear-bg-card);
    border: 1px solid var(--crear-border);
    border-radius: var(--crear-radius);
    overflow: hidden;
    transition: var(--crear-transition);
    opacity: 0;
    transform: translateY(20px);
}

.form-container.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.form-header {
    padding: 2rem;
    border-bottom: 1px solid var(--crear-border);
    text-align: center;
}

.form-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--crear-text-primary);
    margin-bottom: 0.5rem;
    letter-spacing: -0.01em;
}

.form-subtitle {
    font-size: 0.9rem;
    color: var(--crear-text-muted);
    margin: 0;
}

.form-body {
    padding: 2rem;
}

/* ======= Form Fields ======= */
.form-fields {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.form-fields .form-group {
    margin-bottom: 0;
}

.form-fields .form-label {
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--crear-text-primary);
    margin-bottom: 0.5rem;
    display: block;
}

.form-fields .form-control,
.form-fields .form-select {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--crear-border);
    border-radius: 12px;
    padding: 0.875rem 1rem;
    color: var(--crear-text-primary);
    font-size: 0.9rem;
    transition: var(--crear-transition);
}

.form-fields .form-control:focus,
.form-fields .form-select:focus {
    background: rgba(255, 255, 255, 0.08);
    border-color: var(--mint);
    box-shadow: 0 0 0 2px rgba(0, 212, 177, 0.1);
    color: var(--crear-text-primary);
}

.form-fields .form-control::placeholder {
    color: var(--crear-text-muted);
}

.form-fields .form-control.is-invalid {
    border-color: #dc3545;
    box-shadow: 0 0 0 2px rgba(220, 53, 69, 0.1);
}

.form-fields .invalid-feedback {
    color: #dc3545;
    font-size: 0.8rem;
    margin-top: 0.25rem;
}

/* ======= Form Actions ======= */
.form-actions {
    display: flex;
    gap: 1rem;
    justify-content: flex-end;
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid var(--crear-border);
}

.btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.875rem 1.5rem;
    border-radius: 12px;
    font-size: 0.9rem;
    font-weight: 500;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: var(--crear-transition);
    position: relative;
    overflow: hidden;
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.05);
    color: var(--crear-text-secondary);
    border: 1px solid var(--crear-border);
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.08);
    color: var(--crear-text-primary);
    transform: translateY(-1px);
}

.btn-primary {
    background: var(--crear-accent);
    color: white;
    border: 1px solid var(--crear-accent);
}

.btn-primary:hover:not(.loading) {
    background: #e6673a;
    transform: translateY(-1px);
}

.btn-primary.loading {
    background: var(--crear-accent);
    cursor: not-allowed;
}

.btn-loader {
    opacity: 0;
    transition: opacity 0.3s ease;
}

.spinner {
    width: 16px;
    height: 16px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top: 2px solid white;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* ======= Tips Section ======= */
.tips-section {
    margin-top: 2rem;
}

.tips-container {
    background: var(--crear-bg-card);
    border: 1px solid var(--crear-border);
    border-radius: var(--crear-radius);
    padding: 2rem;
}

.tips-header {
    text-align: center;
    margin-bottom: 2rem;
}

.tips-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--crear-text-primary);
    margin-bottom: 0.5rem;
    letter-spacing: -0.01em;
}

.title-accent {
    width: 60px;
    height: 2px;
    background: linear-gradient(90deg, var(--crear-accent) 0%, transparent 100%);
    margin: 0 auto;
    border-radius: 1px;
}

.tips-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
}

.tip-card {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--crear-border);
    border-radius: 12px;
    padding: 1.5rem;
    transition: var(--crear-transition);
    opacity: 0;
    transform: translateY(20px);
}

.tip-card.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.tip-card:hover {
    background: rgba(255, 255, 255, 0.04);
    border-color: var(--crear-accent-border);
}

.tip-icon {
    width: 48px;
    height: 48px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1rem;
}

.tip-icon i {
    font-size: 1.25rem;
    color: var(--mint);
}

.tip-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--crear-text-primary);
    margin-bottom: 0.5rem;
}

.tip-description {
    font-size: 0.85rem;
    color: var(--crear-text-muted);
    line-height: 1.5;
    margin: 0;
}

/* ======= Responsive ======= */
@media (max-width: 768px) {
    .crear-partido-container {
        padding: 1rem;
        gap: 2rem;
    }
    
    .hero-section {
        padding: 2rem;
    }
    
    .hero-content {
        flex-direction: column;
        text-align: center;
    }
    
    .form-body {
        padding: 1.5rem;
    }
    
    .form-actions {
        flex-direction: column-reverse;
    }
    
    .tips-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .tip-card {
        padding: 1.25rem;
    }
    
    .tips-container {
        padding: 1.5rem;
    }
}

@media (max-width: 480px) {
    .hero-content {
        gap: 1rem;
    }
    
    .hero-icon {
        width: 56px;
        height: 56px;
    }
    
    .hero-icon i {
        font-size: 1.5rem;
    }
    
    .form-header,
    .form-body {
        padding: 1rem;
    }
}

================
File: app/static/css/partidos/detalle_partido_styles.css
================
/* ======= Assignment Mode Toggle ======= */
.header-controls {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.assignment-mode-toggle {
    display: flex;
    background: rgba(255, 255, 255, 0.05);
    border-radius: var(--radius-md);
    padding: 0.25rem;
    border: 1px solid var(--glass-border);
}

.mode-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: transparent;
    border: none;
    border-radius: var(--radius-sm);
    color: var(--text-secondary);
    font-size: 0.85rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition-fast);
    position: relative;
    white-space: nowrap;
}

.mode-btn.active {
    background: var(--match-primary);
    color: white;
    box-shadow: 0 2px 8px rgba(0, 212, 170, 0.3);
}

.mode-btn:not(.active):hover {
    background: rgba(255, 255, 255, 0.08);
    color: var(--text-primary);
}

/* ======= Assignment Info ======= */
.assignment-info {
    margin-bottom: 1.5rem;
    position: relative;
    min-height: 60px;
}

.info-card {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding: 1rem 1.5rem;
    background: rgba(0, 212, 170, 0.1);
    border: 1px solid rgba(0, 212, 170, 0.2);
    border-radius: var(--radius-md);
    color: var(--match-primary);
    font-size: 0.9rem;
    opacity: 0;
    transform: translateY(-10px);
    transition: var(--transition-normal);
    pointer-events: none;
}

.info-card.active {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}

/* ======= Assignment Modes ======= */
.assignment-mode {
    display: none;
    animation: fadeInUp 0.5s ease-out;
}

.assignment-mode.active {
    display: block;
}

/* ======= Team Counters ======= */
.team-counter {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    height: 24px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    font-size: 0.75rem;
    font-weight: 700;
    margin-left: 0.5rem;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

/* ======= Dropdown Mode Styles ======= */
.dropdown-assignment-container {
    display: grid;
    grid-template-columns: 1fr 300px;
    gap: 2rem;
    min-height: 500px;
}

.players-assignment-list {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-md);
    padding: 1.5rem;
    max-height: 600px;
    overflow-y: auto;
}

.player-assignment-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    margin-bottom: 1rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    transition: var(--transition-fast);
}

.player-assignment-row:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: var(--match-primary);
    transform: translateX(4px);
}

.player-info-section {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex: 1;
}

.player-assignment-row .player-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    border: 2px solid var(--match-primary);
    overflow: hidden;
    flex-shrink: 0;
}

.player-assignment-row .player-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.player-details {
    flex: 1;
}

.player-assignment-row .player-name {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0 0 0.25rem 0;
}

.player-assignment-row .player-position {
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin: 0;
}

.creator-tag {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    background: linear-gradient(135deg, #ffd700, #ffed4e);
    color: #333;
    font-size: 0.7rem;
    font-weight: 600;
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    margin-top: 0.25rem;
}

.assignment-controls {
    flex-shrink: 0;
}

.team-select {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-sm);
    color: var(--text-primary);
    padding: 0.5rem 1rem;
    font-size: 0.9rem;
    cursor: pointer;
    transition: var(--transition-fast);
    backdrop-filter: blur(10px);
    min-width: 140px;
}

.team-select:focus {
    outline: none;
    border-color: var(--match-primary);
    box-shadow: 0 0 0 2px rgba(0, 212, 170, 0.2);
}

.team-select option {
    background: var(--bg-secondary);
    color: var(--text-primary);
    padding: 0.5rem;
}

/* ======= Team Summary ======= */
.team-summary {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.summary-card {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-md);
    padding: 1.5rem;
    transition: var(--transition-normal);
}

.summary-card:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: var(--match-primary);
}

.summary-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0 0 1rem 0;
    display: flex;
    align-items: center;
}

.summary-title i {
    color: var(--match-primary);
}

.player-count {
    display: flex;
    align-items: baseline;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.player-count .count {
    font-size: 2rem;
    font-weight: 700;
    color: var(--match-primary);
    line-height: 1;
}

.player-count .max-text {
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.players-preview {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    min-height: 40px;
}

.preview-player {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-sm);
    padding: 0.25rem 0.5rem;
    font-size: 0.75rem;
    color: var(--text-secondary);
}

.preview-player img {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    border: 1px solid var(--match-primary);
}

/* ======= Auto Assignment Mode ======= */
.auto-assignment-container {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-md);
    padding: 2rem;
}

.auto-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1.5rem;
    text-align: center;
}

.auto-controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
}

.auto-option {
    position: relative;
}

.auto-label {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.5rem;
    background: rgba(255, 255, 255, 0.05);
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: var(--transition-normal);
    position: relative;
    overflow: hidden;
}

.auto-label::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(0, 212, 170, 0.1), transparent);
    transition: left var(--transition-normal);
}

.auto-label:hover::before {
    left: 100%;
}

.auto-label:hover {
    border-color: var(--match-primary);
    background: rgba(255, 255, 255, 0.08);
}

.auto-label input[type="radio"] {
    display: none;
}

.auto-label input[type="radio"]:checked + .radio-custom {
    background: var(--match-primary);
    border-color: var(--match-primary);
    box-shadow: 0 0 0 2px rgba(0, 212, 170, 0.2);
}

.auto-label input[type="radio"]:checked + .radio-custom::after {
    opacity: 1;
    transform: scale(1);
}

.auto-label input[type="radio"]:checked ~ .option-content {
    color: var(--text-primary);
}

.radio-custom {
    width: 20px;
    height: 20px;
    border: 2px solid var(--glass-border);
    border-radius: 50%;
    background: transparent;
    position: relative;
    transition: var(--transition-fast);
    flex-shrink: 0;
    margin-top: 2px;
}

.radio-custom::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 8px;
    height: 8px;
    background: white;
    border-radius: 50%;
    transform: translate(-50%, -50%) scale(0);
    opacity: 0;
    transition: var(--transition-fast);
}

.option-content {
    flex: 1;
    color: var(--text-secondary);
    transition: var(--transition-fast);
}

.option-content strong {
    display: block;
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    color: var(--text-primary);
}

.option-content p {
    font-size: 0.85rem;
    margin: 0;
    line-height: 1.4;
}

.btn-auto-assign {
    display: block;
    margin: 0 auto;
    padding: 1rem 2rem;
    font-size: 1rem;
    background: linear-gradient(135deg, var(--match-primary), #00b894);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: var(--transition-normal);
    position: relative;
    overflow: hidden;
}

.btn-auto-assign::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left var(--transition-normal);
}

.btn-auto-assign:hover::before {
    left: 100%;
}

.btn-auto-assign:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 212, 170, 0.4);
}

/* ======= Auto Assignment Result ======= */
.auto-result {
    margin-top: 2rem;
    padding: 2rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-md);
    animation: fadeInUp 0.5s ease-out;
}

.result-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1.5rem;
    text-align: center;
}

.result-teams {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
}

.result-team {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    padding: 1.5rem;
}

.result-team h5 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
}

.result-team h5 i {
    color: var(--match-primary);
}

.result-team.local {
    border-left: 4px solid var(--local-team);
}

.result-team.visitante {
    border-left: 4px solid var(--visitante-team);
}

.result-team.bench {
    border-left: 4px solid var(--text-muted);
}

.result-players {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.result-player {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: var(--radius-sm);
    transition: var(--transition-fast);
}

.result-player:hover {
    background: rgba(255, 255, 255, 0.1);
}

.result-player img {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: 1px solid var(--match-primary);
}

.result-player-info {
    flex: 1;
}

.result-player-name {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
}

.result-player-position {
    font-size: 0.75rem;
    color: var(--text-secondary);
    margin: 0;
}

/* ======= Responsive Updates ======= */
@media (max-width: 1200px) {
    .dropdown-assignment-container {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .team-summary {
        flex-direction: row;
        overflow-x: auto;
        gap: 1rem;
    }
    
    .summary-card {
        min-width: 200px;
        flex-shrink: 0;
    }
}

@media (max-width: 768px) {
    .header-controls {
        flex-direction: column;
        gap: 1rem;
        align-items: stretch;
    }
    
    .assignment-mode-toggle {
        justify-content: center;
    }
    
    .mode-btn {
        flex: 1;
        text-align: center;
        justify-content: center;
    }
    
    .player-assignment-row {
        flex-direction: column;
        align-items: stretch;
        gap: 1rem;
    }
    
    .assignment-controls {
        align-self: stretch;
    }
    
    .team-select {
        width: 100%;
    }
    
    .auto-controls {
        grid-template-columns: 1fr;
    }
    
    .result-teams {
        grid-template-columns: 1fr;
    }
    
    .team-summary {
        flex-direction: column;
    }
    
    .summary-card {
        min-width: auto;
    }
}

@media (max-width: 480px) {
    .assignment-mode-toggle {
        flex-direction: column;
        gap: 0.25rem;
    }
    
    .mode-btn {
        padding: 0.75rem;
    }
    
    .auto-assignment-container,
    .dropdown-assignment-container .players-assignment-list {
        padding: 1rem;
    }
    
    .auto-label {
        padding: 1rem;
    }
    
    .btn-auto-assign {
        width: 100%;
        padding: 1rem;
    }
}

/* ======= Enhanced Animations ======= */
@keyframes modeSwitch {
    0% {
        opacity: 0;
        transform: translateY(20px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

.assignment-mode.active {
    animation: modeSwitch 0.4s ease-out;
}

@keyframes countUpdate {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.2);
        color: var(--match-primary);
    }
    100% {
        transform: scale(1);
    }
}

.player-count .count.updated {
    animation: countUpdate 0.3s ease-out;
}

@keyframes previewSlide {
    0% {
        opacity: 0;
        transform: translateX(-10px);
    }
    100% {
        opacity: 1;
        transform: translateX(0);
    }
}

.preview-player {
    animation: previewSlide 0.3s ease-out;
}

/* ======= Accessibility Improvements ======= */
.mode-btn:focus,
.team-select:focus,
.auto-label:focus-within,
.btn-auto-assign:focus {
    outline: 2px solid var(--match-primary);
    outline-offset: 2px;
}

.auto-label:focus-within {
    border-color: var(--match-primary);
}

/* ======= High Contrast Mode Support ======= */
@media (prefers-contrast: high) {
    .assignment-mode-toggle {
        border: 2px solid var(--text-primary);
    }
    
    .mode-btn.active {
        background: var(--text-primary);
        color: var(--bg-primary);
    }
    
    .team-select {
        border: 2px solid var(--text-primary);
    }
    
    .auto-label {
        border: 2px solid var(--text-secondary);
    }
    
    .auto-label:hover {
        border-color: var(--text-primary);
    }
}

/* ======= Loading States ======= */
.btn-auto-assign.loading {
    pointer-events: none;
    opacity: 0.7;
}

.btn-auto-assign.loading::after {
    content: '';
    position: absolute;
    width: 16px;
    height: 16px;
    margin: auto;
    border: 2px solid transparent;
    border-top-color: white;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.save-success {
    background: var(--match-success) !important;
    color: white !important;
}

.save-success::before {
    display: none;
}/* ======= Variables específicas ======= */
:root {
    --match-primary: #00d4aa;
    --match-secondary: #1a1d29;
    --match-accent: #ff6b6b;
    --match-success: #51cf66;
    --match-warning: #ffd43b;
    --match-error: #ff6b6b;
    
    --field-green: #2d8f47;
    --field-green-light: #4caf50;
    --field-lines: #ffffff;
    --local-team: #4285f4;
    --visitante-team: #ea4335;
    
    --glass-bg: rgba(255, 255, 255, 0.08);
    --glass-border: rgba(255, 255, 255, 0.12);
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    
    --text-primary: #ffffff;
    --text-secondary: #b0bec5;
    --text-muted: #78909c;
    
    --bg-primary: #0f1419;
    --bg-secondary: #1a1d29;
    --bg-elevated: #242837;
    
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 24px;
    
    --transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-normal: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ======= Base Container ======= */
.match-detail-container {
    min-height: calc(100vh - 70px);
    background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
    padding: 2rem;
    position: relative;
    overflow-x: hidden;
}

.match-detail-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 80%, rgba(0, 212, 170, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255, 107, 107, 0.1) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
}

/* ======= Messages ======= */
.messages-container {
    position: relative;
    z-index: 10;
    margin-bottom: 2rem;
}

.alert {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(10px);
    border-radius: var(--radius-md);
    color: var(--text-primary);
    border-left: 4px solid var(--match-primary);
}

.alert.alert-warning {
    border-left-color: var(--match-warning);
}

.alert.alert-danger {
    border-left-color: var(--match-error);
}

/* ======= Hero Section ======= */
.match-hero {
    position: relative;
    margin-bottom: 3rem;
    border-radius: var(--radius-xl);
    overflow: hidden;
    min-height: 200px;
    display: flex;
    align-items: center;
}

.hero-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
}

.hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, 
        rgba(0, 212, 170, 0.8) 0%, 
        rgba(26, 29, 41, 0.9) 100%);
}

.hero-pattern {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        repeating-linear-gradient(45deg,
            transparent,
            transparent 10px,
            rgba(255, 255, 255, 0.03) 10px,
            rgba(255, 255, 255, 0.03) 20px);
}

.hero-content {
    position: relative;
    z-index: 3;
    padding: 3rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
}

.match-title-section {
    flex: 1;
}

.match-title {
    font-size: clamp(2rem, 5vw, 3.5rem);
    font-weight: 800;
    color: var(--text-primary);
    margin-bottom: 1rem;
    line-height: 1.1;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.match-status-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: var(--radius-lg);
    font-weight: 600;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    backdrop-filter: blur(10px);
}

.match-status-badge.status-programado {
    background: rgba(255, 212, 59, 0.2);
    border: 1px solid rgba(255, 212, 59, 0.3);
    color: var(--match-warning);
}

.match-status-badge.status-finalizado {
    background: rgba(81, 207, 102, 0.2);
    border: 1px solid rgba(81, 207, 102, 0.3);
    color: var(--match-success);
}

.hero-actions {
    display: flex;
    gap: 1rem;
}

/* ======= Main Content Grid ======= */
.match-content-grid {
    display: grid;
    grid-template-columns: 400px 1fr;
    gap: 3rem;
    position: relative;
    z-index: 1;
}

/* ======= Glass Effect ======= */
.glass-effect {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(20px);
    border-radius: var(--radius-lg);
    box-shadow: var(--glass-shadow);
}

/* ======= Info Cards ======= */
.info-card {
    margin-bottom: 2rem;
    transition: var(--transition-normal);
}

.info-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
}

.card-header {
    padding: 2rem 2rem 1rem;
    border-bottom: 1px solid var(--glass-border);
}

.card-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--text-primary);
    margin: 0;
    display: flex;
    align-items: center;
}

.card-title i {
    color: var(--match-primary);
}

.card-body {
    padding: 2rem;
}

/* ======= Info Grid ======= */
.info-grid {
    display: grid;
    gap: 1.5rem;
}

.info-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1rem;
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.06);
    transition: var(--transition-fast);
}

.info-item:hover {
    background: rgba(255, 255, 255, 0.06);
    border-color: var(--match-primary);
    transform: translateX(4px);
}

.info-icon {
    width: 40px;
    height: 40px;
    border-radius: var(--radius-sm);
    background: linear-gradient(135deg, var(--match-primary), #00b894);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.info-icon i {
    color: white;
    font-size: 1rem;
}

.info-content {
    flex: 1;
    min-width: 0;
}

.info-label {
    display: block;
    font-size: 0.8rem;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 0.25rem;
}

.info-value {
    display: block;
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    line-height: 1.3;
}

.info-detail {
    display: block;
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-top: 0.25rem;
}

/* ======= Comments Section ======= */
.comments-section {
    margin-top: 2rem;
    padding: 1.5rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-md);
}

.comments-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
}

.comments-title i {
    color: var(--match-primary);
}

.comments-content {
    color: var(--text-secondary);
    line-height: 1.6;
    margin: 0;
}

/* ======= Players Status Card ======= */
.players-status-card {
    margin-bottom: 2rem;
}

.players-status-card .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.players-count {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-primary);
}

.players-count .current {
    color: var(--match-primary);
}

.players-count .separator {
    color: var(--text-muted);
}

.players-count .max {
    color: var(--text-secondary);
}

/* ======= Progress Bar ======= */
.progress-container {
    margin-bottom: 1.5rem;
}

.progress-bar {
    height: 8px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    overflow: hidden;
    position: relative;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--match-primary), #00b894);
    border-radius: 4px;
    transition: width var(--transition-slow);
    position: relative;
}

.progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255, 255, 255, 0.3) 50%, 
        transparent 100%);
    animation: shimmer 2s infinite;
}

@keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.progress-labels {
    margin-top: 0.75rem;
    text-align: center;
    font-size: 0.9rem;
    color: var(--text-secondary);
}

/* ======= Status Messages ======= */
.status-message {
    display: flex;
    align-items: center;
    padding: 1rem;
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 0.9rem;
}

.status-message.status-available {
    background: rgba(81, 207, 102, 0.15);
    border: 1px solid rgba(81, 207, 102, 0.3);
    color: var(--match-success);
}

.status-message.status-full {
    background: rgba(255, 107, 107, 0.15);
    border: 1px solid rgba(255, 107, 107, 0.3);
    color: var(--match-error);
}

.status-message.status-closed {
    background: rgba(255, 212, 59, 0.15);
    border: 1px solid rgba(255, 212, 59, 0.3);
    color: var(--match-warning);
}

/* ======= Football Field ======= */
.team-management-section {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(20px);
    border-radius: var(--radius-lg);
    overflow: hidden;
}

.section-header {
    padding: 2rem 2rem 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid var(--glass-border);
}

.section-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--text-primary);
    margin: 0;
    display: flex;
    align-items: center;
}

.section-title i {
    color: var(--match-primary);
}

.football-field-container {
    padding: 2rem;
    background: linear-gradient(135deg, #1a4a32 0%, #2d5016 100%);
    position: relative;
}

.field-wrapper {
    position: relative;
    max-width: 800px;
    margin: 0 auto;
}

.football-field {
    position: relative;
    width: 100%;
    aspect-ratio: 1.5 / 1;
    background: linear-gradient(135deg, var(--field-green) 0%, var(--field-green-light) 100%);
    border: 3px solid var(--field-lines);
    border-radius: var(--radius-md);
    overflow: hidden;
    box-shadow: 
        inset 0 0 50px rgba(0, 0, 0, 0.2),
        0 10px 30px rgba(0, 0, 0, 0.3);
}

/* ======= Field Lines ======= */
.field-lines {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
}

.center-line {
    position: absolute;
    left: 50%;
    top: 0;
    bottom: 0;
    width: 2px;
    background: var(--field-lines);
    transform: translateX(-50%);
}

.center-circle {
    position: absolute;
    left: 50%;
    top: 50%;
    width: 80px;
    height: 80px;
    border: 2px solid var(--field-lines);
    border-radius: 50%;
    transform: translate(-50%, -50%);
}

.penalty-area {
    position: absolute;
    width: 120px;
    height: 200px;
    border: 2px solid var(--field-lines);
    top: 50%;
    transform: translateY(-50%);
}

.penalty-area.left {
    left: 0;
    border-right: none;
}

.penalty-area.right {
    right: 0;
    border-left: none;
}

.goal-area {
    position: absolute;
    width: 60px;
    height: 120px;
    border: 2px solid var(--field-lines);
    top: 50%;
    transform: translateY(-50%);
}

.goal-area.left {
    left: 0;
    border-right: none;
}

.goal-area.right {
    right: 0;
    border-left: none;
}

.goal {
    position: absolute;
    width: 8px;
    height: 80px;
    background: var(--field-lines);
    top: 50%;
    transform: translateY(-50%);
    border-radius: 4px;
}

.goal.left {
    left: -8px;
}

.goal.right {
    right: -8px;
}

.corner-arc {
    position: absolute;
    width: 20px;
    height: 20px;
    border: 2px solid var(--field-lines);
    border-radius: 50%;
}

.corner-arc.top-left {
    top: -10px;
    left: -10px;
    border-bottom: none;
    border-right: none;
}

.corner-arc.top-right {
    top: -10px;
    right: -10px;
    border-bottom: none;
    border-left: none;
}

.corner-arc.bottom-left {
    bottom: -10px;
    left: -10px;
    border-top: none;
    border-right: none;
}

.corner-arc.bottom-right {
    bottom: -10px;
    right: -10px;
    border-top: none;
    border-left: none;
}

/* ======= Team Zones ======= */
.team-zone {
    position: absolute;
    top: 10px;
    bottom: 10px;
    width: calc(50% - 10px);
    border-radius: var(--radius-sm);
    transition: var(--transition-normal);
}

.local-zone {
    left: 10px;
    background: rgba(66, 133, 244, 0.1);
    border: 2px dashed rgba(66, 133, 244, 0.3);
}

.visitante-zone {
    right: 10px;
    background: rgba(234, 67, 53, 0.1);
    border: 2px dashed rgba(234, 67, 53, 0.3);
}

.team-zone.drag-over {
    background: rgba(255, 255, 255, 0.2);
    border-color: var(--field-lines);
    transform: scale(1.02);
}

.team-label {
    position: absolute;
    top: 10px;
    left: 10px;
    right: 10px;
    background: rgba(0, 0, 0, 0.7);
    color: white;
    padding: 0.5rem;
    border-radius: var(--radius-sm);
    text-align: center;
    font-size: 0.8rem;
    font-weight: 600;
    backdrop-filter: blur(10px);
}

.players-drop-zone {
    position: absolute;
    top: 50px;
    left: 10px;
    right: 10px;
    bottom: 10px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    padding: 10px;
    align-content: flex-start;
}

/* ======= Field Players ======= */
.field-player {
    width: 60px;
    height: 80px;
    background: rgba(255, 255, 255, 0.95);
    border-radius: var(--radius-sm);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 4px;
    cursor: grab;
    transition: var(--transition-fast);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    position: relative;
    overflow: hidden;
}

.field-player:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
    z-index: 10;
}

.field-player.dragging {
    cursor: grabbing;
    opacity: 0.7;
    transform: rotate(5deg) scale(1.1);
    z-index: 1000;
}

.local-player {
    border: 2px solid var(--local-team);
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
}

.visitante-player {
    border: 2px solid var(--visitante-team);
    background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
}

.field-player .player-avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    overflow: hidden;
    margin-bottom: 4px;
    border: 2px solid rgba(255, 255, 255, 0.8);
}

.field-player .player-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.field-player .player-name {
    font-size: 0.7rem;
    font-weight: 600;
    text-align: center;
    line-height: 1;
    color: #333;
    margin-bottom: 2px;
}

.field-player .player-position {
    font-size: 0.6rem;
    font-weight: 500;
    text-align: center;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* ======= Bench Area ======= */
.bench-area {
    margin-top: 2rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--radius-md);
    padding: 1.5rem;
    backdrop-filter: blur(10px);
}

.bench-title {
    color: var(--text-primary);
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
}

.bench-title i {
    color: var(--match-primary);
}

.bench-players {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    min-height: 80px;
    padding: 1rem;
    border: 2px dashed rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-sm);
    transition: var(--transition-normal);
}

.bench-players.drag-over {
    border-color: var(--match-primary);
    background: rgba(0, 212, 170, 0.1);
}

.bench-player {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    padding: 0.75rem;
    cursor: grab;
    transition: var(--transition-fast);
    position: relative;
    min-width: 200px;
}

.bench-player:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--match-primary);
    transform: translateY(-2px);
}

.bench-player.dragging {
    cursor: grabbing;
    opacity: 0.7;
    transform: rotate(2deg) scale(1.05);
    z-index: 1000;
}

.bench-player .player-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    overflow: hidden;
    border: 2px solid var(--match-primary);
    flex-shrink: 0;
}

.bench-player .player-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.bench-player .player-info {
    flex: 1;
    min-width: 0;
}

.bench-player .player-name {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 0.25rem;
}

.bench-player .player-position {
    font-size: 0.75rem;
    color: var(--text-secondary);
}

.creator-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    width: 20px;
    height: 20px;
    background: linear-gradient(135deg, #ffd700, #ffed4e);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid white;
    font-size: 0.6rem;
    color: #333;
}

/* ======= Buttons ======= */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 0.9rem;
    text-decoration: none;
    cursor: pointer;
    transition: var(--transition-fast);
    position: relative;
    overflow: hidden;
}

.btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left var(--transition-normal);
}

.btn:hover::before {
    left: 100%;
}

.btn-premium {
    background: linear-gradient(135deg, var(--match-primary), #00b894);
    color: white;
    box-shadow: 0 4px 15px rgba(0, 212, 170, 0.3);
}

.btn-premium:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 212, 170, 0.4);
    color: white;
}

.btn-save {
    background: linear-gradient(135deg, var(--match-success), #40c057);
    color: white;
    box-shadow: 0 4px 15px rgba(81, 207, 102, 0.3);
}

.btn-save:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(81, 207, 102, 0.4);
    color: white;
}

.btn-save:disabled {
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-muted);
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

.btn-primary {
    background: linear-gradient(135deg, #4285f4, #1a73e8);
    color: white;
    box-shadow: 0 4px 15px rgba(66, 133, 244, 0.3);
}

.btn-success {
    background: linear-gradient(135deg, var(--match-success), #40c057);
    color: white;
}

.btn-outline {
    background: transparent;
    border: 2px solid var(--glass-border);
    color: var(--text-primary);
}

.btn-outline:hover {
    background: var(--glass-bg);
    border-color: var(--match-primary);
    color: var(--text-primary);
}

.btn-outline-danger {
    background: transparent;
    border: 2px solid var(--match-error);
    color: var(--match-error);
}

.btn-outline-danger:hover {
    background: var(--match-error);
    color: white;
}

.btn-large {
    padding: 1rem 2rem;
    font-size: 1rem;
}

/* ======= Players List (Non-Creator View) ======= */
.players-list-section {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    backdrop-filter: blur(20px);
    border-radius: var(--radius-lg);
    padding: 2rem;
}

.players-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5rem;
}

.player-card {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-md);
    padding: 1.5rem;
    text-align: center;
    transition: var(--transition-normal);
}

.player-card:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: var(--match-primary);
    transform: translateY(-4px);
}

.player-avatar-wrapper {
    position: relative;
    display: inline-block;
    margin-bottom: 1rem;
}

.player-card .player-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    border: 3px solid var(--match-primary);
    object-fit: cover;
}

.creator-crown {
    position: absolute;
    top: -5px;
    right: -5px;
    width: 24px;
    height: 24px;
    background: linear-gradient(135deg, #ffd700, #ffed4e);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid white;
    font-size: 0.7rem;
    color: #333;
}

.player-card .player-name {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
}

.player-card .player-position {
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin-bottom: 1rem;
}

.player-badges {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
}

.team-badge {
    padding: 0.25rem 0.75rem;
    border-radius: var(--radius-sm);
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.team-badge.local {
    background: rgba(66, 133, 244, 0.2);
    color: var(--local-team);
    border: 1px solid rgba(66, 133, 244, 0.3);
}

.team-badge.visitante {
    background: rgba(234, 67, 53, 0.2);
    color: var(--visitante-team);
    border: 1px solid rgba(234, 67, 53, 0.3);
}

.team-badge.bench {
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-secondary);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

/* ======= Action Buttons ======= */
.action-buttons {
    margin-top: 2rem;
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

/* ======= Empty State ======= */
.empty-state {
    text-align: center;
    padding: 4rem 2rem;
    color: var(--text-secondary);
}

.empty-icon {
    width: 80px;
    height: 80px;
    margin: 0 auto 2rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px dashed rgba(255, 255, 255, 0.2);
}

.empty-icon i {
    font-size: 2rem;
    color: var(--text-muted);
}

.empty-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 0.75rem;
}

.empty-description {
    font-size: 0.95rem;
    color: var(--text-secondary);
    margin: 0;
}

/* ======= Drag & Drop Effects ======= */
.drag-preview {
    position: fixed;
    top: -1000px;
    left: -1000px;
    pointer-events: none;
    z-index: 9999;
    opacity: 0.8;
    transform: rotate(5deg) scale(1.1);
    transition: none;
}

.touch-feedback {
    position: fixed;
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: radial-gradient(circle, var(--match-primary) 0%, transparent 70%);
    pointer-events: none;
    z-index: 9998;
    opacity: 0;
    transform: scale(0);
    transition: all var(--transition-fast);
}

.touch-feedback.active {
    opacity: 0.6;
    transform: scale(1);
}

/* ======= Animations ======= */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.8);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.match-detail-container > * {
    animation: fadeInUp 0.6s ease-out;
}

.match-detail-container > *:nth-child(2) {
    animation-delay: 0.1s;
}

.match-detail-container > *:nth-child(3) {
    animation-delay: 0.2s;
}

.info-item {
    animation: slideInLeft 0.5s ease-out;
}

.info-item:nth-child(2n) {
    animation-delay: 0.1s;
}

.info-item:nth-child(3n) {
    animation-delay: 0.2s;
}

.field-player,
.bench-player {
    animation: scaleIn 0.4s ease-out;
}

/* ======= Responsive Design ======= */
@media (max-width: 1200px) {
    .match-content-grid {
        grid-template-columns: 1fr;
        gap: 2rem;
    }
    
    .hero-content {
        flex-direction: column;
        text-align: center;
        gap: 2rem;
    }
}

@media (max-width: 768px) {
    .match-detail-container {
        padding: 1rem;
    }
    
    .hero-content {
        padding: 2rem;
    }
    
    .match-title {
        font-size: 2rem;
    }
    
    .football-field {
        aspect-ratio: 1.2 / 1;
    }
    
    .field-player {
        width: 50px;
        height: 70px;
    }
    
    .field-player .player-avatar {
        width: 28px;
        height: 28px;
    }
    
    .field-player .player-name {
        font-size: 0.6rem;
    }
    
    .field-player .player-position {
        font-size: 0.5rem;
    }
    
    .bench-player {
        min-width: 160px;
        padding: 0.5rem;
    }
    
    .team-zone {
        top: 15px;
        bottom: 15px;
    }
    
    .players-drop-zone {
        gap: 8px;
        padding: 8px;
    }
    
    .players-grid {
        grid-template-columns: 1fr;
    }
    
    .action-buttons {
        flex-direction: column;
    }
    
    .btn-large {
        width: 100%;
    }
}

@media (max-width: 480px) {
    .match-content-grid {
        gap: 1.5rem;
    }
    
    .card-header,
    .card-body {
        padding: 1.5rem;
    }
    
    .football-field-container {
        padding: 1rem;
    }
    
    .bench-area {
        padding: 1rem;
    }
    
    .bench-players {
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .bench-player {
        min-width: auto;
        width: 100%;
    }
}

/* ======= Touch Device Optimizations ======= */
@media (hover: none) and (pointer: coarse) {
    .field-player,
    .bench-player {
        cursor: pointer;
    }
    
    .field-player:hover,
    .bench-player:hover {
        transform: none;
    }
    
    .field-player:active,
    .bench-player:active {
        transform: scale(1.05);
        opacity: 0.8;
    }
    
    .team-zone {
        padding: 10px;
    }
    
    .field-player {
        width: 55px;
        height: 75px;
        margin: 2px;
    }
    
    .bench-player {
        padding: 1rem;
    }
}

/* ======= High Contrast Mode ======= */
@media (prefers-contrast: high) {
    :root {
        --glass-bg: rgba(0, 0, 0, 0.8);
        --glass-border: rgba(255, 255, 255, 0.5);
        --text-secondary: #ffffff;
        --text-muted: #cccccc;
    }
    
    .field-player {
        border-width: 3px;
    }
    
    .team-zone {
        border-width: 3px;
    }
}

/* ======= Reduced Motion ======= */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    .btn::before {
        display: none;
    }
    
    .progress-fill::after {
        display: none;
    }
}

================
File: app/static/css/perfil/editar_perfil_styles.css
================
/* ======= Variables específicas para Editar Perfil ======= */
.editar-perfil-page {
    --perfil-accent: #f7835c; /* Naranja principal */
    --mint: #00d4b1; /* Verde menta para acentos secundarios o foco */
    --perfil-accent-subtle: rgba(247, 131, 92, 0.08);
    --perfil-accent-border: rgba(247, 131, 92, 0.2); /* Borde más visible */

    --perfil-text-primary: #e0e0e0; /* Texto principal ligeramente menos brillante */
    --perfil-text-secondary: #b0b0b0; /* Texto secundario */
    --perfil-text-muted: #757575;    /* Texto más apagado */

    --perfil-bg-base: #12121f; /* Fondo principal de la página */
    --perfil-bg-card: #1a1a2e; /* Fondo de la tarjeta del formulario */
    --perfil-bg-input: rgba(255, 255, 255, 0.05);
    --perfil-bg-input-focus: rgba(255, 255, 255, 0.08);
    --perfil-bg-button-secondary: #2c2c44; /* Fondo para botón secundario */

    --perfil-border-color: rgba(255, 255, 255, 0.12); /* Borde un poco más visible */
    --perfil-focus-shadow: 0 0 0 3px rgba(0, 212, 177, 0.25); /* Sombra de foco con el color mint */

    --perfil-radius-main: 12px; /* Radio para la tarjeta principal */
    --perfil-radius-input: 8px;  /* Radio para inputs y botones */
    --perfil-transition: all 0.25s ease-in-out;

    /* Integración con variables de Bootstrap para consistencia si es posible */
    --bs-body-bg: var(--perfil-bg-base);
    --bs-body-color: var(--perfil-text-primary);
    --bs-border-color: var(--perfil-border-color);
}

/* ======= Estilos Generales para la Página de Perfil ======= */
.editar-perfil-page {
    background-color: var(--perfil-bg-base);
    color: var(--perfil-text-primary);
    min-height: 100vh; /* Asegura que el fondo cubra toda la altura vista */
    font-family: 'Inter', sans-serif; /* Asegura la fuente base */
}

.editar-perfil-container {
    max-width: 800px; /* Ancho máximo para el contenido del formulario */
    margin: 0 auto;
    padding: 2rem 1rem; /* Espacio arriba/abajo y a los lados */
}

/* ======= Contenedor del Formulario (Tarjeta Principal) ======= */
.form-container {
    background: var(--perfil-bg-card);
    border: 1px solid var(--perfil-border-color);
    border-radius: var(--perfil-radius-main);
    overflow: hidden; /* Para que los bordes redondeados funcionen bien */
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2); /* Sombra sutil */
    margin-top: 1rem; /* Espacio desde el navbar si es fijo */
}

/* ======= Cabecera del Formulario ======= */
.form-header {
    padding: 1.25rem 1.5rem;
    border-bottom: 1px solid var(--perfil-border-color);
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.form-header .form-title {
    font-size: 1.35rem;
    font-weight: 600;
    color: var(--perfil-text-primary);
    margin-bottom: 0;
    line-height: 1.3;
}

.form-header .form-title i {
    color: var(--perfil-accent); /* Ícono principal con el color de acento */
    margin-right: 0.5rem; /* Espacio entre ícono y texto */
    font-size: 1.1em;
}

/* ======= Cuerpo del Formulario ======= */
.form-body {
    padding: 1.5rem;
}

/* Mensajes de Alerta (Django Messages) */
.messages-section .alert {
    border-radius: var(--perfil-radius-input);
    font-size: 0.9rem;
    /* Estilos específicos por tipo de alerta si se desea, Bootstrap ya los maneja bien */
}
.messages-section .alert-success {
    background-color: rgba(0, 212, 177, 0.1); /* Fondo con color mint sutil */
    color: var(--mint);
    border-color: rgba(0, 212, 177, 0.3);
}
.messages-section .alert-danger,
.messages-section .alert-error {
    background-color: rgba(220, 53, 69, 0.1);
    color: #dc3545;
    border-color: rgba(220, 53, 69, 0.3);
}
.messages-section .btn-close {
    filter: invert(75%) sepia(10%) saturate(500%) hue-rotate(180deg); /* Para que se vea bien en fondos oscuros */
}

/* ======= Secciones dentro del Formulario (Información Personal, Fútbol, etc.) ======= */
.profile-form .form-section {
    margin-bottom: 2rem;
}
.profile-form .form-section:last-of-type {
    margin-bottom: 1rem; /* Menos margen para la última sección antes de los botones */
}

.profile-form .form-section-title {
    font-size: 1.1rem;
    font-weight: 500;
    color: var(--perfil-text-primary);
    margin-bottom: 1.25rem;
    padding-bottom: 0.6rem;
    border-bottom: 1px solid var(--perfil-border-color);
    display: flex;
    align-items: center;
    gap: 0.6rem;
}

.profile-form .form-section-title i {
    color: var(--perfil-text-secondary); /* Íconos de sección más sutiles */
    font-size: 1em;
}

/* ======= Campos del Formulario (Labels, Inputs, Selects) ======= */
.profile-form .form-group {
    margin-bottom: 1.25rem; /* Espacio entre cada grupo de label e input */
}

.profile-form .form-label {
    font-size: 0.875rem; /* Tamaño de etiqueta ligeramente más pequeño */
    font-weight: 500;
    color: var(--perfil-text-secondary);
    margin-bottom: 0.5rem;
    display: block;
}

.profile-form .form-control,
.profile-form .form-select,
.profile-form input[type="text"],
.profile-form input[type="email"],
.profile-form input[type="password"],
.profile-form input[type="date"],
.profile-form input[type="file"],
.profile-form textarea {
    background-color: var(--perfil-bg-input);
    border: 1px solid var(--perfil-border-color);
    border-radius: var(--perfil-radius-input);
    padding: 0.75rem 1rem;
    color: var(--perfil-text-primary);
    font-size: 0.9rem;
    width: 100%;
    box-sizing: border-box;
    transition: var(--perfil-transition);
    box-shadow: none; /* Resetear sombras de Bootstrap */
}

.profile-form .form-control:focus,
.profile-form .form-select:focus,
.profile-form input[type="text"]:focus,
.profile-form input[type="email"]:focus,
.profile-form input[type="password"]:focus,
.profile-form input[type="date"]:focus,
.profile-form input[type="file"]:focus,
.profile-form textarea:focus {
    background-color: var(--perfil-bg-input-focus);
    border-color: var(--mint); /* Borde de foco con color mint */
    box-shadow: var(--perfil-focus-shadow);
    outline: none; /* Quitar outline por defecto */
}

.profile-form .form-control::placeholder,
.profile-form textarea::placeholder {
    color: var(--perfil-text-muted);
    opacity: 0.8;
}

/* Estilo para campos de archivo */
.profile-form input[type="file"].form-control {
    padding: 0.5rem 1rem; /* Ajuste para inputs de archivo */
    line-height: 1.5;
}
.profile-form input[type="file"]::-webkit-file-upload-button { /* Chrome/Edge/Opera */
    background: var(--perfil-bg-button-secondary);
    color: var(--perfil-text-secondary);
    border: none;
    padding: 0.4rem 0.8rem;
    border-radius: calc(var(--perfil-radius-input) - 2px);
    margin-right: 0.8rem;
    cursor: pointer;
    transition: var(--perfil-transition);
}
.profile-form input[type="file"]::-webkit-file-upload-button:hover {
    background: var(--perfil-accent);
    color: white;
}
.profile-form input[type="file"]::file-selector-button { /* Firefox */
    background: var(--perfil-bg-button-secondary);
    color: var(--perfil-text-secondary);
    border: none;
    padding: 0.4rem 0.8rem;
    border-radius: calc(var(--perfil-radius-input) - 2px);
    margin-right: 0.8rem;
    cursor: pointer;
    transition: var(--perfil-transition);
}
.profile-form input[type="file"]::file-selector-button:hover {
    background: var(--perfil-accent);
    color: white;
}


/* Errores de validación */
.profile-form .form-control.is-invalid,
.profile-form .form-select.is-invalid {
    border-color: #dc3545 !important; /* Color de error de Bootstrap */
    box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.2) !important;
}
.profile-form .invalid-feedback.d-block {
    color: #e74c3c; /* Un rojo más vibrante para el texto de error */
    font-size: 0.8rem;
    margin-top: 0.3rem;
}
.profile-form .form-text { /* Para el help_text */
    font-size: 0.8rem;
    color: var(--perfil-text-muted);
    margin-top: 0.3rem;
}


/* ======= Previsualización de Imágenes ======= */
.current-image-preview {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-top: 0.5rem; /* Espacio si hay una imagen actual */
    margin-bottom: 0.75rem;
    padding: 0.75rem;
    background-color: var(--perfil-bg-input); /* Fondo sutil */
    border: 1px solid var(--perfil-border-color);
    border-radius: var(--perfil-radius-input);
}

.current-image-preview img {
    object-fit: cover;
    border-radius: calc(var(--perfil-radius-input) - 2px); /* Un poco menos que el contenedor */
}

.current-avatar {
    width: 50px;
    height: 50px;
}

.current-banner {
    width: 90px;
    height: 50px;
}

.current-image-info small {
    display: block;
    color: var(--perfil-text-muted);
    font-size: 0.75rem;
    margin-bottom: 0.25rem;
}

.view-image-link {
    font-size: 0.8rem;
    color: var(--mint);
    text-decoration: none;
    transition: var(--perfil-transition);
}
.view-image-link:hover {
    color: var(--perfil-accent);
    text-decoration: underline;
}
.view-image-link i {
    margin-right: 0.25rem;
}

/* ======= Botones de Acción ======= */
.form-actions {
    display: flex;
    gap: 1rem;
    justify-content: flex-end;
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--perfil-border-color);
}

.profile-form .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.7rem 1.4rem;
    border-radius: var(--perfil-radius-input);
    font-size: 0.9rem;
    font-weight: 500;
    text-decoration: none;
    border: 1px solid transparent;
    cursor: pointer;
    transition: var(--perfil-transition);
    line-height: 1.5; /* Asegura altura consistente */
    box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* Sombra sutil para botones */
}
.profile-form .btn:focus {
    outline: none;
    box-shadow: var(--perfil-focus-shadow), 0 2px 5px rgba(0,0,0,0.1); /* Mantener sombra del botón */
}
.profile-form .btn i {
    line-height: 1; /* Alineación del ícono */
}


.profile-form .btn-secondary {
    background-color: var(--perfil-bg-button-secondary);
    color: var(--perfil-text-secondary);
    border-color: var(--perfil-border-color);
}
.profile-form .btn-secondary:hover {
    background-color: lighten(var(--perfil-bg-button-secondary), 5%);
    color: var(--perfil-text-primary);
    border-color: var(--perfil-text-secondary);
    transform: translateY(-1px);
}

.profile-form .btn-primary {
    background-color: var(--perfil-accent);
    color: white;
    border-color: var(--perfil-accent);
}
.profile-form .btn-primary:hover:not(:disabled) {
    background-color: darken(var(--perfil-accent), 8%);
    border-color: darken(var(--perfil-accent), 8%);
    transform: translateY(-1px);
}

.profile-form .btn:disabled,
.profile-form .btn.loading {
    opacity: 0.65;
    cursor: not-allowed;
    transform: none;
}
.profile-form .btn.loading i.fa-save {
    display: none; /* Ocultar ícono de guardar cuando está cargando */
}
.profile-form .btn.loading .spinner { /* Necesitarías añadir un span con clase spinner dentro del botón en el JS */
    display: inline-block;
}


/* Spinner (si lo añades dinámicamente con JS) */
.spinner {
    width: 1em; /* Relativo al tamaño de fuente del botón */
    height: 1em;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top-color: white; /* Color del acento del spinner */
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    display: none; /* Oculto por defecto */
}
@keyframes spin {
    to { transform: rotate(360deg); }
}


/* ======= Diseño Responsivo ======= */
@media (max-width: 768px) {
    .editar-perfil-container {
        padding: 1.5rem 0.75rem;
    }
    .form-header {
        padding: 1rem 1.25rem;
    }
    .form-header .form-title {
        font-size: 1.2rem;
    }
    .form-body {
        padding: 1.25rem;
    }
    .form-actions {
        flex-direction: column-reverse; /* Botones apilados */
    }
    .profile-form .btn {
        width: 100%; /* Botones a ancho completo */
    }
    .profile-form .row > [class*="col-"] { /* Quitar padding lateral de columnas de Bootstrap en móvil si es necesario */
        padding-left: 0.5rem;
        padding-right: 0.5rem;
    }
    .profile-form .form-group { /* Asegurar que los grupos de formulario dentro de .row no tengan demasiado margen */
        margin-bottom: 1rem;
    }
}

@media (max-width: 480px) {
    .editar-perfil-container {
        padding: 1rem 0.5rem;
    }
    .form-header {
        padding: 0.75rem 1rem;
    }
    .form-header .form-title {
        font-size: 1.1rem;
    }
    .form-body {
        padding: 1rem;
    }
    .profile-form .form-label {
        font-size: 0.825rem;
    }
    .profile-form .form-control,
    .profile-form .form-select {
        font-size: 0.85rem;
        padding: 0.65rem 0.8rem;
    }
    .profile-form .btn {
        font-size: 0.85rem;
        padding: 0.65rem 1rem;
    }
}

================
File: app/static/css/perfil/perfil_styles.css
================
/* ======= Variables específicas para Perfil ======= */
:root {
    --profile-accent: var(--seville-orange);
    --profile-accent-subtle: var(--seville-orange-subtle);
    --profile-accent-border: var(--seville-orange-border);
    --profile-text-primary: var(--text-primary);
    --profile-text-secondary: var(--text-secondary);
    --profile-text-muted: var(--text-muted);
    --profile-bg-card: var(--bg-card);
    --profile-bg-elevated: var(--bg-elevated);
    --profile-border: var(--border-primary);
    --profile-shadow: var(--shadow-elegant);
    --profile-radius: var(--radius-lg);
    --profile-transition: var(--transition-smooth);
}

/* ======= Container Principal ======= */
.profile-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    min-height: calc(100vh - var(--navbar-height));
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

/* ======= Profile Hero Section ======= */
.profile-hero-section {
    position: relative;
    border-radius: var(--radius-2xl);
    overflow: hidden;
    background: var(--profile-bg-card);
    border: 1px solid var(--profile-border);
    box-shadow: var(--profile-shadow);
}

.profile-hero-content {
    position: relative;
}

.profile-cover {
    height: 200px;
    position: relative;
    overflow: hidden;
}

.profile-cover-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: var(--profile-transition);
}

.profile-cover-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.3) 100%);
}

.profile-header {
    padding: 2rem;
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    position: relative;
    margin-top: -60px;
    z-index: 2;
}

.profile-avatar-section {
    display: flex;
    align-items: flex-end;
    gap: 1.5rem;
}

.profile-avatar-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.profile-avatar {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    border: 4px solid var(--profile-bg-card);
    object-fit: cover;
    transition: var(--profile-transition);
    box-shadow: var(--profile-shadow);
}

.profile-avatar-ring {
    position: absolute;
    top: -4px;
    left: -4px;
    right: -4px;
    bottom: -4px;
    border: 2px solid var(--profile-accent);
    border-radius: 50%;
    opacity: 0;
    transition: var(--profile-transition);
}

.profile-avatar-wrapper:hover .profile-avatar-ring {
    opacity: 1;
    box-shadow: 0 0 0 4px var(--profile-accent-subtle);
}

.profile-info {
    padding-bottom: 1rem;
}

.profile-name {
    font-size: 2rem;
    font-weight: var(--font-weight-bold);
    color: var(--profile-text-primary);
    margin-bottom: 0.75rem;
    letter-spacing: -0.02em;
}

.profile-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
}

.profile-badge {
    background: var(--profile-bg-elevated);
    color: var(--profile-text-secondary);
    padding: 0.5rem 1rem;
    border-radius: var(--radius-md);
    font-size: 0.85rem;
    font-weight: var(--font-weight-medium);
    display: flex;
    align-items: center;
    gap: 0.5rem;
    border: 1px solid var(--profile-border);
    transition: var(--profile-transition);
}

.profile-badge.profile-elo {
    background: #6ce6d31a;
    color: #3de4cb;
    border-color: var(--profile-accent-border);
}

.profile-badge:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-subtle);
}

.profile-actions {
    display: flex;
    align-items: center;
    padding-bottom: 1rem;
}

.btn-profile-edit {
    background: var(--profile-accent);
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: var(--radius-md);
    text-decoration: none;
    font-weight: var(--font-weight-semibold);
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: var(--profile-transition);
    box-shadow: var(--shadow-subtle);
}

.btn-profile-edit:hover {
    background: var(--seville-orange-dark);
    color: white;
    transform: translateY(-2px);
    box-shadow: var(--profile-shadow);
}

/* ======= Profile Navigation ======= */
.profile-nav-section {
    background: var(--profile-bg-card);
    border: 1px solid var(--profile-border);
    border-radius: var(--profile-radius);
    padding: 0.5rem;
    transition: var(--profile-transition);
    position: sticky;
    top: calc(var(--navbar-height) + 1rem);
    z-index: 10;
}

.profile-nav-section.sticky {
    box-shadow: var(--profile-shadow);
}

.profile-nav {
    display: flex;
    gap: 0.5rem;
    overflow-x: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
}

.profile-nav::-webkit-scrollbar {
    display: none;
}

.profile-nav-item {
    background: transparent;
    border: none;
    color: var(--profile-text-secondary);
    padding: 1rem 1.5rem;
    border-radius: var(--radius-md);
    font-weight: var(--font-weight-medium);
    font-size: 0.9rem;
    cursor: pointer;
    transition: var(--profile-transition);
    display: flex;
    align-items: center;
    gap: 0.5rem;
    white-space: nowrap;
    position: relative;
}

.profile-nav-item::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: var(--profile-accent);
    transform: scaleX(0);
    transition: var(--profile-transition);
    border-radius: 1px;
}

.profile-nav-item:hover {
    color: var(--profile-text-primary);
    background: rgba(255, 255, 255, 0.05);
}

.profile-nav-item.active {
    color: var(--profile-accent);
    background: var(--profile-accent-subtle);
}

.profile-nav-item.active::before {
    transform: scaleX(1);
}

/* ======= Profile Content ======= */
.profile-content-section {
    flex: 1;
}

.profile-tab-content {
    display: none;
    opacity: 0;
    transform: translateY(20px);
}

.profile-tab-content.active {
    display: block;
    opacity: 1;
    transform: translateY(0);
    transition: all 0.4s ease;
}

.content-card {
    background: var(--profile-bg-card);
    border: 1px solid var(--profile-border);
    border-radius: var(--profile-radius);
    overflow: hidden;
    box-shadow: var(--profile-shadow);
    transition: var(--profile-transition);
}

.content-card:hover {
    border-color: var(--profile-accent-border);
}

.card-header {
    padding: 1.5rem;
    border-bottom: 1px solid var(--profile-border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(255, 255, 255, 0.02);
}

.header-content {
    flex: 1;
}

.card-title {
    font-size: 1.2rem;
    font-weight: var(--font-weight-semibold);
    color: var(--profile-text-primary);
    margin-bottom: 0.25rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.card-title i {
    color: var(--profile-accent);
    font-size: 1rem;
}

.card-subtitle {
    font-size: 0.85rem;
    color: var(--profile-text-muted);
}

.header-action {
    color: var(--profile-accent);
    text-decoration: none;
    font-size: 0.85rem;
    font-weight: var(--font-weight-medium);
    padding: 0.5rem 1rem;
    border-radius: var(--radius-sm);
    transition: var(--profile-transition);
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.header-action:hover {
    background: var(--profile-accent-subtle);
    color: var(--profile-accent);
}

.card-body {
    padding: 2rem;
}

/* ======= Info Grid ======= */
.info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
}

.info-item {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--profile-border);
    border-radius: var(--radius-md);
    padding: 1.5rem;
    transition: var(--profile-transition);
}

.info-item:hover {
    background: rgba(255, 255, 255, 0.04);
    border-color: var(--profile-accent-border);
    transform: translateY(-2px);
}

.info-label {
    font-size: 0.85rem;
    color: var(--profile-text-muted);
    margin-bottom: 0.75rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-weight: var(--font-weight-medium);
}

.info-label i {
    color: var(--profile-accent);
    font-size: 0.8rem;
}

.info-value {
    font-size: 1rem;
    color: var(--profile-text-primary);
    font-weight: var(--font-weight-medium);
}

/* ======= Stats Overview ======= */
.stats-overview {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 1.5rem;
    margin-bottom: 3rem;
}

.stat-card {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--profile-border);
    border-radius: var(--radius-lg);
    padding: 1.5rem;
    text-align: center;
    transition: var(--profile-transition);
    position: relative;
    overflow: hidden;
    opacity: 0;
    transform: translateY(20px);
}

.stat-card.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--profile-border);
    transition: var(--profile-transition);
}

.stat-card.primary::before {
    background: var(--profile-accent);
}

.stat-card.success::before {
    background: var(--seville-success);
}

.stat-card.neutral::before {
    background: #6b7280;
}

.stat-card.danger::before {
    background: var(--seville-danger);
}

.stat-card.accent::before {
    background: var(--seville-accent);
}

.stat-card:hover {
    transform: translateY(-4px);
    border-color: var(--profile-accent-border);
    box-shadow: var(--profile-shadow);
}

.stat-icon {
    width: 48px;
    height: 48px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1rem;
    font-size: 1.2rem;
    color: var(--profile-text-secondary);
    transition: var(--profile-transition);
}

.stat-card.primary .stat-icon {
    background: var(--profile-accent-subtle);
    color: var(--profile-accent);
}

.stat-card.success .stat-icon {
    background: rgba(16, 185, 129, 0.1);
    color: var(--seville-success);
}

.stat-card.neutral .stat-icon {
    background: rgba(107, 114, 128, 0.1);
    color: #6b7280;
}

.stat-card.danger .stat-icon {
    background: rgba(239, 68, 68, 0.1);
    color: var(--seville-danger);
}

.stat-card.accent .stat-icon {
    background: rgba(243, 156, 18, 0.1);
    color: var(--seville-accent);
}

.stat-number {
    font-size: 2rem;
    font-weight: var(--font-weight-bold);
    color: var(--profile-text-primary);
    line-height: 1;
    margin-bottom: 0.5rem;
}

.stat-label {
   font-size: 0.85rem;
   color: var(--profile-text-muted);
   font-weight: var(--font-weight-medium);
   text-transform: uppercase;
   letter-spacing: 0.5px;
}

/* ======= Performance Chart ======= */
.performance-chart {
   background: rgba(255, 255, 255, 0.02);
   border: 1px solid var(--profile-border);
   border-radius: var(--radius-lg);
   padding: 2rem;
   margin-top: 2rem;
}

.chart-title {
   font-size: 1.1rem;
   font-weight: var(--font-weight-semibold);
   color: var(--profile-text-primary);
   margin-bottom: 1.5rem;
   text-align: center;
}

.chart-bars {
   display: flex;
   flex-direction: column;
   gap: 1.5rem;
}

.chart-bar {
   display: flex;
   flex-direction: column;
   gap: 0.5rem;
}

.bar-header {
   display: flex;
   justify-content: space-between;
   align-items: center;
}

.bar-label {
   font-size: 0.9rem;
   color: var(--profile-text-secondary);
   font-weight: var(--font-weight-medium);
}

.bar-percentage {
   font-size: 0.85rem;
   color: var(--profile-text-primary);
   font-weight: var(--font-weight-semibold);
}

.bar-track {
   height: 8px;
   background: rgba(255, 255, 255, 0.1);
   border-radius: 4px;
   overflow: hidden;
   position: relative;
}

.bar-fill {
   height: 100%;
   border-radius: 4px;
   transition: width 1s ease;
   position: relative;
}

.bar-fill.success {
   background: linear-gradient(90deg, var(--seville-success) 0%, #34d399 100%);
}

.bar-fill.neutral {
   background: linear-gradient(90deg, #6b7280 0%, #9ca3af 100%);
}

.bar-fill.danger {
   background: linear-gradient(90deg, var(--seville-danger) 0%, #f87171 100%);
}

.bar-fill::after {
   content: '';
   position: absolute;
   top: 0;
   left: 0;
   right: 0;
   bottom: 0;
   background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.2) 50%, transparent 100%);
   animation: shimmer 2s infinite;
}

@keyframes shimmer {
   0% {
       transform: translateX(-100%);
   }
   100% {
       transform: translateX(100%);
   }
}

/* ======= Empty States ======= */
.empty-state {
   text-align: center;
   padding: 4rem 2rem;
   color: var(--profile-text-muted);
}

.empty-icon {
   width: 80px;
   height: 80px;
   background: rgba(255, 255, 255, 0.05);
   border-radius: 50%;
   display: flex;
   align-items: center;
   justify-content: center;
   margin: 0 auto 1.5rem;
   border: 1px solid var(--profile-border);
}

.empty-icon i {
   font-size: 2rem;
   color: var(--profile-text-muted);
}

.empty-title {
   font-size: 1.2rem;
   font-weight: var(--font-weight-semibold);
   color: var(--profile-text-secondary);
   margin-bottom: 0.5rem;
}

.empty-desc {
   font-size: 0.95rem;
   color: var(--profile-text-muted);
   max-width: 400px;
   margin: 0 auto;
   line-height: 1.5;
}

/* ======= Responsive Design ======= */
@media (max-width: 1024px) {
   .profile-header {
       flex-direction: column;
       align-items: flex-start;
       gap: 1.5rem;
       margin-top: -40px;
   }
   
   .profile-avatar-section {
       width: 100%;
       justify-content: center;
       text-align: center;
   }
   
   .profile-actions {
       width: 100%;
       justify-content: center;
       padding-bottom: 0;
   }
   
   .profile-meta {
       justify-content: center;
   }
}

@media (max-width: 768px) {
   .profile-container {
       padding: 1rem;
       gap: 1.5rem;
   }
   
   .profile-cover {
       height: 150px;
   }
   
   .profile-header {
       padding: 1.5rem;
       margin-top: -30px;
   }
   
   .profile-avatar {
       width: 100px;
       height: 100px;
   }
   
   .profile-name {
       font-size: 1.5rem;
   }
   
   .profile-nav {
       gap: 0.25rem;
   }
   
   .profile-nav-item {
       padding: 0.75rem 1rem;
       font-size: 0.85rem;
   }
   
   .profile-nav-item span {
       display: none;
   }
   
   .stats-overview {
       grid-template-columns: repeat(2, 1fr);
       gap: 1rem;
   }
   
   .info-grid {
       grid-template-columns: 1fr;
       gap: 1rem;
   }
   
   .card-body {
       padding: 1.5rem;
   }
   
   .performance-chart {
       padding: 1.5rem;
   }
}

@media (max-width: 480px) {
   .profile-header {
       padding: 1rem;
   }
   
   .profile-avatar {
       width: 80px;
       height: 80px;
   }
   
   .profile-name {
       font-size: 1.25rem;
   }
   
   .profile-badge {
       padding: 0.4rem 0.8rem;
       font-size: 0.8rem;
   }
   
   .stats-overview {
       grid-template-columns: 1fr;
   }
   
   .stat-card {
       padding: 1.25rem;
   }
   
   .stat-number {
       font-size: 1.75rem;
   }
   
   .card-header {
       padding: 1rem;
       flex-direction: column;
       align-items: flex-start;
       gap: 1rem;
   }
   
   .card-body {
       padding: 1rem;
   }
   
   .info-item {
       padding: 1.25rem;
   }
}

/* ======= Accessibility ======= */
@media (prefers-reduced-motion: reduce) {
   .profile-tab-content,
   .stat-card,
   .bar-fill,
   .bar-fill::after {
       transition: none !important;
       animation: none !important;
   }
}

.profile-nav-item:focus,
.btn-profile-edit:focus,
.header-action:focus {
   outline: 2px solid var(--profile-accent);
   outline-offset: 2px;
}

/* ======= Loading Animation ======= */
@keyframes fadeInUp {
   from {
       opacity: 0;
       transform: translateY(30px);
   }
   to {
       opacity: 1;
       transform: translateY(0);
   }
}

.profile-tab-content.active .content-card {
   animation: fadeInUp 0.6s ease-out;
}

/* ======= Hover Effects ======= */
.profile-avatar-wrapper:hover .profile-avatar {
   transform: scale(1.05);
}

.info-item:hover .info-label i {
   color: var(--profile-accent);
   transform: scale(1.1);
}

.stat-card:hover .stat-icon {
   transform: scale(1.1);
}

/* ======= Print Styles ======= */
@media print {
   .profile-nav-section,
   .profile-actions,
   .header-action {
       display: none !important;
   }
   
   .profile-tab-content {
       display: block !important;
       opacity: 1 !important;
       transform: none !important;
   }
   
   .profile-container {
       padding: 0;
   }
   
   .content-card {
       box-shadow: none;
       border: 1px solid #ddd;
   }
}

================
File: app/static/css/main.css
================
/* ======= Variables Globales ======= */
:root {
    /* Colores principales */
    --seville-orange: #f7835c;
    --seville-orange-dark: #e6673a;
    --seville-orange-rgb: 247, 131, 92;
    --seville-secondary: #8a5cf7;
    --seville-accent: #f39c12;
    --seville-success: #28a745;
    --seville-warning: #ffc107;
    --seville-danger: #dc3545;
    --seville-info: #17a2b8;
    
    /* Fondos */
    --bg-primary: #0f0f1a;
    --bg-secondary: #1e1e2d;
    --bg-tertiary: #262636;
    --bg-card: #1a1a2e;
    
    /* Textos */
    --text-primary: #ffffff;
    --text-secondary: #b8b8b8;
    --text-muted: #888888;
    
    /* Bordes */
    --border-color: #374151;
    --border-light: #404040;
    
    /* Sombras */
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.15);
    --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.2);
    
    /* Bordes redondeados */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    
    /* Transiciones */
    --transition: all 0.3s ease;
    --transition-fast: all 0.15s ease;
    
    /* Fuentes */
    --font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    
    /* Gradientes */
    --gradient-primary: linear-gradient(135deg, var(--seville-orange), var(--seville-accent));
    --gradient-secondary: linear-gradient(135deg, var(--seville-secondary), #a855f7);
}

/* ======= Reset y Base ======= */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font-family);
    background: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden;
}

/* ======= Layout Principal ======= */
#main-content {
    margin-left: 0;
    margin-top: 70px;
    min-height: calc(100vh - 70px);
    transition: var(--transition);
    padding: 0;
}

@media (min-width: 992px) {
    #main-content {
        margin-left: 300px;
    }
}

/* ======= Top Navigation ======= */
#main-top-navbar {
    background: var(--bg-secondary);
    border-bottom: 1px solid var(--border-color);
    backdrop-filter: blur(10px);
    position: fixed;
    top: 0;
    left: 300px; /* Comienza después del sidebar */
    right: 0;
    z-index: 1030;
    height: 70px;
    padding: 0 1.5rem;
}

@media (max-width: 991.98px) {
    #main-top-navbar {
        left: 0; /* En móvil ocupa todo el ancho */
    }
}

#main-navbar-toggle {
    background: var(--bg-tertiary);
    border: 1px solid var(--border-color);
    color: var(--text-primary);
    border-radius: var(--radius-sm);
    padding: 0.5rem 0.75rem;
    transition: var(--transition-fast);
}

#main-navbar-toggle:hover {
    background: var(--bg-card);
    border-color: var(--seville-orange);
    color: var(--seville-orange);
}

#main-navbar-brand {
    color: var(--text-primary);
    font-weight: 700;
    font-size: 1.25rem;
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

#main-navbar-brand:hover {
    color: var(--seville-orange);
}

#main-navbar-brand .brand-logo {
    width: 32px;
    height: 32px;
    background: var(--gradient-primary);
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 700;
    font-size: 0.9rem;
}

#main-navbar-search {
    flex: 1;
    max-width: 500px;
}

#main-navbar-search .input-group-text {
    background: var(--bg-tertiary);
    border: 1px solid var(--border-color);
    border-right: none;
    color: var(--seville-orange);
}

#main-navbar-search .form-control {
    background: var(--bg-tertiary);
    border: 1px solid var(--border-color);
    border-left: none;
    color: var(--text-primary);
    font-size: 0.9rem;
}

#main-navbar-search .form-control:focus {
    background: var(--bg-tertiary);
    border-color: var(--seville-orange);
    color: var(--text-primary);
    box-shadow: 0 0 0 0.2rem rgba(247, 131, 92, 0.25);
}

#main-navbar-search .form-control::placeholder {
    color: var(--text-muted);
}

/* User Section en Navbar */
#main-navbar-user-section {
    gap: 1rem;
}

#main-navbar-user-section .user-display-name {
    color: var(--text-primary);
    font-weight: 600;
    font-size: 0.95rem;
    line-height: 1.2;
}

#main-navbar-user-section .user-role {
    color: var(--text-muted);
    font-size: 0.8rem;
    line-height: 1;
}

#main-navbar-user {
    color: var(--text-primary);
    padding: 0.5rem;
    border-radius: var(--radius-sm);
    transition: var(--transition-fast);
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

#main-navbar-user:hover {
    background: var(--bg-tertiary);
    color: var(--text-primary);
}

#main-navbar-user .user-avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: 2px solid var(--border-color);
    object-fit: cover;
}

#main-navbar-user .user-avatar-large {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    border: 2px solid var(--seville-orange);
    object-fit: cover;
    transition: var(--transition-fast);
}

#main-navbar-user:hover .user-avatar-large {
    border-color: var(--seville-accent);
    box-shadow: 0 0 0 2px rgba(247, 131, 92, 0.2);
}

#main-navbar-user .user-name {
    font-weight: 500;
    font-size: 0.9rem;
}

/* Dropdown del navbar */
.navbar .dropdown-menu {
    background: var(--bg-tertiary);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-lg);
    margin-top: 0.5rem;
}

.navbar .dropdown-item {
    color: var(--text-secondary);
    padding: 0.75rem 1rem;
    transition: var(--transition-fast);
}

.navbar .dropdown-item:hover {
    background: var(--bg-card);
    color: var(--seville-orange);
}

.navbar .dropdown-divider {
    border-color: var(--border-color);
}

/* ======= Dashboard Sidebar ======= */
#main-dashboard-sidebar {
    width: 300px;
    background: var(--bg-secondary);
    border-right: 1px solid var(--border-color);
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    z-index: 1050; /* Por encima del navbar */
    transform: translateX(0);
    transition: var(--transition);
    overflow-y: auto;
}

@media (max-width: 991.98px) {
    #main-dashboard-sidebar {
        transform: translateX(-100%);
        z-index: 1055;
    }
    
    #main-dashboard-sidebar.show {
        transform: translateX(0);
    }
}

/* Header del offcanvas (móvil) */
#main-dashboard-sidebar .offcanvas-header {
    background: var(--bg-secondary);
    border-bottom: 1px solid var(--border-color);
    padding: 1.25rem 1.5rem;
}

#main-dashboard-sidebar .offcanvas-title {
    color: var(--text-primary);
    font-weight: 700;
    margin: 0;
}

#main-dashboard-sidebar .brand-logo {
    width: 32px;
    height: 32px;
    background: var(--gradient-primary);
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 700;
    font-size: 0.9rem;
}

/* Body del sidebar */
#main-dashboard-sidebar .offcanvas-body {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    height: 100%;
    padding-top: 1.5rem; /* Sin espacio extra para navbar en desktop */
}

@media (max-width: 991.98px) {
    #main-dashboard-sidebar .offcanvas-body {
        padding-top: 1.5rem; /* En móvil también sin espacio extra */
    }
}

/* Brand section (desktop) */
#main-brand-section {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid var(--border-color);
}

#main-brand-section .brand-logo {
    width: 40px;
    height: 40px;
    font-size: 1.1rem;
}

#main-brand-section .brand-text {
    color: var(--text-primary);
    font-weight: 700;
    font-size: 1.25rem;
    text-decoration: none;
    transition: var(--transition-fast);
}

#main-brand-section .brand-text:hover {
    color: var(--seville-orange);
}

/* User profile */
#main-user-profile {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.25rem;
    background: var(--bg-card);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-lg);
    margin-bottom: 2rem;
    transition: var(--transition-fast);
}

#main-user-profile:hover {
    border-color: var(--seville-orange);
    box-shadow: var(--shadow-sm);
}

#main-user-profile .user-avatar-sidebar {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    border: 3px solid var(--seville-orange);
    object-fit: cover;
    transition: var(--transition-fast);
}

#main-user-profile:hover .user-avatar-sidebar {
    border-color: var(--seville-accent);
    box-shadow: 0 0 0 3px rgba(247, 131, 92, 0.2);
}

#main-user-profile .user-info h6 {
    color: var(--text-primary);
    font-weight: 600;
    font-size: 1rem;
    margin: 0 0 0.25rem 0;
    line-height: 1.2;
}

#main-user-profile .user-position {
    background: rgba(247, 131, 92, 0.1);
    color: var(--seville-orange);
    font-size: 0.8rem;
    font-weight: 500;
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    display: inline-block;
    margin-bottom: 0.5rem;
}

#main-user-profile .user-elo {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    color: var(--seville-accent);
    font-size: 0.85rem;
    font-weight: 600;
}

#main-user-profile .user-elo i {
    font-size: 0.8rem;
}

/* Navigation menu */
#main-nav-menu {
    flex: 1;
    margin-bottom: 2rem;
}

#main-nav-menu .nav-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

#main-nav-menu .nav-item {
    margin-bottom: 0.75rem;
}

#main-nav-menu .nav-link {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.25rem;
    color: var(--text-secondary);
    text-decoration: none;
    border-radius: var(--radius-md);
    font-weight: 500;
    font-size: 0.95rem;
    transition: var(--transition-fast);
    position: relative;
}

#main-nav-menu .nav-link i {
    width: 24px;
    text-align: center;
    font-size: 1.1rem;
}

#main-nav-menu .nav-link:hover {
    color: var(--text-primary);
    background: var(--bg-card);
    transform: translateX(6px);
}

#main-nav-menu .nav-link.active {
    color: var(--seville-orange);
    background: rgba(247, 131, 92, 0.15);
    border: 1px solid rgba(247, 131, 92, 0.3);
    box-shadow: 0 2px 8px rgba(247, 131, 92, 0.1);
}

#main-nav-menu .nav-link.active::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: var(--gradient-primary);
    border-radius: 0 2px 2px 0;
}

/* Logout section */
#main-logout-section {
    padding-top: 1.5rem;
    border-top: 1px solid var(--border-color);
    margin-top: auto;
}

#main-logout-section .logout-btn {
    width: 100%;
    padding: 0.875rem 1rem;
    background: linear-gradient(135deg, var(--seville-danger), #c82333);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
    transition: var(--transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

#main-logout-section .logout-btn:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

/* ======= Responsive ======= */
@media (max-width: 991.98px) {
    #main-content {
        margin-left: 0;
        padding: 1rem;
    }
    
    #main-top-navbar {
        padding: 0 1rem;
    }
    
    #main-navbar-user-section .user-display-name,
    #main-navbar-user-section .user-role {
        display: none;
    }
}

@media (max-width: 575.98px) {
    #main-content {
        padding: 0.75rem;
    }
}

/* ======= Focus States (Accesibilidad) ======= */
#main-navbar-toggle:focus,
#main-navbar-user:focus,
#main-nav-menu .nav-link:focus,
#main-logout-section .logout-btn:focus {
    outline: 2px solid var(--seville-orange);
    outline-offset: 2px;
}

/* ======= Animaciones ======= */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.fade-in {
    animation: fadeIn 0.6s ease-out;
}

/* ======= Utilities para compatibilidad con el home ======= */
.gradient-text {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.btn-primary {
    background: var(--gradient-primary);
    border: none;
    color: white;
    font-weight: 500;
    padding: 0.75rem 1.5rem;
    border-radius: var(--radius-md);
    transition: var(--transition-fast);
}

.btn-primary:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

.btn-secondary {
    background: var(--bg-tertiary);
    border: 1px solid var(--border-color);
    color: var(--text-primary);
    font-weight: 500;
    padding: 0.75rem 1.5rem;
    border-radius: var(--radius-md);
    transition: var(--transition-fast);
}

.btn-secondary:hover {
    background: var(--bg-card);
    border-color: var(--seville-orange);
    color: var(--seville-orange);
}

================
File: app/static/js/equipo/crear_equipo.js
================
document.addEventListener('DOMContentLoaded', function() {
    // Inicializar funcionalidades
    initializeFormValidation();
    initializeFileUpload();
    initializePreview();
    initializeFormSubmission();
    initializeAnimations();
});

// ======= Validación del Formulario =======
function initializeFormValidation() {
    const form = document.querySelector('.equipo-form');
    const inputs = form.querySelectorAll('input, textarea, select');
    
    inputs.forEach(input => {
        // Validación en tiempo real
        input.addEventListener('input', function() {
            validateField(this);
            updatePreview();
        });
        
        input.addEventListener('blur', function() {
            validateField(this);
        });
        
        // Para campos de color, también escuchar el evento change
        if (input.type === 'color') {
            input.addEventListener('change', function() {
                validateField(this);
                updatePreview();
            });
        }
    });
}

function validateField(field) {
    const fieldContainer = field.closest('.form-field');
    const isRequired = field.hasAttribute('required');
    const value = field.value.trim();
    
    // Remover clases de validación previas
    field.classList.remove('is-valid', 'is-invalid');
    
    // Validación básica de campos requeridos
    if (isRequired && !value) {
        field.classList.add('is-invalid');
        showFieldError(fieldContainer, 'Este campo es obligatorio.');
        return false;
    }
    
    // Validaciones específicas por tipo de campo
    if (field.name === 'nombre' && value) {
        if (value.length < 3) {
            field.classList.add('is-invalid');
            showFieldError(fieldContainer, 'El nombre debe tener al menos 3 caracteres.');
            return false;
        }
        if (value.length > 50) {
            field.classList.add('is-invalid');
            showFieldError(fieldContainer, 'El nombre no puede exceder 50 caracteres.');
            return false;
        }
    }
    
    if (field.name === 'descripcion' && value && value.length > 500) {
        field.classList.add('is-invalid');
        showFieldError(fieldContainer, 'La descripción no puede exceder 500 caracteres.');
        return false;
    }
    
    // Si llegamos aquí, el campo es válido
    if (value || !isRequired) {
        field.classList.add('is-valid');
        clearFieldError(fieldContainer);
        return true;
    }
    
    return true;
}

function showFieldError(container, message) {
    clearFieldError(container);
    
    const errorDiv = document.createElement('div');
    errorDiv.className = 'field-errors';
    errorDiv.innerHTML = `<small class="error-text">${message}</small>`;
    
    container.appendChild(errorDiv);
}

function clearFieldError(container) {
    const existingError = container.querySelector('.field-errors');
    if (existingError) {
        existingError.remove();
    }
}

// ======= Upload de Archivo =======
function initializeFileUpload() {
    const fileInput = document.querySelector('input[type="file"]');
    const preview = document.getElementById('escudo-preview');
    
    if (!fileInput || !preview) return;
    
    fileInput.addEventListener('change', function(e) {
        const file = e.target.files[0];
        
        if (file) {
            // Validar tipo de archivo
            if (!file.type.startsWith('image/')) {
                showUploadError('Por favor selecciona un archivo de imagen válido.');
                return;
            }
            
            // Validar tamaño (máximo 5MB)
            if (file.size > 5 * 1024 * 1024) {
                showUploadError('El archivo es demasiado grande. Máximo 5MB.');
                return;
            }
            
            // Mostrar preview
            const reader = new FileReader();
            reader.onload = function(e) {
                showImagePreview(e.target.result);
                updatePreview(e.target.result);
            };
            reader.readAsDataURL(file);
        }
    });
    
    // Efectos de drag and drop
    preview.addEventListener('dragover', function(e) {
        e.preventDefault();
        this.style.borderColor = '#a855f7';
        this.style.backgroundColor = 'rgba(168, 85, 247, 0.2)';
    });
    
    preview.addEventListener('dragleave', function(e) {
        e.preventDefault();
        this.style.borderColor = '#8b5cf6';
        this.style.backgroundColor = 'rgba(139, 92, 246, 0.1)';
    });
    
    preview.addEventListener('drop', function(e) {
        e.preventDefault();
        this.style.borderColor = '#8b5cf6';
        this.style.backgroundColor = 'rgba(139, 92, 246, 0.1)';
        
        const files = e.dataTransfer.files;
        if (files.length > 0) {
            fileInput.files = files;
            fileInput.dispatchEvent(new Event('change'));
        }
    });
}

function showImagePreview(src) {
    const preview = document.getElementById('escudo-preview');
    preview.innerHTML = `<img src="${src}" alt="Preview del escudo">`;
    preview.classList.add('has-image');
}

function showUploadError(message) {
    const preview = document.getElementById('escudo-preview');
    const errorDiv = document.createElement('div');
    errorDiv.className = 'upload-error';
    errorDiv.style.cssText = `
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: rgba(239, 68, 68, 0.1);
        border: 1px solid rgba(239, 68, 68, 0.3);
        color: #fca5a5;
        padding: 0.5rem;
        border-radius: 8px;
        font-size: 0.85rem;
        margin-top: 0.5rem;
    `;
    errorDiv.textContent = message;
    
    // Remover error anterior si existe
    const existingError = preview.parentNode.querySelector('.upload-error');
    if (existingError) {
        existingError.remove();
    }
    
    preview.parentNode.appendChild(errorDiv);
    
    // Remover error después de 5 segundos
    setTimeout(() => {
        if (errorDiv.parentNode) {
            errorDiv.remove();
        }
    }, 5000);
}

// ======= Vista Previa del Equipo =======
function initializePreview() {
    // Actualizar preview inicial
    updatePreview();
}

function updatePreview(escudoSrc = null) {
    const nombreInput = document.querySelector('input[name="nombre"]');
    const descripcionInput = document.querySelector('textarea[name="descripcion"]');
    const colorPrimarioInput = document.querySelector('input[name="color_primario"]');
    const colorSecundarioInput = document.querySelector('input[name="color_secundario"]');
    
    const previewName = document.querySelector('.preview-name');
    const previewDescription = document.querySelector('.preview-description');
    const previewShield = document.querySelector('.preview-shield');
    const primaryColorSample = document.querySelector('.primary-color');
    const secondaryColorSample = document.querySelector('.secondary-color');
    
    // Actualizar nombre
    if (nombreInput && previewName) {
        const nombre = nombreInput.value.trim() || 'Nombre del Equipo';
        previewName.textContent = nombre;
    }
    
    // Actualizar descripción
    if (descripcionInput && previewDescription) {
        const descripcion = descripcionInput.value.trim() || 'Descripción del equipo';
        previewDescription.textContent = descripcion;
    }
    
    // Actualizar escudo
    if (previewShield) {
        if (escudoSrc) {
            previewShield.innerHTML = `<img src="${escudoSrc}" alt="Escudo del equipo">`;
        } else {
            previewShield.innerHTML = '<i class="fas fa-shield-alt"></i>';
        }
    }
    
    // Actualizar colores
    if (colorPrimarioInput && primaryColorSample) {
        const colorPrimario = colorPrimarioInput.value || '#8b5cf6';
        primaryColorSample.style.backgroundColor = colorPrimario;
        
        // Actualizar también el escudo si no hay imagen
        if (previewShield && !previewShield.querySelector('img')) {
            previewShield.style.background = `linear-gradient(135deg, ${colorPrimario}, ${colorSecundarioInput?.value || '#a855f7'})`;
        }
    }
    
    if (colorSecundarioInput && secondaryColorSample) {
        const colorSecundario = colorSecundarioInput.value || '#a855f7';
        secondaryColorSample.style.backgroundColor = colorSecundario;
    }
    
    // Agregar efecto de actualización
    const previewCard = document.querySelector('.team-preview-card');
    if (previewCard) {
        previewCard.style.transform = 'scale(1.02)';
        setTimeout(() => {
            previewCard.style.transform = 'scale(1)';
        }, 200);
    }
}

// ======= Envío del Formulario =======
function initializeFormSubmission() {
    const form = document.querySelector('.equipo-form');
    const submitBtn = document.querySelector('.btn-submit');
    
    if (!form || !submitBtn) return;
    
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Validar todos los campos antes del envío
        if (validateForm()) {
            showLoadingState(submitBtn);
            
            // Simular delay para mostrar loading (remover en producción)
            setTimeout(() => {
                form.submit();
            }, 1000);
        }
    });
}

function validateForm() {
    const form = document.querySelector('.equipo-form');
    const inputs = form.querySelectorAll('input[required], textarea[required], select[required]');
    let isValid = true;
    
    inputs.forEach(input => {
        if (!validateField(input)) {
            isValid = false;
        }
    });
    
    if (!isValid) {
        // Scroll al primer error
        const firstError = form.querySelector('.is-invalid');
        if (firstError) {
            firstError.scrollIntoView({ 
                behavior: 'smooth', 
                block: 'center' 
            });
            firstError.focus();
        }
        
        showFormError('Por favor corrige los errores antes de continuar.');
    }
    
    return isValid;
}

function showLoadingState(button) {
    button.classList.add('loading');
    button.disabled = true;
}

function hideLoadingState(button) {
    button.classList.remove('loading');
    button.disabled = false;
}

function showFormError(message) {
    // Remover error anterior si existe
    const existingError = document.querySelector('.form-error-alert');
    if (existingError) {
        existingError.remove();
    }
    
    const errorAlert = document.createElement('div');
    errorAlert.className = 'alert alert-danger form-error-alert';
    errorAlert.innerHTML = `
        <i class="fas fa-exclamation-triangle me-2"></i>
        ${message}
    `;
    
    const form = document.querySelector('.equipo-form');
    form.insertBefore(errorAlert, form.firstChild);
    
    // Scroll al error
    errorAlert.scrollIntoView({ 
        behavior: 'smooth', 
        block: 'center' 
    });
    
    // Remover después de 5 segundos
    setTimeout(() => {
        if (errorAlert.parentNode) {
            errorAlert.remove();
        }
    }, 5000);
}

// ======= Animaciones =======
function initializeAnimations() {
    // Intersection Observer para animaciones al hacer scroll
    if ('IntersectionObserver' in window) {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animationPlayState = 'running';
                }
            });
        }, {
            threshold: 0.1,
            rootMargin: '50px'
        });

        // Observar elementos con animaciones
        document.querySelectorAll('.form-section, .preview-section, .form-actions').forEach(el => {
            observer.observe(el);
        });
    }
    
    // Agregar efectos hover mejorados
    addAdvancedHoverEffects();
}

function addAdvancedHoverEffects() {
    // Efectos para las secciones del formulario
    document.querySelectorAll('.form-section').forEach(section => {
        section.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-4px) scale(1.01)';
        });
        
        section.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
        });
    });
    
    // Efectos para los campos de color
    document.querySelectorAll('input[type="color"]').forEach(colorInput => {
        colorInput.addEventListener('mouseenter', function() {
            this.style.transform = 'scale(1.1) rotate(5deg)';
        });
        
        colorInput.addEventListener('mouseleave', function() {
            this.style.transform = 'scale(1) rotate(0deg)';
        });
    });
    
    // Efecto parallax sutil para el header icon
    const headerIcon = document.querySelector('.header-icon');
    if (headerIcon) {
        document.addEventListener('mousemove', function(e) {
            const rect = headerIcon.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            const deltaX = (e.clientX - centerX) * 0.05;
            const deltaY = (e.clientY - centerY) * 0.05;
            
            headerIcon.style.transform = `translate(${deltaX}px, ${deltaY}px) scale(1.05)`;
        });
        
        document.addEventListener('mouseleave', function() {
            headerIcon.style.transform = 'translate(0px, 0px) scale(1)';
        });
    }
}

// ======= Utilidades =======
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

// ======= Event Listeners Adicionales =======
document.addEventListener('DOMContentLoaded', function() {
    // Auto-resize para textarea
    const textareas = document.querySelectorAll('textarea');
    textareas.forEach(textarea => {
        textarea.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = this.scrollHeight + 'px';
        });
    });
    
    // Contador de caracteres para campos con límite
    const nombreInput = document.querySelector('input[name="nombre"]');
    const descripcionTextarea = document.querySelector('textarea[name="descripcion"]');
    
    if (nombreInput) {
        addCharacterCounter(nombreInput, 50);
    }
    
    if (descripcionTextarea) {
        addCharacterCounter(descripcionTextarea, 500);
    }
});

function addCharacterCounter(element, maxLength) {
    const counter = document.createElement('div');
    counter.className = 'character-counter';
    counter.style.cssText = `
        text-align: right;
        font-size: 0.8rem;
        color: #94a3b8;
        margin-top: 0.25rem;
    `;
    
    const updateCounter = () => {
        const current = element.value.length;
        counter.textContent = `${current}/${maxLength}`;
        
        if (current > maxLength * 0.9) {
            counter.style.color = '#f59e0b';
        } else if (current > maxLength) {
            counter.style.color = '#ef4444';
        } else {
            counter.style.color = '#94a3b8';
        }
    };
    
    element.addEventListener('input', updateCounter);
    element.parentNode.appendChild(counter);
    updateCounter();
}

// ======= Función de Debug =======
function debugForm() {
    console.log('=== Debug Crear Equipo ===');
    const form = document.querySelector('.equipo-form');
    const formData = new FormData(form);
    
    console.log('Datos del formulario:');
    for (let [key, value] of formData.entries()) {
        console.log(`${key}:`, value);
    }
    
    console.log('Estado de validación:');
    const inputs = form.querySelectorAll('input, textarea, select');
    inputs.forEach(input => {
        console.log(`${input.name}:`, {
            value: input.value,
            valid: input.classList.contains('is-valid'),
            invalid: input.classList.contains('is-invalid')
        });
    });
}

// Hacer disponible globalmente para debugging
window.debugForm = debugForm;

================
File: app/static/js/equipo/editar_equipo.js
================
document.addEventListener('DOMContentLoaded', function() {
    // Inicializar funcionalidades
    initializeFormValidation();
    initializeFileUpload();
    initializePreview();
    initializeFormSubmission();
    initializeAnimations();
    initializeChangeTracking();
});

// ======= Seguimiento de Cambios =======
let originalValues = {};
let hasChanges = false;

function initializeChangeTracking() {
    const form = document.querySelector('.equipo-form');
    const inputs = form.querySelectorAll('input, textarea, select');
    
    // Guardar valores originales
    inputs.forEach(input => {
        if (input.type !== 'file') {
            originalValues[input.name] = input.value;
        }
    });
    
    // Escuchar cambios
    inputs.forEach(input => {
        input.addEventListener('input', function() {
            trackChanges();
            updatePreview();
        });
        
        if (input.type === 'color') {
            input.addEventListener('change', function() {
                trackChanges();
                updatePreview();
                updateColorPreview(this);
            });
        }
    });
    
    // Advertir antes de salir si hay cambios
    window.addEventListener('beforeunload', function(e) {
        if (hasChanges) {
            e.preventDefault();
            e.returnValue = '¿Estás seguro de que quieres salir? Los cambios no guardados se perderán.';
            return e.returnValue;
        }
    });
}

function trackChanges() {
    const form = document.querySelector('.equipo-form');
    const inputs = form.querySelectorAll('input, textarea, select');
    hasChanges = false;
    
    inputs.forEach(input => {
        if (input.type === 'file') {
            if (input.files.length > 0) {
                hasChanges = true;
                markFieldAsChanged(input);
            }
        } else if (originalValues[input.name] !== input.value) {
            hasChanges = true;
            markFieldAsChanged(input);
        } else {
            unmarkFieldAsChanged(input);
        }
    });
    
    // Actualizar botón de guardar
    updateSaveButton();
}

function markFieldAsChanged(field) {
    const fieldContainer = field.closest('.form-field');
    if (fieldContainer && !fieldContainer.classList.contains('field-changed')) {
        fieldContainer.classList.add('field-changed');
        
        // Agregar indicador visual
        if (!fieldContainer.querySelector('.change-indicator')) {
            const indicator = document.createElement('div');
            indicator.className = 'change-indicator';
            indicator.title = 'Campo modificado';
            fieldContainer.appendChild(indicator);
        }
    }
}

function unmarkFieldAsChanged(field) {
    const fieldContainer = field.closest('.form-field');
    if (fieldContainer) {
        fieldContainer.classList.remove('field-changed');
        const indicator = fieldContainer.querySelector('.change-indicator');
        if (indicator) {
            indicator.remove();
        }
    }
}

function updateSaveButton() {
    const saveBtn = document.querySelector('.btn-submit');
    const btnText = saveBtn.querySelector('.btn-text');
    
    if (hasChanges) {
        saveBtn.classList.remove('btn-disabled');
        btnText.textContent = 'Guardar Cambios';
        saveBtn.disabled = false;
    } else {
        saveBtn.classList.add('btn-disabled');
        btnText.textContent = 'Sin Cambios';
        saveBtn.disabled = true;
    }
}

// ======= Validación del Formulario =======
function initializeFormValidation() {
    const form = document.querySelector('.equipo-form');
    const inputs = form.querySelectorAll('input, textarea, select');
    
    inputs.forEach(input => {
        input.addEventListener('input', function() {
            validateField(this);
        });
        
        input.addEventListener('blur', function() {
            validateField(this);
        });
    });
}

function validateField(field) {
    const isRequired = field.hasAttribute('required');
    const value = field.value.trim();
    
    // Remover clases de validación previas
    field.classList.remove('is-valid', 'is-invalid');
    
    // Validación básica de campos requeridos
    if (isRequired && !value) {
        field.classList.add('is-invalid');
        showFieldError(field, 'Este campo es obligatorio.');
        return false;
    }
    
    // Validaciones específicas por tipo de campo
    if (field.name === 'nombre' && value) {
        if (value.length < 3) {
            field.classList.add('is-invalid');
            showFieldError(field, 'El nombre debe tener al menos 3 caracteres.');
            return false;
        }
        if (value.length > 50) {
            field.classList.add('is-invalid');
            showFieldError(field, 'El nombre no puede exceder 50 caracteres.');
            return false;
        }
    }
    
    if (field.name === 'descripcion' && value && value.length > 500) {
        field.classList.add('is-invalid');
        showFieldError(field, 'La descripción no puede exceder 500 caracteres.');
        return false;
    }
    
    // Si llegamos aquí, el campo es válido
    if (value || !isRequired) {
        field.classList.add('is-valid');
        clearFieldError(field);
        return true;
    }
    
    return true;
}

function showFieldError(field, message) {
    const fieldContainer = field.closest('.form-field');
    clearFieldError(field);
    
    const errorDiv = document.createElement('div');
    errorDiv.className = 'field-errors';
    errorDiv.innerHTML = `<small class="error-text">${message}</small>`;
    
    fieldContainer.appendChild(errorDiv);
}

function clearFieldError(field) {
    const fieldContainer = field.closest('.form-field');
    const existingError = fieldContainer.querySelector('.field-errors');
    if (existingError) {
        existingError.remove();
    }
}

// ======= Upload de Archivo =======
function initializeFileUpload() {
    const fileInput = document.querySelector('input[type="file"]');
    const preview = document.getElementById('escudo-preview');
    
    if (!fileInput || !preview) return;
    
    fileInput.addEventListener('change', function(e) {
        const file = e.target.files[0];
        
        if (file) {
            // Validar tipo de archivo
            if (!file.type.startsWith('image/')) {
                showUploadError('Por favor selecciona un archivo de imagen válido.');
                return;
            }
            
            // Validar tamaño (máximo 5MB)
            if (file.size > 5 * 1024 * 1024) {
                showUploadError('El archivo es demasiado grande. Máximo 5MB.');
                return;
            }
            
            // Mostrar preview
            const reader = new FileReader();
            reader.onload = function(e) {
                showImagePreview(e.target.result);
                updatePreview(e.target.result);
            };
            reader.readAsDataURL(file);
        }
    });
    
    // Efectos de drag and drop
    preview.addEventListener('dragover', function(e) {
        e.preventDefault();
        this.style.borderColor = '#d97706';
        this.style.backgroundColor = 'rgba(217, 119, 6, 0.15)';
    });
    
    preview.addEventListener('dragleave', function(e) {
        e.preventDefault();
        this.style.borderColor = '#f59e0b';
        this.style.backgroundColor = 'rgba(245, 158, 11, 0.08)';
    });
    
    preview.addEventListener('drop', function(e) {
        e.preventDefault();
        this.style.borderColor = '#f59e0b';
        this.style.backgroundColor = 'rgba(245, 158, 11, 0.08)';
        
        const files = e.dataTransfer.files;
        if (files.length > 0) {
            fileInput.files = files;
            fileInput.dispatchEvent(new Event('change'));
        }
    });
}

function showImagePreview(src) {
    const preview = document.getElementById('escudo-preview');
    preview.innerHTML = `
        <img src="${src}" alt="Preview del escudo">
        <div class="current-badge">Nuevo</div>
    `;
    preview.classList.add('has-image');
}

function showUploadError(message) {
    const preview = document.getElementById('escudo-preview');
    const errorDiv = document.createElement('div');
    errorDiv.className = 'upload-error';
    errorDiv.style.cssText = `
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: rgba(239, 68, 68, 0.1);
        border: 1px solid rgba(239, 68, 68, 0.3);
        color: #fca5a5;
        padding: 0.5rem;
        border-radius: 8px;
        font-size: 0.85rem;
        margin-top: 0.5rem;
        z-index: 10;
    `;
    errorDiv.textContent = message;
    
    // Remover error anterior si existe
    const existingError = preview.parentNode.querySelector('.upload-error');
    if (existingError) {
        existingError.remove();
    }
    
    preview.parentNode.appendChild(errorDiv);
    
    // Remover error después de 5 segundos
    setTimeout(() => {
        if (errorDiv.parentNode) {
            errorDiv.remove();
        }
    }, 5000);
}

// ======= Vista Previa del Equipo =======
function initializePreview() {
    // Actualizar preview inicial
    updatePreview();
    
    // Inicializar previews de color
    const colorInputs = document.querySelectorAll('input[type="color"]');
    colorInputs.forEach(input => {
        updateColorPreview(input);
    });
}

function updatePreview(escudoSrc = null) {
    const nombreInput = document.querySelector('input[name="nombre"]');
    const descripcionInput = document.querySelector('textarea[name="descripcion"]');
    const colorPrimarioInput = document.querySelector('input[name="color_primario"]');
    const colorSecundarioInput = document.querySelector('input[name="color_secundario"]');
    
    const newPreview = document.getElementById('new-preview');
    const previewName = newPreview.querySelector('.preview-name');
    const previewDescription = newPreview.querySelector('.preview-description');
    const previewShield = newPreview.querySelector('.preview-shield');
    const primaryColorSample = newPreview.querySelector('.primary-color');
    const secondaryColorSample = newPreview.querySelector('.secondary-color');
    
    // Actualizar nombre
    if (nombreInput && previewName) {
        const nombre = nombreInput.value.trim() || previewName.textContent;
        previewName.textContent = nombre;
    }
    
    // Actualizar descripción
    if (descripcionInput && previewDescription) {
        const descripcion = descripcionInput.value.trim() || previewDescription.textContent;
        previewDescription.textContent = descripcion;
    }
    
    // Actualizar escudo
    if (previewShield && escudoSrc) {
        previewShield.innerHTML = `<img src="${escudoSrc}" alt="Escudo nuevo">`;
    }
    
    // Actualizar colores
    if (colorPrimarioInput && primaryColorSample) {
        const colorPrimario = colorPrimarioInput.value;
        primaryColorSample.style.backgroundColor = colorPrimario;
        
        // Actualizar también el escudo si no hay imagen nueva
        if (previewShield && !previewShield.querySelector('img')) {
            const colorSecundario = colorSecundarioInput?.value || '#a855f7';
            previewShield.style.background = `linear-gradient(135deg, ${colorPrimario}, ${colorSecundario})`;
        }
    }
    
    if (colorSecundarioInput && secondaryColorSample) {
        const colorSecundario = colorSecundarioInput.value;
        secondaryColorSample.style.backgroundColor = colorSecundario;
    }
    
    // Agregar efecto de actualización
    newPreview.style.transform = 'scale(1.02)';
    newPreview.style.borderColor = '#f59e0b';
    setTimeout(() => {
        newPreview.style.transform = 'scale(1)';
        newPreview.style.borderColor = '#f59e0b';
    }, 300);
}

function updateColorPreview(colorInput) {
    const fieldName = colorInput.getAttribute('data-field') || colorInput.name;
    const colorPreview = document.querySelector(`.color-preview[data-field="${fieldName}"]`);
    
    if (colorPreview) {
        const swatch = colorPreview.querySelector('.color-swatch');
        const value = colorPreview.querySelector('.color-value');
        
        if (swatch) swatch.style.backgroundColor = colorInput.value;
        if (value) value.textContent = colorInput.value.toUpperCase();
    }
}

// ======= Envío del Formulario =======
function initializeFormSubmission() {
    const form = document.querySelector('.equipo-form');
    const submitBtn = document.querySelector('.btn-submit');
    
    if (!form || !submitBtn) return;
    
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Solo proceder si hay cambios
        if (!hasChanges) {
            showFormMessage('No hay cambios para guardar.', 'info');
            return;
        }
        
        // Validar todos los campos antes del envío
        if (validateForm()) {
            showLoadingState(submitBtn);
            
            // Remover el listener de beforeunload ya que estamos guardando
            hasChanges = false;
            
            // Simular delay para mostrar loading (remover en producción)
            setTimeout(() => {
                form.submit();
            }, 1000);
        }
    });
}

function validateForm() {
    const form = document.querySelector('.equipo-form');
    const inputs = form.querySelectorAll('input[required], textarea[required], select[required]');
    let isValid = true;
    
    inputs.forEach(input => {
        if (!validateField(input)) {
            isValid = false;
        }
    });
    
    if (!isValid) {
        // Scroll al primer error
        const firstError = form.querySelector('.is-invalid');
        if (firstError) {
            firstError.scrollIntoView({ 
                behavior: 'smooth', 
                block: 'center' 
            });
            firstError.focus();
        }
        
        showFormMessage('Por favor corrige los errores antes de continuar.', 'error');
    }
    
    return isValid;
}

function showLoadingState(button) {
    button.classList.add('loading');
    button.disabled = true;
}

function hideLoadingState(button) {
    button.classList.remove('loading');
    button.disabled = false;
}

function showFormMessage(message, type) {
    // Remover mensaje anterior si existe
    const existingMessage = document.querySelector('.form-message-alert');
    if (existingMessage) {
        existingMessage.remove();
    }
    
    const alertClass = {
        'success': 'alert-success',
        'error': 'alert-danger',
        'warning': 'alert-warning',
        'info': 'alert-info'
    }[type] || 'alert-info';
    
    const iconClass = {
        'success': 'check-circle',
        'error': 'exclamation-triangle',
        'warning': 'exclamation-circle',
        'info': 'info-circle'
    }[type] || 'info-circle';
    
    const messageAlert = document.createElement('div');
    messageAlert.className = `alert ${alertClass} form-message-alert`;
    messageAlert.innerHTML = `
        <i class="fas fa-${iconClass} me-2"></i>
        ${message}
    `;
    
    const form = document.querySelector('.equipo-form');
    form.insertBefore(messageAlert, form.firstChild);
    
    // Scroll al mensaje
    messageAlert.scrollIntoView({ 
        behavior: 'smooth', 
        block: 'center' 
    });
    
    // Remover después de 5 segundos
    setTimeout(() => {
        if (messageAlert.parentNode) {
            messageAlert.remove();
        }
    }, 5000);
}

// ======= Animaciones =======
function initializeAnimations() {
    // Intersection Observer para animaciones al hacer scroll
    if ('IntersectionObserver' in window) {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animationPlayState = 'running';
                }
            });
        }, {
            threshold: 0.1,
            rootMargin: '50px'
        });

        // Observar elementos con animaciones
        document.querySelectorAll('.form-section, .comparison-section, .form-actions').forEach(el => {
            observer.observe(el);
        });
    }
    
    // Agregar efectos hover mejorados
    addAdvancedHoverEffects();
}

function addAdvancedHoverEffects() {
    // Efectos para las secciones del formulario
    document.querySelectorAll('.form-section').forEach(section => {
        section.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-2px)';
        });
        
        section.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    });
    
    // Efectos para los campos de color
    document.querySelectorAll('input[type="color"]').forEach(colorInput => {
        colorInput.addEventListener('focus', function() {
            this.style.transform = 'scale(1.02)';
        });
        
        colorInput.addEventListener('blur', function() {
            this.style.transform = 'scale(1)';
        });
    });
    
    // Efecto de comparación entre cards
    const comparisonItems = document.querySelectorAll('.comparison-item');
    comparisonItems.forEach(item => {
        item.addEventListener('mouseenter', function() {
            this.style.transform = 'scale(1.02)';
            
            // Destacar el otro item también
            comparisonItems.forEach(otherItem => {
                if (otherItem !== this) {
                    otherItem.style.opacity = '0.7';
                }
            });
        });
        
        item.addEventListener('mouseleave', function() {
            this.style.transform = 'scale(1)';
            
            // Restaurar opacidad
            comparisonItems.forEach(otherItem => {
                otherItem.style.opacity = '1';
            });
        });
    });
}

// ======= Utilidades =======
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

// ======= Funciones de Comparación =======
function highlightChanges() {
    const currentPreview = document.getElementById('current-preview');
    const newPreview = document.getElementById('new-preview');
    
    if (hasChanges) {
        newPreview.style.animation = 'pulse 2s infinite';
        newPreview.style.borderColor = '#f59e0b';
    } else {
        newPreview.style.animation = 'none';
        newPreview.style.borderColor = '#64748b';
    }
}

// ======= Auto-save (opcional) =======
function initializeAutoSave() {
    let autoSaveTimeout;
    const form = document.querySelector('.equipo-form');
    
    form.addEventListener('input', debounce(function() {
        if (hasChanges) {
            clearTimeout(autoSaveTimeout);
            autoSaveTimeout = setTimeout(() => {
                showAutoSaveIndicator();
            }, 30000); // Auto-save después de 30 segundos de inactividad
        }
    }, 1000));
}

function showAutoSaveIndicator() {
    const indicator = document.createElement('div');
    indicator.className = 'auto-save-indicator';
    indicator.innerHTML = '<i class="fas fa-cloud-upload-alt me-2"></i>Guardado automático disponible';
    indicator.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: rgba(16, 185, 129, 0.9);
        color: white;
        padding: 0.75rem 1rem;
        border-radius: 8px;
        font-size: 0.875rem;
        z-index: 1000;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        cursor: pointer;
        transition: all 0.3s ease;
    `;
    
    indicator.addEventListener('click', function() {
        const form = document.querySelector('.equipo-form');
        form.submit();
    });
    
    document.body.appendChild(indicator);
    
    // Remover después de 5 segundos
    setTimeout(() => {
        if (indicator.parentNode) {
            indicator.style.opacity = '0';
            setTimeout(() => indicator.remove(), 300);
        }
    }, 5000);
}

// ======= Event Listeners Adicionales =======
document.addEventListener('DOMContentLoaded', function() {
    // Auto-resize para textarea
    const textareas = document.querySelectorAll('textarea');
    textareas.forEach(textarea => {
        textarea.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = this.scrollHeight + 'px';
        });
        
        // Aplicar altura inicial
        textarea.style.height = 'auto';
        textarea.style.height = textarea.scrollHeight + 'px';
    });
    
    // Contador de caracteres para campos con límite
    const nombreInput = document.querySelector('input[name="nombre"]');
    const descripcionTextarea = document.querySelector('textarea[name="descripcion"]');
    
    if (nombreInput) {
        addCharacterCounter(nombreInput, 50);
    }
    
    if (descripcionTextarea) {
        addCharacterCounter(descripcionTextarea, 500);
    }
    
    // Prevenir envío accidental del formulario
    document.addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.key === 'Enter') {
            e.preventDefault();
            const submitBtn = document.querySelector('.btn-submit');
            if (submitBtn && !submitBtn.disabled) {
                submitBtn.click();
            }
        }
    });
    
    // Restaurar scroll position si viene de una validación
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('error')) {
        setTimeout(() => {
            const firstError = document.querySelector('.is-invalid');
            if (firstError) {
                firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }, 500);
    }
});

function addCharacterCounter(element, maxLength) {
    const counter = document.createElement('div');
    counter.className = 'character-counter';
    counter.style.cssText = `
        text-align: right;
        font-size: 0.8rem;
        color: #94a3b8;
        margin-top: 0.25rem;
        transition: color 0.3s ease;
    `;
    
    const updateCounter = () => {
        const current = element.value.length;
        counter.textContent = `${current}/${maxLength}`;
        
        if (current > maxLength) {
            counter.style.color = '#ef4444';
            counter.style.fontWeight = '600';
        } else if (current > maxLength * 0.9) {
            counter.style.color = '#f59e0b';
            counter.style.fontWeight = '500';
        } else {
            counter.style.color = '#94a3b8';
            counter.style.fontWeight = '400';
        }
    };
    
    element.addEventListener('input', updateCounter);
    element.parentNode.appendChild(counter);
    updateCounter();
}

// ======= Funciones de Confirmación =======
function confirmNavigation() {
    if (hasChanges) {
        return confirm('¿Estás seguro de que quieres salir? Los cambios no guardados se perderán.');
    }
    return true;
}

// Aplicar confirmación a los enlaces de navegación
document.querySelectorAll('a[href]').forEach(link => {
    // Excepto los que son part del formulario
    if (!link.closest('.form-actions')) {
        link.addEventListener('click', function(e) {
            if (!confirmNavigation()) {
                e.preventDefault();
            }
        });
    }
});

// ======= Función de Reset =======
function resetForm() {
    if (confirm('¿Estás seguro de que quieres descartar todos los cambios?')) {
        const form = document.querySelector('.equipo-form');
        
        // Restaurar valores originales
        Object.keys(originalValues).forEach(fieldName => {
            const field = form.querySelector(`[name="${fieldName}"]`);
            if (field && field.type !== 'file') {
                field.value = originalValues[fieldName];
                field.classList.remove('is-valid', 'is-invalid');
                unmarkFieldAsChanged(field);
                clearFieldError(field);
            }
        });
        
        // Limpiar archivo si se había seleccionado uno nuevo
        const fileInput = form.querySelector('input[type="file"]');
        if (fileInput) {
            fileInput.value = '';
            // Restaurar preview original si existe
            const preview = document.getElementById('escudo-preview');
            // Aquí deberías restaurar la imagen original del equipo
        }
        
        hasChanges = false;
        updateSaveButton();
        updatePreview();
        
        showFormMessage('Cambios descartados correctamente.', 'info');
    }
}

// ======= Función de Debug =======
function debugEditForm() {
    console.log('=== Debug Editar Equipo ===');
    console.log('Valores originales:', originalValues);
    console.log('Tiene cambios:', hasChanges);
    
    const form = document.querySelector('.equipo-form');
    const formData = new FormData(form);
    
    console.log('Datos actuales del formulario:');
    for (let [key, value] of formData.entries()) {
        const original = originalValues[key];
        const changed = original !== value;
        console.log(`${key}:`, {
            original: original,
            current: value,
            changed: changed
        });
    }
    
    console.log('Estado de validación:');
    const inputs = form.querySelectorAll('input, textarea, select');
    inputs.forEach(input => {
        console.log(`${input.name}:`, {
            value: input.value,
            valid: input.classList.contains('is-valid'),
            invalid: input.classList.contains('is-invalid'),
            changed: input.closest('.form-field')?.classList.contains('field-changed')
        });
    });
}

// Hacer disponibles globalmente para debugging
window.debugEditForm = debugEditForm;
window.resetForm = resetForm;
window.trackChanges = trackChanges;

================
File: app/static/js/equipo/lista_equipo.js
================
document.addEventListener('DOMContentLoaded', function() {
    // Inicializar funcionalidades
    initializeAnimations();
    initializeCardInteractions();
    initializeDeleteConfirmation();
    initializeTooltips();
    initializeSearch();
    initializeStatistics();
});

// ======= Animaciones y Efectos Visuales =======
function initializeAnimations() {
    // Intersection Observer para animaciones al hacer scroll
    if ('IntersectionObserver' in window) {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-in');
                    // Animar contador de estadísticas
                    if (entry.target.classList.contains('stat-card')) {
                        animateStatNumber(entry.target);
                    }
                }
            });
        }, {
            threshold: 0.1,
            rootMargin: '50px'
        });

        // Observar elementos
        document.querySelectorAll('.equipo-card, .stat-card, .empty-state').forEach(el => {
            observer.observe(el);
        });
    }
    
    // Efectos hover mejorados
    addAdvancedHoverEffects();
}

function addAdvancedHoverEffects() {
    // Efecto parallax sutil en las cards
    document.querySelectorAll('.equipo-card').forEach(card => {
        card.addEventListener('mousemove', function(e) {
            const rect = this.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;
            
            const rotateX = (y - centerY) / 20;
            const rotateY = (centerX - x) / 20;
            
            this.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateY(-4px)`;
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) translateY(0px)';
        });
    });
    
    // Efecto de ondas en los botones
    document.querySelectorAll('.btn').forEach(button => {
        button.addEventListener('click', function(e) {
            createRippleEffect(e, this);
        });
    });
}

function createRippleEffect(event, element) {
    const button = element;
    const circle = document.createElement('span');
    const diameter = Math.max(button.clientWidth, button.clientHeight);
    const radius = diameter / 2;
    
    const rect = button.getBoundingClientRect();
    circle.style.width = circle.style.height = `${diameter}px`;
    circle.style.left = `${event.clientX - rect.left - radius}px`;
    circle.style.top = `${event.clientY - rect.top - radius}px`;
    circle.classList.add('ripple');
    
    // Agregar estilos del ripple
    circle.style.cssText += `
        position: absolute;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.6);
        transform: scale(0);
        animation: ripple 600ms linear;
        pointer-events: none;
    `;
    
    // Agregar keyframes si no existen
    if (!document.querySelector('#ripple-styles')) {
        const style = document.createElement('style');
        style.id = 'ripple-styles';
        style.textContent = `
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
    }
    
    const ripple = button.getElementsByClassName('ripple')[0];
    if (ripple) {
        ripple.remove();
    }
    
    button.style.position = 'relative';
    button.style.overflow = 'hidden';
    button.appendChild(circle);
    
    setTimeout(() => {
        circle.remove();
    }, 600);
}

function animateStatNumber(statCard) {
    const numberElement = statCard.querySelector('.stat-number');
    if (!numberElement) return;
    
    const targetValue = parseInt(numberElement.textContent) || 0;
    if (targetValue === 0) return;
    
    let currentValue = 0;
    const increment = targetValue / 30; // Duración de la animación
    const timer = setInterval(() => {
        currentValue += increment;
        if (currentValue >= targetValue) {
            currentValue = targetValue;
            clearInterval(timer);
        }
        numberElement.textContent = Math.floor(currentValue);
    }, 50);
}

// ======= Interacciones de las Cards =======
function initializeCardInteractions() {
    // Click en las cards para expandir información
    document.querySelectorAll('.equipo-card').forEach(card => {
        // Prevenir que el click en acciones active el card
        const actions = card.querySelectorAll('.equipo-actions button, .equipo-actions a');
        actions.forEach(action => {
            action.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        });
        
        // Doble click para ir a detalles
        card.addEventListener('dblclick', function() {
            const viewButton = this.querySelector('.btn-view');
            if (viewButton) {
                viewButton.click();
            }
        });
        
        // Keyboard navigation
        card.setAttribute('tabindex', '0');
        card.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                const viewButton = this.querySelector('.btn-view');
                if (viewButton) {
                    viewButton.click();
                }
            }
        });
    });
    
    // Lazy loading de imágenes
    initializeLazyLoading();
}

function initializeLazyLoading() {
    if ('IntersectionObserver' in window) {
        const imageObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    if (img.dataset.src) {
                        img.src = img.dataset.src;
                        img.removeAttribute('data-src');
                        imageObserver.unobserve(img);
                        
                        // Efecto de fade in
                        img.style.opacity = '0';
                        img.onload = () => {
                            img.style.transition = 'opacity 0.3s ease';
                            img.style.opacity = '1';
                        };
                    }
                }
            });
        });
        
        document.querySelectorAll('img[data-src]').forEach(img => {
            imageObserver.observe(img);
        });
    }
}

// ======= Confirmación de Eliminación =======
function initializeDeleteConfirmation() {
    // Manejar el modal de confirmación
    const modal = document.getElementById('confirmDeleteModal');
    const confirmBtn = document.getElementById('confirmDeleteBtn');
    const teamNameSpan = document.getElementById('teamNameToDelete');
    
    let teamIdToDelete = null;
    
    // Función global para abrir el modal
    window.confirmDelete = function(teamName, teamId) {
        teamNameSpan.textContent = teamName;
        teamIdToDelete = teamId;
        
        // Mostrar el modal
        const bsModal = new bootstrap.Modal(modal);
        bsModal.show();
    };
    
    // Confirmar eliminación
    if (confirmBtn) {
        confirmBtn.addEventListener('click', function() {
            if (teamIdToDelete) {
                deleteTeam(teamIdToDelete);
            }
        });
    }
}

function deleteTeam(teamId) {
    // Mostrar estado de loading
    const confirmBtn = document.getElementById('confirmDeleteBtn');
    const originalText = confirmBtn.innerHTML;
    confirmBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Eliminando...';
    confirmBtn.disabled = true;
    
    // Simulación de petición AJAX (adaptar según tu backend)
    fetch(`/equipos/${teamId}/delete/`, {
        method: 'POST',
        headers: {
            'X-CSRFToken': getCsrfToken(),
            'Content-Type': 'application/json',
        },
    })
    .then(response => {
        if (response.ok) {
            // Éxito: animar la eliminación de la card
            const card = document.querySelector(`[data-equipo-id="${teamId}"]`);
            if (card) {
                card.style.transition = 'all 0.3s ease';
                card.style.transform = 'scale(0)';
                card.style.opacity = '0';
                
                setTimeout(() => {
                    card.remove();
                    updateStatistics();
                    checkEmptyState();
                }, 300);
            }
            
            // Cerrar modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('confirmDeleteModal'));
            modal.hide();
            
            showNotification('Equipo eliminado correctamente', 'success');
        } else {
            throw new Error('Error al eliminar el equipo');
        }
    })
    .catch(error => {
        console.error('Error:', error);
        showNotification('Error al eliminar el equipo', 'error');
    })
    .finally(() => {
        // Restaurar botón
        confirmBtn.innerHTML = originalText;
        confirmBtn.disabled = false;
    });
}

function getCsrfToken() {
    return document.querySelector('[name=csrfmiddlewaretoken]')?.value || 
           document.querySelector('meta[name=csrf-token]')?.getAttribute('content');
}

// ======= Notificaciones =======
function showNotification(message, type = 'info') {
    const notification = document.createElement('div');
    notification.className = `notification notification-${type}`;
    notification.innerHTML = `
        <i class="fas fa-${getNotificationIcon(type)} me-2"></i>
        ${message}
        <button class="notification-close" onclick="this.parentElement.remove()">
            <i class="fas fa-times"></i>
        </button>
    `;
    
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${getNotificationColor(type)};
        color: white;
        padding: 1rem 1.5rem;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        z-index: 1050;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-weight: 500;
        max-width: 400px;
        animation: slideInRight 0.3s ease;
    `;
    
    // Agregar estilos de animación
    if (!document.querySelector('#notification-styles')) {
        const style = document.createElement('style');
        style.id = 'notification-styles';
        style.textContent = `
            @keyframes slideInRight {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            .notification-close {
                background: none;
                border: none;
                color: white;
                cursor: pointer;
                padding: 0.25rem;
                margin-left: auto;
                opacity: 0.7;
                transition: opacity 0.2s ease;
            }
            .notification-close:hover {
                opacity: 1;
            }
        `;
        document.head.appendChild(style);
    }
    
    document.body.appendChild(notification);
    
    // Auto-remove después de 5 segundos
    setTimeout(() => {
        if (notification.parentNode) {
            notification.style.animation = 'slideInRight 0.3s ease reverse';
            setTimeout(() => notification.remove(), 300);
        }
    }, 5000);
}

function getNotificationIcon(type) {
    const icons = {
        success: 'check-circle',
        error: 'exclamation-triangle',
        warning: 'exclamation-circle',
        info: 'info-circle'
    };
    return icons[type] || 'info-circle';
}

function getNotificationColor(type) {
    const colors = {
        success: '#10b981',
        error: '#ef4444',
        warning: '#f59e0b',
        info: '#3b82f6'
    };
    return colors[type] || '#3b82f6';
}

// ======= Tooltips =======
function initializeTooltips() {
    // Inicializar tooltips de Bootstrap si está disponible
    if (typeof bootstrap !== 'undefined' && bootstrap.Tooltip) {
        const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });
    }
    
    // Tooltips personalizados para elementos específicos
    addCustomTooltips();
}

function addCustomTooltips() {
    // Agregar tooltips a los badges de capitán
    document.querySelectorAll('.equipo-badge').forEach(badge => {
        badge.setAttribute('title', 'Eres el capitán de este equipo');
    });
    
    // Agregar tooltips a los indicadores de actividad
    document.querySelectorAll('.activity-indicator.active').forEach(indicator => {
        indicator.setAttribute('title', 'Equipo activo');
    });
    
    // Agregar tooltips a los botones de menú
    document.querySelectorAll('.btn-menu').forEach(btn => {
        btn.setAttribute('title', 'Opciones del equipo');
    });
}

// ======= Búsqueda y Filtrado =======
function initializeSearch() {
    // Preparar para futuras funcionalidades de búsqueda
    const searchInput = document.querySelector('.search-input');
    if (searchInput) {
        searchInput.addEventListener('input', debounce(function() {
            filterTeams(this.value);
        }, 300));
    }
}

function filterTeams(searchTerm) {
    const cards = document.querySelectorAll('.equipo-card');
    const term = searchTerm.toLowerCase();
    
    cards.forEach(card => {
        const teamName = card.querySelector('.equipo-name').textContent.toLowerCase();
        const teamDesc = card.querySelector('.equipo-description').textContent.toLowerCase();
        const captain = card.querySelector('.stat-value').textContent.toLowerCase();
        
        const matches = teamName.includes(term) || 
                       teamDesc.includes(term) || 
                       captain.includes(term);
        
        if (matches) {
            card.style.display = 'block';
            card.style.animation = 'fadeInUp 0.3s ease';
        } else {
            card.style.display = 'none';
        }
    });
    
    updateStatistics();
}

// ======= Estadísticas =======
function initializeStatistics() {
    updateStatistics();
}

function updateStatistics() {
    const visibleCards = document.querySelectorAll('.equipo-card:not([style*="display: none"])');
    const totalTeams = visibleCards.length;
    
    // Actualizar contador de equipos
    const teamCountElement = document.querySelector('.stat-card .stat-number');
    if (teamCountElement) {
        teamCountElement.textContent = totalTeams;
    }
    
    // Calcular otras estadísticas si es necesario
    // Por ejemplo: equipos donde es capitán, partidos jugados, etc.
}

function checkEmptyState() {
    const cards = document.querySelectorAll('.equipo-card');
    const emptyState = document.querySelector('.empty-state');
    const equiposSection = document.querySelector('.equipos-section');
    
    if (cards.length === 0) {
        if (equiposSection) equiposSection.style.display = 'none';
        if (emptyState) emptyState.style.display = 'flex';
    } else {
        if (equiposSection) equiposSection.style.display = 'block';
        if (emptyState) emptyState.style.display = 'none';
    }
}

// ======= Utilidades =======
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

// ======= Manejo de Errores =======
window.addEventListener('error', function(e) {
    console.error('Error en lista de equipos:', e.error);
    // Opcional: mostrar notificación de error al usuario
});

// ======= Funciones de Debug =======
function debugTeamsList() {
    console.log('=== Debug Lista de Equipos ===');
    console.log('Equipos encontrados:', document.querySelectorAll('.equipo-card').length);
    console.log('Estadísticas visibles:', document.querySelectorAll('.stat-card').length);
    console.log('Estado vacío visible:', document.querySelector('.empty-state')?.style.display !== 'none');
    
    // Información de cada equipo
    document.querySelectorAll('.equipo-card').forEach((card, index) => {
        const teamName = card.querySelector('.equipo-name')?.textContent;
        const teamId = card.getAttribute('data-equipo-id');
        console.log(`Equipo ${index + 1}:`, { name: teamName, id: teamId });
    });
}

// ======= Atajos de Teclado =======
document.addEventListener('keydown', function(e) {
    // Ctrl/Cmd + N para crear nuevo equipo
    if ((e.ctrlKey || e.metaKey) && e.key === 'n') {
        e.preventDefault();
        const createButton = document.querySelector('.btn-create, .btn-create-first');
        if (createButton) {
            createButton.click();
        }
    }
    
    // Escape para cerrar modales
    if (e.key === 'Escape') {
        const openModal = document.querySelector('.modal.show');
        if (openModal) {
            const modalInstance = bootstrap.Modal.getInstance(openModal);
            if (modalInstance) {
                modalInstance.hide();
            }
        }
    }
    
    // Flecha derecha/izquierda para navegación entre equipos
    if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
        navigateTeams(e.key === 'ArrowRight');
    }
});

function navigateTeams(forward = true) {
    const cards = document.querySelectorAll('.equipo-card');
    const focusedCard = document.querySelector('.equipo-card:focus');
    
    if (cards.length === 0) return;
    
    let currentIndex = -1;
    if (focusedCard) {
        currentIndex = Array.from(cards).indexOf(focusedCard);
    }
    
    let nextIndex;
    if (forward) {
        nextIndex = currentIndex + 1 >= cards.length ? 0 : currentIndex + 1;
    } else {
        nextIndex = currentIndex - 1 < 0 ? cards.length - 1 : currentIndex - 1;
    }
    
    cards[nextIndex].focus();
    cards[nextIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });
}

// ======= Gestión de Favoritos (Futuro) =======
function toggleFavorite(teamId) {
    const card = document.querySelector(`[data-equipo-id="${teamId}"]`);
    if (!card) return;
    
    const favoriteBtn = card.querySelector('.favorite-btn');
    if (!favoriteBtn) return;
    
    const isFavorite = favoriteBtn.classList.contains('active');
    
    // Simulación de petición al servidor
    fetch(`/equipos/${teamId}/favorite/`, {
        method: 'POST',
        headers: {
            'X-CSRFToken': getCsrfToken(),
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({ favorite: !isFavorite })
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            favoriteBtn.classList.toggle('active');
            const icon = favoriteBtn.querySelector('i');
            if (favoriteBtn.classList.contains('active')) {
                icon.className = 'fas fa-heart';
                showNotification('Equipo añadido a favoritos', 'success');
            } else {
                icon.className = 'far fa-heart';
                showNotification('Equipo removido de favoritos', 'info');
            }
        }
    })
    .catch(error => {
        console.error('Error al actualizar favorito:', error);
        showNotification('Error al actualizar favorito', 'error');
    });
}

// ======= Exportación de Datos =======
function exportTeamsData() {
    const teams = [];
    
    document.querySelectorAll('.equipo-card').forEach(card => {
        const teamData = {
            id: card.getAttribute('data-equipo-id'),
            name: card.querySelector('.equipo-name')?.textContent,
            description: card.querySelector('.equipo-description')?.textContent,
            captain: card.querySelector('.stat-value')?.textContent,
            players: card.querySelectorAll('.stat-item')[1]?.querySelector('.stat-value')?.textContent,
            created: card.querySelectorAll('.stat-item')[2]?.querySelector('.stat-value')?.textContent
        };
        teams.push(teamData);
    });
    
    // Crear y descargar archivo CSV
    const csv = convertToCSV(teams);
    downloadCSV(csv, 'mis_equipos.csv');
}

function convertToCSV(data) {
    if (!data.length) return '';
    
    const headers = Object.keys(data[0]);
    const csvContent = [
        headers.join(','),
        ...data.map(row => headers.map(header => `"${row[header] || ''}"`).join(','))
    ].join('\n');
    
    return csvContent;
}

function downloadCSV(csvContent, filename) {
    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
    const link = document.createElement('a');
    
    if (link.download !== undefined) {
        const url = URL.createObjectURL(blob);
        link.setAttribute('href', url);
        link.setAttribute('download', filename);
        link.style.visibility = 'hidden';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
    }
}

// ======= Compartir Equipo =======
function shareTeam(teamId, teamName) {
    if (navigator.share) {
        // API nativa de compartir (móviles)
        navigator.share({
            title: `Equipo ${teamName}`,
            text: `Únete a mi equipo "${teamName}" en De Rabona`,
            url: `${window.location.origin}/equipos/${teamId}/`
        }).catch(err => console.log('Error al compartir:', err));
    } else {
        // Fallback: copiar al portapapeles
        const url = `${window.location.origin}/equipos/${teamId}/`;
        copyToClipboard(url);
        showNotification('Enlace copiado al portapapeles', 'success');
    }
}

function copyToClipboard(text) {
    if (navigator.clipboard) {
        navigator.clipboard.writeText(text);
    } else {
        // Fallback para navegadores antiguos
        const textArea = document.createElement('textarea');
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        try {
            document.execCommand('copy');
        } catch (err) {
            console.error('Error al copiar:', err);
        }
        document.body.removeChild(textArea);
    }
}

// ======= Gestión de Temas (Dark/Light) =======
function initializeThemeToggle() {
    const themeToggle = document.querySelector('.theme-toggle');
    if (!themeToggle) return;
    
    // Leer preferencia guardada
    const savedTheme = localStorage.getItem('theme') || 'dark';
    document.body.setAttribute('data-theme', savedTheme);
    
    themeToggle.addEventListener('click', function() {
        const currentTheme = document.body.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        
        document.body.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        
        // Animar el cambio
        document.body.style.transition = 'all 0.3s ease';
        setTimeout(() => {
            document.body.style.transition = '';
        }, 300);
    });
}

// ======= Monitoreo de Performance =======
function initializePerformanceMonitoring() {
    // Medir tiempo de carga de las cards
    const startTime = performance.now();
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const endTime = performance.now();
                console.log(`Card cargada en ${endTime - startTime}ms`);
            }
        });
    });
    
    document.querySelectorAll('.equipo-card').forEach(card => {
        observer.observe(card);
    });
    
    // Medir el tiempo total de renderizado
    window.addEventListener('load', function() {
        const loadTime = performance.now();
        console.log(`Página cargada completamente en ${loadTime}ms`);
    });
}

// ======= Auto-refresh (opcional) =======
function initializeAutoRefresh(intervalMinutes = 5) {
    // Opcional: auto-refresh cada X minutos para datos actualizados
    if (typeof intervalMinutes !== 'number' || intervalMinutes < 1) return;
    
    setInterval(() => {
        // Solo hacer refresh si la página está visible
        if (!document.hidden) {
            refreshTeamData();
        }
    }, intervalMinutes * 60 * 1000);
}

function refreshTeamData() {
    fetch(window.location.href, {
        headers: {
            'X-Requested-With': 'XMLHttpRequest'
        }
    })
    .then(response => response.text())
    .then(html => {
        // Actualizar solo la sección de equipos
        const parser = new DOMParser();
        const newDoc = parser.parseFromString(html, 'text/html');
        const newEquiposSection = newDoc.querySelector('.equipos-section');
        const currentEquiposSection = document.querySelector('.equipos-section');
        
        if (newEquiposSection && currentEquiposSection) {
            currentEquiposSection.innerHTML = newEquiposSection.innerHTML;
            // Reinicializar funcionalidades para los nuevos elementos
            initializeCardInteractions();
            showNotification('Datos actualizados', 'info');
        }
    })
    .catch(error => {
        console.error('Error al actualizar datos:', error);
    });
}

// ======= Funciones de Inicialización Avanzada =======
function initializeAdvancedFeatures() {
    // Estas funciones se pueden activar según las necesidades
    // initializeThemeToggle();
    // initializePerformanceMonitoring();
    // initializeAutoRefresh(5); // Auto-refresh cada 5 minutos
}

// ======= Event Listeners Globales =======
document.addEventListener('visibilitychange', function() {
    if (!document.hidden) {
        // La página volvió a ser visible, actualizar datos si es necesario
        updateStatistics();
    }
});

// ======= Funciones Públicas para uso global =======
window.teamsList = {
    deleteTeam,
    shareTeam,
    toggleFavorite,
    exportTeamsData,
    refreshTeamData,
    debugTeamsList
};

// Hacer disponible globalmente para debugging
window.debugTeamsList = debugTeamsList;

// ======= Inicialización Final =======
// Ejecutar funciones adicionales cuando el DOM esté completamente cargado
document.addEventListener('DOMContentLoaded', function() {
    // Pequeño delay para asegurar que Bootstrap esté inicializado
    setTimeout(() => {
        checkEmptyState();
        initializeAdvancedFeatures();
    }, 100);
});

// ======= Service Worker para caching (opcional) =======
if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
        navigator.serviceWorker.register('/sw.js')
            .then(function(registration) {
                console.log('SW registrado:', registration.scope);
            }, function(err) {
                console.log('SW falló:', err);
            });
    });
}

================
File: app/static/js/detalle_partido.js
================
/**
 * Gestión Avanzada de Asignación de Equipos
 * Soporte para Drag & Drop, Lista Desplegable y Asignación Automática
 */

class AdvancedTeamAssignmentManager {
    constructor() {
        this.currentMode = 'drag';
        this.draggedElement = null;
        this.dragPreview = null;
        this.touchFeedback = null;
        this.isDragging = false;
        this.hasChanges = false;
        this.originalPositions = new Map();
        this.playersData = new Map();
        
        this.init();
    }

    init() {
        this.createDragPreview();
        this.createTouchFeedback();
        this.setupModeToggle();
        this.setupDragAndDrop();
        this.setupDropdownMode();
        this.setupAutoMode();
        this.setupSaveButton();
        this.storeOriginalData();
        this.setupKeyboardSupport();
        this.updateCounters();
    }

    // ===== INITIALIZATION =====
    createDragPreview() {
        this.dragPreview = document.getElementById('dragPreview');
        if (!this.dragPreview) {
            this.dragPreview = document.createElement('div');
            this.dragPreview.id = 'dragPreview';
            this.dragPreview.className = 'drag-preview';
            document.body.appendChild(this.dragPreview);
        }
    }

    createTouchFeedback() {
        this.touchFeedback = document.getElementById('touchFeedback');
        if (!this.touchFeedback) {
            this.touchFeedback = document.createElement('div');
            this.touchFeedback.id = 'touchFeedback';
            this.touchFeedback.className = 'touch-feedback';
            document.body.appendChild(this.touchFeedback);
        }
    }

    storeOriginalData() {
        // Almacenar datos originales y posiciones
        const players = document.querySelectorAll('[data-jugador-id]');
        players.forEach(player => {
            const jugadorId = player.dataset.jugadorId;
            const playerData = this.extractPlayerData(player);
            this.playersData.set(jugadorId, playerData);
            
            // Determinar equipo actual
            const container = player.closest('.players-drop-zone, .bench-players');
            let currentTeam = 'bench';
            if (container) {
                if (container.id === 'local-players') currentTeam = 'local';
                else if (container.id === 'visitante-players') currentTeam = 'visitante';
            }
            
            this.originalPositions.set(jugadorId, {
                team: currentTeam,
                element: player.cloneNode(true)
            });
        });
    }

    extractPlayerData(playerElement) {
        const img = playerElement.querySelector('img');
        const nameEl = playerElement.querySelector('.player-name');
        const positionEl = playerElement.querySelector('.player-position');
        const creatorBadge = playerElement.querySelector('.creator-badge, .creator-crown');
        
        return {
            id: playerElement.dataset.jugadorId,
            name: nameEl?.textContent.trim() || '',
            position: positionEl?.textContent.trim() || '',
            avatar: img?.src || '',
            isCreator: !!creatorBadge
        };
    }

    // ===== MODE TOGGLE SYSTEM =====
    setupModeToggle() {
        const modeButtons = document.querySelectorAll('.mode-btn');
        modeButtons.forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                const mode = btn.dataset.mode;
                this.switchMode(mode);
            });
        });
    }

    switchMode(newMode) {
        if (this.currentMode === newMode) return;
        
        // Update button states
        document.querySelectorAll('.mode-btn').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.mode === newMode);
        });
        
        // Update info cards
        document.querySelectorAll('[data-info]').forEach(info => {
            info.classList.toggle('active', info.dataset.info === newMode);
        });
        
        // Update assignment modes
        document.querySelectorAll('[data-assignment]').forEach(mode => {
            mode.classList.toggle('active', mode.dataset.assignment === newMode);
        });
        
        this.currentMode = newMode;
        
        // Sync data between modes
        this.syncModeData();
        
        // Mode-specific setup
        switch (newMode) {
            case 'drag':
                this.setupDragMode();
                break;
            case 'dropdown':
                this.setupDropdownMode();
                break;
            case 'auto':
                this.setupAutoMode();
                break;
        }
    }

    syncModeData() {
        // Sincronizar datos entre los diferentes modos
        if (this.currentMode === 'dropdown') {
            this.updateDropdownSelections();
            this.updateDropdownSummary();
        } else if (this.currentMode === 'drag') {
            this.updateDragPositions();
        }
    }

    updateDragPositions() {
        // Actualizar posiciones en drag mode desde dropdown
        // Esto se llamará cuando se cambie a modo drag
    }

    // ===== DRAG & DROP MODE =====
    setupDragAndDrop() {
        // Desktop drag events
        document.addEventListener('dragstart', this.handleDragStart.bind(this));
        document.addEventListener('dragend', this.handleDragEnd.bind(this));
        document.addEventListener('dragover', this.handleDragOver.bind(this));
        document.addEventListener('drop', this.handleDrop.bind(this));

        // Touch events for mobile
        document.addEventListener('touchstart', this.handleTouchStart.bind(this), { passive: false });
        document.addEventListener('touchmove', this.handleTouchMove.bind(this), { passive: false });
        document.addEventListener('touchend', this.handleTouchEnd.bind(this), { passive: false });

        // Drop zone events
        const dropZones = ['local-players', 'visitante-players', 'bench-players'];
        dropZones.forEach(zoneId => {
            const zone = document.getElementById(zoneId);
            if (zone) {
                zone.addEventListener('dragenter', this.handleDragEnter.bind(this));
                zone.addEventListener('dragleave', this.handleDragLeave.bind(this));
            }
        });
    }

    setupDragMode() {
        // Asegurar que todos los jugadores sean draggables
        document.querySelectorAll('[data-jugador-id]').forEach(player => {
            player.draggable = true;
            player.tabIndex = 0;
        });
    }

    // Drag event handlers
    handleDragStart(e) {
        if (!this.isDraggableElement(e.target) || this.currentMode !== 'drag') return;

        this.draggedElement = e.target.closest('[data-jugador-id]');
        if (!this.draggedElement) return;
        
        this.isDragging = true;
        
        this.draggedElement.classList.add('dragging');
        e.dataTransfer.effectAllowed = 'move';
        e.dataTransfer.setData('text/html', this.draggedElement.outerHTML);
        
        // Crear imagen transparente para ocultar el ghost nativo
        const emptyCanvas = document.createElement('canvas');
        emptyCanvas.width = 1;
        emptyCanvas.height = 1;
        const ctx = emptyCanvas.getContext('2d');
        ctx.globalAlpha = 0.01;
        e.dataTransfer.setDragImage(emptyCanvas, 0, 0);
        
        // Mostrar nuestro preview personalizado
        setTimeout(() => {
            this.updateDragPreview(this.draggedElement, e.clientX, e.clientY);
            this.showDragPreview();
        }, 0);
        
        this.addDragVisualFeedback();
    }

    handleDragEnd(e) {
        if (!this.isDragging) return;

        if (e.target.classList) {
            e.target.classList.remove('dragging');
        }
        this.endDrag();
    }

    handleDragOver(e) {
        if (!this.isDragging) return;
        e.preventDefault();
        e.dataTransfer.dropEffect = 'move';
        
        // Actualizar posición del preview
        this.updateDragPreview(this.draggedElement, e.clientX, e.clientY);
    }

    handleDragEnter(e) {
        const dropZone = e.currentTarget;
        if (this.canDropInZone(dropZone)) {
            dropZone.classList.add('drag-over');
        }
    }

    handleDragLeave(e) {
        const dropZone = e.currentTarget;
        if (!dropZone.contains(e.relatedTarget)) {
            dropZone.classList.remove('drag-over');
        }
    }

    handleDrop(e) {
        e.preventDefault();
        const dropZone = e.target.closest('.players-drop-zone, .bench-players');
        
        if (dropZone && this.draggedElement && this.canDropInZone(dropZone)) {
            this.movePlayerToZone(this.draggedElement, dropZone);
            this.showDropAnimation(e.clientX, e.clientY);
        }
        
        // Limpiar todos los estados visuales
        document.querySelectorAll('.drag-over').forEach(zone => {
            zone.classList.remove('drag-over');
        });
        
        // Forzar el fin del drag
        this.endDrag();
    }

    // Touch event handlers
    handleTouchStart(e) {
        if (!this.isDraggableElement(e.target) || this.currentMode !== 'drag') return;
        
        e.preventDefault();
        this.draggedElement = e.target.closest('[data-jugador-id]');
        if (!this.draggedElement) return;
        
        this.isDragging = true;
        
        const touch = e.touches[0];
        this.draggedElement.classList.add('dragging');
        this.updateDragPreview(this.draggedElement, touch.clientX, touch.clientY);
        this.showDragPreview();
        this.addDragVisualFeedback();
        this.showTouchFeedback(touch.clientX, touch.clientY);
        
        if (navigator.vibrate) navigator.vibrate(50);
    }

    handleTouchMove(e) {
        if (!this.isDragging || !this.draggedElement) return;
        
        e.preventDefault();
        const touch = e.touches[0];
        
        this.updateDragPreview(this.draggedElement, touch.clientX, touch.clientY);
        this.updateTouchFeedback(touch.clientX, touch.clientY);
        
        const elementBelow = document.elementFromPoint(touch.clientX, touch.clientY);
        const dropZone = elementBelow?.closest('.players-drop-zone, .bench-players');
        
        document.querySelectorAll('.drag-over').forEach(zone => {
            zone.classList.remove('drag-over');
        });
        
        if (dropZone && this.canDropInZone(dropZone)) {
            dropZone.classList.add('drag-over');
        }
    }

    handleTouchEnd(e) {
        if (!this.isDragging || !this.draggedElement) return;
        
        e.preventDefault();
        const touch = e.changedTouches[0];
        
        const elementBelow = document.elementFromPoint(touch.clientX, touch.clientY);
        const dropZone = elementBelow?.closest('.players-drop-zone, .bench-players');
        
        if (dropZone && this.canDropInZone(dropZone)) {
            this.movePlayerToZone(this.draggedElement, dropZone);
            this.showDropAnimation(touch.clientX, touch.clientY);
            if (navigator.vibrate) navigator.vibrate([50, 50, 50]);
        } else {
            if (navigator.vibrate) navigator.vibrate(200);
        }
        
        // Limpiar estados visuales
        document.querySelectorAll('.drag-over').forEach(zone => {
            zone.classList.remove('drag-over');
        });
        
        this.endDrag();
    }

    // ===== DROPDOWN MODE =====
    setupDropdownMode() {
        const selects = document.querySelectorAll('.team-select');
        selects.forEach(select => {
            select.addEventListener('change', this.handleTeamSelectionChange.bind(this));
        });
        
        this.updateDropdownSelections();
        this.updateDropdownSummary();
    }

    updateDropdownSelections() {
        // Sincronizar dropdowns con el estado actual
        const selects = document.querySelectorAll('.team-select');
        selects.forEach(select => {
            const jugadorId = select.dataset.jugador;
            const currentTeam = this.getCurrentPlayerTeam(jugadorId);
            select.value = currentTeam;
        });
    }

    handleTeamSelectionChange(e) {
        const select = e.target;
        const jugadorId = select.dataset.jugador;
        const newTeam = select.value;
        
        this.assignPlayerToTeam(jugadorId, newTeam);
        this.updateDropdownSummary();
        this.markChanges();
    }

    updateDropdownSummary() {
        const teams = {
            local: [],
            visitante: [],
            bench: []
        };
        
        // Recopilar asignaciones actuales
        document.querySelectorAll('.team-select').forEach(select => {
            const jugadorId = select.dataset.jugador;
            const team = select.value;
            const playerData = this.playersData.get(jugadorId);
            
            if (playerData) {
                teams[team].push(playerData);
            }
        });
        
        // Actualizar contadores
        const localCountEl = document.getElementById('localCountDropdown');
        const visitanteCountEl = document.getElementById('visitanteCountDropdown');
        const benchCountEl = document.getElementById('benchCountDropdown');
        
        if (localCountEl) localCountEl.textContent = teams.local.length;
        if (visitanteCountEl) visitanteCountEl.textContent = teams.visitante.length;
        if (benchCountEl) benchCountEl.textContent = teams.bench.length;
        
        // Actualizar previews
        this.updatePlayersPreview('localPlayersPreview', teams.local);
        this.updatePlayersPreview('visitantePlayersPreview', teams.visitante);
        this.updatePlayersPreview('benchPlayersPreview', teams.bench);
        
        // Animar contadores
        this.animateCounterUpdate('localCountDropdown');
        this.animateCounterUpdate('visitanteCountDropdown');
        this.animateCounterUpdate('benchCountDropdown');
    }

    updatePlayersPreview(containerId, players) {
        const container = document.getElementById(containerId);
        if (!container) return;
        
        container.innerHTML = '';
        
        players.forEach((player, index) => {
            const previewElement = document.createElement('div');
            previewElement.className = 'preview-player';
            previewElement.style.animationDelay = `${index * 0.1}s`;
            previewElement.innerHTML = `
                <img src="${player.avatar}" alt="${player.name}">
                <span>${player.name}</span>
            `;
            container.appendChild(previewElement);
        });
    }

    // ===== AUTO ASSIGNMENT MODE =====
    setupAutoMode() {
        const autoAssignBtn = document.getElementById('autoAssignBtn');
        if (autoAssignBtn) {
            autoAssignBtn.addEventListener('click', this.handleAutoAssignment.bind(this));
        }
    }

    handleAutoAssignment() {
        const selectedMode = document.querySelector('input[name="autoMode"]:checked')?.value;
        if (!selectedMode) return;
        
        const btn = document.getElementById('autoAssignBtn');
        const originalText = btn.innerHTML;
        
        // Show loading state
        btn.classList.add('loading');
        btn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Asignando...';
        btn.disabled = true;
        
        // Simulate processing time
        setTimeout(() => {
            const assignment = this.generateAutoAssignment(selectedMode);
            this.applyAutoAssignment(assignment);
            this.showAutoResult(assignment);
            
            // Reset button
            btn.classList.remove('loading');
            btn.innerHTML = originalText;
            btn.disabled = false;
            
            this.markChanges();
        }, 1500);
    }

    generateAutoAssignment(mode) {
        const players = Array.from(this.playersData.values());
        const maxPerTeam = this.getMaxPlayersPerTeam();
        
        let assignment = {
            local: [],
            visitante: [],
            bench: []
        };
        
        switch (mode) {
            case 'random':
                assignment = this.randomAssignment(players, maxPerTeam);
                break;
            case 'balanced':
                assignment = this.balancedAssignment(players, maxPerTeam);
                break;
            case 'position':
                assignment = this.positionBasedAssignment(players, maxPerTeam);
                break;
        }
        
        return assignment;
    }

    randomAssignment(players, maxPerTeam) {
        const shuffled = [...players].sort(() => Math.random() - 0.5);
        const assignment = { local: [], visitante: [], bench: [] };
        
        shuffled.forEach((player, index) => {
            if (index < maxPerTeam) {
                assignment.local.push(player);
            } else if (index < maxPerTeam * 2) {
                assignment.visitante.push(player);
            } else {
                assignment.bench.push(player);
            }
        });
        
        return assignment;
    }

    balancedAssignment(players, maxPerTeam) {
        // Asignación más equilibrada considerando experiencia/posición
        const sorted = [...players].sort((a, b) => {
            // Priorizar creador y posiciones específicas
            if (a.isCreator && !b.isCreator) return -1;
            if (!a.isCreator && b.isCreator) return 1;
            return Math.random() - 0.5;
        });
        
        const assignment = { local: [], visitante: [], bench: [] };
        
        // Alternar entre equipos para equilibrio
        sorted.forEach((player, index) => {
            if (assignment.local.length < maxPerTeam && assignment.visitante.length < maxPerTeam) {
                if (index % 2 === 0) {
                    assignment.local.push(player);
                } else {
                    assignment.visitante.push(player);
                }
            } else if (assignment.local.length < maxPerTeam) {
                assignment.local.push(player);
            } else if (assignment.visitante.length < maxPerTeam) {
                assignment.visitante.push(player);
            } else {
                assignment.bench.push(player);
            }
        });
        
        return assignment;
    }

    positionBasedAssignment(players, maxPerTeam) {
        // Asignación basada en posiciones
        const positions = {
            'DEF': [],
            'MED': [],
            'DEL': [],
            'POR': [],
            'OTHER': []
        };
        
        // Categorizar jugadores por posición
        players.forEach(player => {
            const pos = player.position.toUpperCase();
            if (positions[pos]) {
                positions[pos].push(player);
            } else {
                positions.OTHER.push(player);
            }
        });
        
        const assignment = { local: [], visitante: [], bench: [] };
        
        // Distribuir por posiciones
        Object.values(positions).forEach(posPlayers => {
            posPlayers.forEach((player, index) => {
                if (assignment.local.length < maxPerTeam && assignment.visitante.length < maxPerTeam) {
                    if (index % 2 === 0) {
                        assignment.local.push(player);
                    } else {
                        assignment.visitante.push(player);
                    }
                } else if (assignment.local.length < maxPerTeam) {
                    assignment.local.push(player);
                } else if (assignment.visitante.length < maxPerTeam) {
                    assignment.visitante.push(player);
                } else {
                    assignment.bench.push(player);
                }
            });
        });
        
        return assignment;
    }

    applyAutoAssignment(assignment) {
        // Aplicar asignación a todos los modos
        
        // Actualizar dropdowns
        document.querySelectorAll('.team-select').forEach(select => {
            const jugadorId = select.dataset.jugador;
            const playerTeam = this.findPlayerTeamInAssignment(jugadorId, assignment);
            select.value = playerTeam;
        });
        
        // Actualizar drag mode si está activo
        if (this.currentMode === 'drag') {
            this.updateDragPositionsFromAssignment(assignment);
        }
        
        // Actualizar dropdown summary
        this.updateDropdownSummary();
    }

    findPlayerTeamInAssignment(playerId, assignment) {
        for (const [team, players] of Object.entries(assignment)) {
            if (players.some(p => p.id === playerId)) {
                return team;
            }
        }
        return 'bench';
    }

    updateDragPositionsFromAssignment(assignment) {
        // Mover jugadores en el modo drag según la asignación
        Object.entries(assignment).forEach(([team, players]) => {
            const zoneId = team === 'bench' ? 'bench-players' : `${team}-players`;
            const zone = document.getElementById(zoneId);
            if (!zone) return;
            
            players.forEach(playerData => {
                const playerElement = document.querySelector(`[data-jugador-id="${playerData.id}"]`);
                if (playerElement && !zone.contains(playerElement)) {
                    this.movePlayerToZone(playerElement, zone, false);
                }
            });
        });
    }

    showAutoResult(assignment) {
        const resultContainer = document.getElementById('autoResult');
        if (!resultContainer) return;
        
        // Mostrar resultado
        resultContainer.style.display = 'block';
        
        // Poblar equipos
        this.populateAutoResultTeam('autoLocalPlayers', assignment.local);
        this.populateAutoResultTeam('autoVisitantePlayers', assignment.visitante);
        this.populateAutoResultTeam('autoBenchPlayers', assignment.bench);
    }

    populateAutoResultTeam(containerId, players) {
        const container = document.getElementById(containerId);
        if (!container) return;
        
        container.innerHTML = '';
        
        players.forEach((player, index) => {
            const playerElement = document.createElement('div');
            playerElement.className = 'result-player';
            playerElement.style.animationDelay = `${index * 0.1}s`;
            playerElement.innerHTML = `
                <img src="${player.avatar}" alt="${player.name}">
                <div class="result-player-info">
                    <div class="result-player-name">${player.name}</div>
                    <div class="result-player-position">${player.position}</div>
                </div>
                ${player.isCreator ? '<i class="fas fa-crown" style="color: #ffd700;"></i>' : ''}
            `;
            container.appendChild(playerElement);
        });
    }

    // ===== UTILITY METHODS =====
    isDraggableElement(element) {
        return element.closest('[data-jugador-id]') !== null;
    }

    canDropInZone(dropZone) {
        if (!dropZone || !this.draggedElement) return false;
        
        const currentZone = this.draggedElement.closest('.players-drop-zone, .bench-players');
        if (currentZone === dropZone) return false;
        
        if (dropZone.id === 'local-players' || dropZone.id === 'visitante-players') {
            const maxPlayers = this.getMaxPlayersPerTeam();
            const currentPlayers = dropZone.querySelectorAll('[data-jugador-id]').length;
            return currentPlayers < maxPlayers;
        }
        
        return true;
    }

    getMaxPlayersPerTeam() {
        const fieldElement = document.querySelector('.football-field');
        const tipoPartido = fieldElement?.dataset.tipoPartido;
        
        switch (tipoPartido) {
            case '5v5': return 5;
            case '7v7': return 7;
            case '11v11': return 11;
            default: return 11;
        }
    }

    getCurrentPlayerTeam(playerId) {
        const playerElement = document.querySelector(`[data-jugador-id="${playerId}"]`);
        if (!playerElement) return 'bench';
        
        const container = playerElement.closest('.players-drop-zone, .bench-players');
        if (!container) return 'bench';
        
        if (container.id === 'local-players') return 'local';
        if (container.id === 'visitante-players') return 'visitante';
        return 'bench';
    }

    assignPlayerToTeam(playerId, team) {
        // Para modo dropdown, solo actualizamos la selección
        // La sincronización se hace al cambiar de modo
        this.markChanges();
    }

    movePlayerToZone(player, targetZone, animate = true) {
        const playerElement = player.closest ? player.closest('[data-jugador-id]') : player;
        if (!playerElement || !targetZone) return;
        
        const jugadorId = playerElement.dataset.jugadorId;
        const playerData = this.playersData.get(jugadorId);
        
        if (!playerData) return;
        
        // Crear nuevo elemento según la zona
        const newPlayer = this.createPlayerElementForZone(playerData, targetZone);
        
        // Añadir a la zona
        targetZone.appendChild(newPlayer);
        
        // Remover elemento original
        playerElement.remove();
        
        // Animación de entrada
        if (animate) {
            this.animatePlayerEntry(newPlayer);
        }
        
        // Actualizar estado
        this.markChanges();
        this.updateCounters();
        
        // Sincronizar con dropdown mode
        if (this.currentMode === 'drag') {
            this.syncDropdownFromDrag();
        }
    }

    createPlayerElementForZone(playerData, targetZone) {
        let element;
        
        if (targetZone.id === 'bench-players') {
            element = this.createBenchPlayerElement(playerData);
        } else {
            const teamClass = targetZone.id === 'local-players' ? 'local-player' : 'visitante-player';
            element = this.createFieldPlayerElement(playerData, teamClass);
        }
        
        element.dataset.jugadorId = playerData.id;
        element.draggable = true;
        element.tabIndex = 0;
        
        return element;
    }

    createFieldPlayerElement(playerData, teamClass) {
        const element = document.createElement('div');
        element.className = `field-player ${teamClass}`;
        
        // Asegurar que el nombre se muestre siempre
        const displayName = playerData.name || 'Jugador';
        const shortName = displayName.length > 10 ? 
            displayName.substring(0, 8) + '...' : 
            displayName;
            
        // Asegurar posición
        const displayPosition = playerData.position ? 
            (playerData.position.length > 3 ? 
                playerData.position.substring(0, 3).toUpperCase() : 
                playerData.position.toUpperCase()) : 'JUG';
        
        element.innerHTML = `
            <div class="player-avatar">
                <img src="${playerData.avatar || '/static/images/avatar_default.png'}" 
                     alt="${displayName}" 
                     onerror="this.src='/static/images/avatar_default.png'">
            </div>
            <div class="player-name" title="${displayName}">${shortName}</div>
            <div class="player-position">${displayPosition}</div>
            ${playerData.isCreator ? '<div class="creator-badge"><i class="fas fa-crown"></i></div>' : ''}
        `;
        
        return element;
    }

    createBenchPlayerElement(playerData) {
        const element = document.createElement('div');
        element.className = 'bench-player';
        
        // Asegurar que el nombre se muestre siempre
        const displayName = playerData.name || 'Jugador';
        const displayPosition = playerData.position || 'Jugador';
        
        element.innerHTML = `
            <div class="player-avatar">
                <img src="${playerData.avatar || '/static/images/avatar_default.png'}" 
                     alt="${displayName}" 
                     onerror="this.src='/static/images/avatar_default.png'">
            </div>
            <div class="player-info">
                <div class="player-name" title="${displayName}">${displayName}</div>
                <div class="player-position">${displayPosition}</div>
            </div>
            ${playerData.isCreator ? '<div class="creator-badge"><i class="fas fa-crown"></i></div>' : ''}
        `;
        return element;
    }

    syncDropdownFromDrag() {
        // Sincronizar dropdowns con el estado actual del drag mode
        document.querySelectorAll('.team-select').forEach(select => {
            const jugadorId = select.dataset.jugador;
            const currentTeam = this.getCurrentPlayerTeam(jugadorId);
            select.value = currentTeam;
        });
        
        this.updateDropdownSummary();
    }

    updateCounters() {
        const localCount = document.querySelectorAll('#local-players [data-jugador-id]').length;
        const visitanteCount = document.querySelectorAll('#visitante-players [data-jugador-id]').length;
        const benchCount = document.querySelectorAll('#bench-players [data-jugador-id]').length;
        
        // Actualizar contadores en drag mode
        const localCounter = document.querySelector('.local-counter');
        const visitanteCounter = document.querySelector('.visitante-counter');
        const benchCounter = document.querySelector('.bench-counter');
        
        if (localCounter) {
            localCounter.textContent = localCount;
            this.animateCounterUpdate(localCounter);
        }
        if (visitanteCounter) {
            visitanteCounter.textContent = visitanteCount;
            this.animateCounterUpdate(visitanteCounter);
        }
        if (benchCounter) {
            benchCounter.textContent = benchCount;
            this.animateCounterUpdate(benchCounter);
        }
    }

    animateCounterUpdate(counter) {
        if (typeof counter === 'string') {
            counter = document.getElementById(counter);
        }
        if (!counter) return;
        
        counter.classList.add('updated');
        setTimeout(() => {
            counter.classList.remove('updated');
        }, 300);
    }

    // ===== VISUAL FEEDBACK =====
    updateDragPreview(element, x, y) {
        if (!this.dragPreview || !element) return;
        
        // Clonar el elemento y prepararlo para el preview
        const clone = element.cloneNode(true);
        clone.classList.remove('dragging');
        clone.classList.add('drag-preview-element');
        
        this.dragPreview.innerHTML = '';
        this.dragPreview.appendChild(clone);
        
        this.dragPreview.style.left = `${x - 30}px`;
        this.dragPreview.style.top = `${y - 40}px`;
        this.dragPreview.style.zIndex = '10000';
    }

    showDragPreview() {
        if (this.dragPreview) {
            this.dragPreview.style.display = 'block';
            this.dragPreview.style.opacity = '0.9';
            this.dragPreview.style.pointerEvents = 'none';
        }
    }

    hideDragPreview() {
        if (this.dragPreview) {
            this.dragPreview.style.display = 'none';
            this.dragPreview.style.opacity = '0';
            this.dragPreview.style.left = '-1000px';
            this.dragPreview.style.top = '-1000px';
            this.dragPreview.innerHTML = '';
        }
    }

    showTouchFeedback(x, y) {
        if (!this.touchFeedback) return;
        
        this.touchFeedback.style.left = `${x - 50}px`;
        this.touchFeedback.style.top = `${y - 50}px`;
        this.touchFeedback.classList.add('active');
    }

    updateTouchFeedback(x, y) {
        if (!this.touchFeedback) return;
        
        this.touchFeedback.style.left = `${x - 50}px`;
        this.touchFeedback.style.top = `${y - 50}px`;
    }

    hideTouchFeedback() {
        if (this.touchFeedback) {
            this.touchFeedback.classList.remove('active');
        }
    }

    addDragVisualFeedback() {
        document.body.classList.add('dragging-active');
        
        const dropZones = document.querySelectorAll('.players-drop-zone, .bench-players');
        dropZones.forEach(zone => {
            if (this.canDropInZone(zone)) {
                zone.classList.add('valid-drop-zone');
            }
        });
    }

    removeDragVisualFeedback() {
        document.body.classList.remove('dragging-active');
        document.querySelectorAll('.valid-drop-zone, .drag-over').forEach(zone => {
            zone.classList.remove('valid-drop-zone', 'drag-over');
        });
    }

    showDropAnimation(x, y) {
        const animation = document.createElement('div');
        animation.className = 'drop-animation';
        animation.style.cssText = `
            position: fixed;
            left: ${x - 25}px;
            top: ${y - 25}px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: radial-gradient(circle, var(--match-primary) 0%, transparent 70%);
            pointer-events: none;
            z-index: 9999;
            animation: dropPulse 0.6s ease-out forwards;
        `;
        
        document.body.appendChild(animation);
        setTimeout(() => animation.remove(), 600);
    }

    animatePlayerEntry(player) {
        player.style.opacity = '0';
        player.style.transform = 'scale(0.8)';
        
        requestAnimationFrame(() => {
            player.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
            player.style.opacity = '1';
            player.style.transform = 'scale(1)';
        });
    }

    endDrag() {
        // Limpiar elemento arrastrado
        if (this.draggedElement) {
            this.draggedElement.classList.remove('dragging');
        }
        
        // Resetear estados
        this.draggedElement = null;
        this.isDragging = false;
        
        // Ocultar previews y feedback
        this.hideDragPreview();
        this.hideTouchFeedback();
        this.removeDragVisualFeedback();
        
        // Limpiar todas las clases de drag
        document.querySelectorAll('.dragging, .drag-over, .valid-drop-zone').forEach(el => {
            el.classList.remove('dragging', 'drag-over', 'valid-drop-zone');
        });
        
        // Limpiar body classes
        document.body.classList.remove('dragging-active');
    }

    // ===== SAVE FUNCTIONALITY =====
    setupSaveButton() {
        this.saveButton = document.getElementById('saveTeamsBtn');
        if (this.saveButton) {
            this.saveButton.addEventListener('click', this.saveTeamAssignments.bind(this));
        }
    }

    markChanges() {
        this.hasChanges = true;
        this.updateSaveButton();
    }

    updateSaveButton() {
        if (!this.saveButton) return;
        
        if (this.hasChanges) {
            this.saveButton.disabled = false;
            this.saveButton.classList.add('has-changes');
        } else {
            this.saveButton.disabled = true;
            this.saveButton.classList.remove('has-changes');
        }
    }

    saveTeamAssignments() {
        if (!this.hasChanges) return;
        
        // Recopilar datos según el modo actual
        let localPlayers, visitantePlayers;
        
        if (this.currentMode === 'dropdown') {
            localPlayers = this.getPlayersFromDropdown('local');
            visitantePlayers = this.getPlayersFromDropdown('visitante');
        } else {
            localPlayers = this.getPlayersFromDrag('local-players');
            visitantePlayers = this.getPlayersFromDrag('visitante-players');
        }
        
        // Actualizar campos hidden
        const localInput = document.getElementById('localPlayersInput');
        const visitanteInput = document.getElementById('visitantePlayersInput');
        
        if (localInput) localInput.value = localPlayers.join(',');
        if (visitanteInput) visitanteInput.value = visitantePlayers.join(',');
        
        // Mostrar indicador de guardado
        this.showSaveIndicator();
        
        // Enviar formulario
        const form = document.getElementById('teamAssignmentForm');
        if (form) {
            form.submit();
        }
    }

    getPlayersFromDropdown(team) {
        const players = [];
        document.querySelectorAll('.team-select').forEach(select => {
            if (select.value === team) {
                players.push(select.dataset.jugador);
            }
        });
        return players;
    }

    getPlayersFromDrag(zoneId) {
        const zone = document.getElementById(zoneId);
        if (!zone) return [];
        
        return Array.from(zone.querySelectorAll('[data-jugador-id]'))
            .map(player => player.dataset.jugadorId);
    }

    showSaveIndicator() {
        if (!this.saveButton) return;
        
        const originalText = this.saveButton.innerHTML;
        this.saveButton.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Guardando...';
        this.saveButton.disabled = true;
        this.saveButton.classList.add('loading');
        
        setTimeout(() => {
            this.saveButton.innerHTML = '<i class="fas fa-check me-2"></i>Guardado';
            this.saveButton.classList.remove('loading');
            this.saveButton.classList.add('save-success');
            
            setTimeout(() => {
                this.saveButton.innerHTML = originalText;
                this.saveButton.classList.remove('save-success');
                this.hasChanges = false;
                this.updateSaveButton();
            }, 1000);
        }, 1500);
    }

    // ===== KEYBOARD SUPPORT =====
    setupKeyboardSupport() {
        document.addEventListener('keydown', (e) => {
            const activeElement = document.activeElement;
            if (!activeElement || !activeElement.closest('[data-jugador-id]')) return;
            
            switch (e.key) {
                case 'Enter':
                case ' ':
                    e.preventDefault();
                    this.handleKeyboardPlayerAction(activeElement);
                    break;
                case 'ArrowLeft':
                    e.preventDefault();
                    this.movePlayerWithKeyboard(activeElement, 'local');
                    break;
                case 'ArrowRight':
                    e.preventDefault();
                    this.movePlayerWithKeyboard(activeElement, 'visitante');
                    break;
                case 'ArrowDown':
                    e.preventDefault();
                    this.movePlayerWithKeyboard(activeElement, 'bench');
                    break;
            }
        });
    }

    handleKeyboardPlayerAction(element) {
        // Highlight player for keyboard users
        element.classList.toggle('keyboard-selected');
    }

    movePlayerWithKeyboard(element, targetTeam) {
        if (this.currentMode !== 'drag') return;
        
        const player = element.closest('[data-jugador-id]');
        if (!player) return;
        
        const zoneId = targetTeam === 'bench' ? 'bench-players' : `${targetTeam}-players`;
        const targetZone = document.getElementById(zoneId);
        
        if (targetZone && this.canDropInZone(targetZone)) {
            this.movePlayerToZone(player, targetZone);
            
            // Mover foco al nuevo elemento
            setTimeout(() => {
                const newPlayer = targetZone.querySelector(`[data-jugador-id="${player.dataset.jugadorId}"]`);
                if (newPlayer) {
                    newPlayer.focus();
                }
            }, 100);
        }
    }

    // ===== RESET FUNCTIONALITY =====
    resetToOriginal() {
        // Restablecer posiciones originales
        this.originalPositions.forEach((data, jugadorId) => {
            const currentPlayer = document.querySelector(`[data-jugador-id="${jugadorId}"]`);
            if (currentPlayer) {
                currentPlayer.remove();
            }
            
            const originalTeam = data.team;
            const zoneId = originalTeam === 'bench' ? 'bench-players' : `${originalTeam}-players`;
            const targetZone = document.getElementById(zoneId);
            
            if (targetZone) {
                const playerData = this.playersData.get(jugadorId);
                if (playerData) {
                    const restoredPlayer = this.createPlayerElementForZone(playerData, targetZone);
                    targetZone.appendChild(restoredPlayer);
                }
            }
        });
        
        // Resetear dropdowns
        this.updateDropdownSelections();
        this.updateDropdownSummary();
        
        // Resetear auto mode
        const autoResult = document.getElementById('autoResult');
        if (autoResult) {
            autoResult.style.display = 'none';
        }
        
        this.hasChanges = false;
        this.updateSaveButton();
        this.updateCounters();
    }
}

// ===== CSS ANIMATIONS =====
const style = document.createElement('style');
style.textContent = `
    @keyframes dropPulse {
        0% {
            opacity: 1;
            transform: scale(0);
        }
        50% {
            opacity: 0.8;
            transform: scale(1);
        }
        100% {
            opacity: 0;
            transform: scale(1.5);
        }
    }
    
    .dragging-active .valid-drop-zone {
        animation: pulseGlow 1.5s ease-in-out infinite;
    }
    
    @keyframes pulseGlow {
        0%, 100% {
            box-shadow: 0 0 0 0 rgba(0, 212, 170, 0.4);
        }
        50% {
            box-shadow: 0 0 0 10px rgba(0, 212, 170, 0.1);
        }
    }
    
    .btn.has-changes {
        animation: buttonPulse 2s ease-in-out infinite;
    }
    
    @keyframes buttonPulse {
        0%, 100% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.05);
        }
    }

    .keyboard-selected {
        outline: 2px solid var(--match-primary);
        outline-offset: 2px;
    }
`;
document.head.appendChild(style);

// ===== INITIALIZATION =====
document.addEventListener('DOMContentLoaded', function() {
    // Inicializar solo si estamos en la vista de creador
    if (document.querySelector('.team-management-section')) {
        window.advancedTeamManager = new AdvancedTeamAssignmentManager();
        
        // Añadir botón de reset
        const resetBtn = document.createElement('button');
        resetBtn.className = 'btn btn-outline btn-sm ms-2';
        resetBtn.innerHTML = '<i class="fas fa-undo me-2"></i>Restablecer';
        resetBtn.addEventListener('click', () => {
            if (confirm('¿Estás seguro de que quieres restablecer la asignación de equipos?')) {
                window.advancedTeamManager.resetToOriginal();
            }
        });
        
        const saveBtn = document.getElementById('saveTeamsBtn');
        if (saveBtn && saveBtn.parentNode) {
            saveBtn.parentNode.insertBefore(resetBtn, saveBtn.nextSibling);
        }
    }
    
    // Configurar otras funcionalidades
    setupPlayerActions();
    setupEntryAnimations();
});

function setupPlayerActions() {
    const joinBtn = document.getElementById('joinMatchBtn');
    const leaveBtn = document.getElementById('leaveMatchBtn');
    
    if (joinBtn) {
        joinBtn.addEventListener('click', function() {
            // Aquí iría la lógica para unirse al partido
            console.log('Unirse al partido');
        });
    }
    
    if (leaveBtn) {
        leaveBtn.addEventListener('click', function() {
            if (confirm('¿Estás seguro de que quieres abandonar este partido?')) {
                // Aquí iría la lógica para abandonar el partido
                console.log('Abandonar partido');
            }
        });
    }
}

function setupEntryAnimations() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.animationPlayState = 'running';
            }
        });
    }, observerOptions);
    
    document.querySelectorAll('.info-item, .player-card, .field-player, .bench-player').forEach(el => {
        observer.observe(el);
    });
}

================
File: app/templates/components/svg/landing_location.html
================
<svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" class="bi bi-geo-alt-fill" viewBox="0 0 16 16">
    <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6"/>
</svg>

================
File: app/templates/components/svg/landing_player.html
================
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="60" height="60" x="0" y="0" viewBox="0 0 323.788 323.788" style="enable-background:new 0 0 512 512" xml:space="preserve" class="">
    <g>
    <path d="M199.177 0c12.914 0 23.39 10.47 23.39 23.39 0 12.917-10.476 23.39-23.39 23.39-12.92 0-23.39-10.473-23.39-23.39 0-12.92 10.47-23.39 23.39-23.39z" fill="#ffffff" opacity="1" data-original="#000000"></path>
    <path d="M78.842 189.281c-7.482-4.79-17.424-2.61-22.211 4.872-4.79 7.473-2.61 17.425 4.873 22.209l46.23 29.608c7.017 4.484 16.296 2.88 21.391-3.707l56.547-73.104 43.921 56.674 6.432 78.081c.688 8.399 7.726 14.758 16.006 14.758.439 0 .891-.021 1.336-.052 8.849-.73 15.436-8.492 14.705-17.347l-6.819-82.829a16.099 16.099 0 0 0-3.313-8.533l-35.828-54.21 2.895-73.589s.813-4.236.969-9.448c4.552-5.333 10.543-12.79 18.543-23.289 11.987-15.726 23.017-31.115 23.131-31.268 3.525-4.927 2.392-11.772-2.532-15.299-4.92-3.524-11.771-2.39-15.297 2.53-11.992 16.756-25.952 35.294-36.117 47.807-12.914-1.504-31.115-1.543-41.808.461-3.807.717-6.204 2.361-7.726 4.254-.365.381-.72.779-1.033 1.225-19.04 26.598-43.041 57.7-48.941 62.036a10.962 10.962 0 0 0-4.624 14.435 10.964 10.964 0 0 0 9.867 6.172c1.613 0 3.247-.354 4.79-1.108 2.98-1.453 7.974-3.881 33.611-37.498.922-1.211 1.836-2.413 2.742-3.611l-1.347 40.588.249.065-46.79 70.798-33.852-21.681z" fill="#ffffff" opacity="1" data-original="#000000"></path>
    <path d="M184.921 273.348c13.93 0 25.218 11.294 25.218 25.223 0 13.924-11.288 25.218-25.218 25.218-13.924 0-25.217-11.294-25.217-25.218 0-13.929 11.293-25.223 25.217-25.223z" fill="#ffffff" opacity="1" data-original="#000000"></path>
    </g>
</svg>

================
File: app/templates/components/svg/landing_team.html
================
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50" x="0" y="0" viewBox="0 0 511.999 511.999" style="enable-background:new 0 0 350 350" xml:space="preserve" class="">
    <g>
    <path d="M438.09 273.32h-39.596c4.036 11.05 6.241 22.975 6.241 35.404v149.65c0 5.182-.902 10.156-2.543 14.782h65.461c24.453 0 44.346-19.894 44.346-44.346v-81.581c.001-40.753-33.155-73.909-73.909-73.909zM107.265 308.725c0-12.43 2.205-24.354 6.241-35.404H73.91c-40.754 0-73.91 33.156-73.91 73.91v81.581c0 24.452 19.893 44.346 44.346 44.346h65.462a44.144 44.144 0 0 1-2.543-14.783v-149.65zM301.261 234.815h-90.522c-40.754 0-73.91 33.156-73.91 73.91v149.65c0 8.163 6.618 14.782 14.782 14.782h208.778c8.164 0 14.782-6.618 14.782-14.782v-149.65c0-40.754-33.156-73.91-73.91-73.91zM256 38.84c-49.012 0-88.886 39.874-88.886 88.887 0 33.245 18.349 62.28 45.447 77.524 12.853 7.23 27.671 11.362 43.439 11.362s30.586-4.132 43.439-11.362c27.099-15.244 45.447-44.28 45.447-77.524 0-49.012-39.874-88.887-88.886-88.887zM99.918 121.689c-36.655 0-66.475 29.82-66.475 66.475 0 36.655 29.82 66.475 66.475 66.475a66.095 66.095 0 0 0 26.195-5.388c13.906-5.987 25.372-16.585 32.467-29.86a66.05 66.05 0 0 0 7.813-31.227c0-36.654-29.82-66.475-66.475-66.475zM412.082 121.689c-36.655 0-66.475 29.82-66.475 66.475a66.045 66.045 0 0 0 7.813 31.227c7.095 13.276 18.561 23.874 32.467 29.86a66.095 66.095 0 0 0 26.195 5.388c36.655 0 66.475-29.82 66.475-66.475 0-36.655-29.82-66.475-66.475-66.475z" fill="#ffffff" opacity="1" data-original="#000000" class=""></path>
    </g>
</svg>

================
File: app/templates/components/svg/logo_tiro.html
================
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="512" height="512" x="0" y="0" viewBox="0 0 60 60" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path fill="#27c9b0" d="M26.616 7.444a6 6 0 0 0 11.623 2.989l.5-1.937a6 6 0 0 0-11.625-2.989z" opacity="1" data-original="#3f54ea" class=""></path><path fill="#27c9b0" d="M52.662 28.3a2.476 2.476 0 0 1-1.9 1.21 2.55 2.55 0 0 1-1.53-.32L35.25 22.049l-8.934 34.7a3 3 0 0 1-3.861 2.1 3.125 3.125 0 0 1-1.91-3.76l2.582-10.229a3 3 0 0 1-3.727 1.869 3.123 3.123 0 0 1-1.97-3.769l5.793-22.32-12.795 4.239a2.7 2.7 0 0 1-3.17-1.3 2.442 2.442 0 0 1 1.31-3.339l15.681-6.04A6.246 6.246 0 0 1 28 13.99l7 1.81a6.7 6.7 0 0 1 1.481.58l15.281 8.5a2.5 2.5 0 0 1 .9 3.42z" opacity="1" data-original="#3f54ea" class=""></path><circle cx="12" cy="54" r="5" fill="#fb9e67" opacity="1" data-original="#c0daf0" class=""></circle><path fill="#30e7ca" d="m24.65 39.05-1.52 5.81a2.972 2.972 0 0 1-2.59 1.99l2.18-8.31a1 1 0 1 1 1.93.51z" opacity="1" data-original="#3149bc" class=""></path></g></svg>

================
File: app/templates/components/svg/logo2_player.html
================
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="512" height="512" x="0" y="0" viewBox="0 0 60 60" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><g fill="#3f54ea"><path d="M33.812 15.244a.5.5 0 0 1-.346-.861l1.334-1.276-3.563 2.056a.5.5 0 0 1-.561-.823l2.471-1.972-3.607 2.084a.5.5 0 0 1-.564-.821L33.6 9.886 28.025 13.1a.5.5 0 0 1-.547-.834l3.707-2.752-3.957 2.286a.5.5 0 0 1-.562-.824l5.186-4.128-5.126 2.96a.5.5 0 0 1-.536-.844l.432-.3a.5.5 0 0 1-.425-.878l3.325-2.662-2.252 1.3a.5.5 0 0 1-.615-.776l2.185-2.315a.5.5 0 1 1-.5-.865L31.291.763a.5.5 0 0 1 .614.775l-2.184 2.318L34.73.964a.5.5 0 0 1 .563.823l-3.326 2.662L36.388 1.9a.5.5 0 0 1 .535.844L36.7 2.9l.459-.265a.5.5 0 0 1 .562.824l-5.186 4.123L38.2 4.314a.5.5 0 0 1 .548.834l-3.7 2.75L38.6 5.846a.5.5 0 0 1 .564.821L34.54 10.41l3.89-2.245a.5.5 0 0 1 .561.823l-2.474 1.974 1.391-.8a.5.5 0 0 1 .6.794l-1.665 1.591a.5.5 0 0 1 .177.927l-2.954 1.706a.494.494 0 0 1-.254.064zM22.277 59.238a.5.5 0 0 1-.345-.861l1.619-1.546-2.275 1.313a.5.5 0 0 1-.589-.8l3.3-3.052-3.252 1.877a.5.5 0 0 1-.548-.834l.705-.523a.506.506 0 0 1-.536-.206.5.5 0 0 1 .105-.673l2.123-1.663-1.1.631a.5.5 0 0 1-.574-.813l3.725-3.177-2.509 1.448a.5.5 0 0 1-.57-.816l3.424-2.864-2.253 1.3a.5.5 0 0 1-.571-.815l3.479-2.916-2.3 1.328a.5.5 0 1 1-.5-.865l7.265-4.195a.5.5 0 0 1 .571.815L27.2 44.246l2.285-1.319a.5.5 0 0 1 .571.816l-3.427 2.866 2.241-1.294a.5.5 0 0 1 .574.814l-3.725 3.177 2.5-1.44a.5.5 0 0 1 .559.826l-2.12 1.661 1.08-.624a.5.5 0 0 1 .549.834l-.768.572a.5.5 0 0 1 .432.858l-3.3 3.052 2.015-1.164a.5.5 0 0 1 .6.794l-1.62 1.547.5-.285a.5.5 0 0 1 .5.865l-4.1 2.369a.489.489 0 0 1-.269.067zM50.7 29.981a.5.5 0 0 1-.41-.785l.9-1.292-2.355 1.356a.5.5 0 0 1-.581-.808l.092-.081-.591.341a.5.5 0 0 1-.6-.791l.875-.851-1.642.948a.5.5 0 0 1-.637-.749L47.28 25.4l-2.831 1.634a.5.5 0 0 1-.617-.772l1.355-1.462-2.405 1.389a.5.5 0 0 1-.623-.765l1.494-1.68-2.66 1.536a.5.5 0 0 1-.622-.766l1.527-1.7-2.7 1.556a.5.5 0 0 1-.621-.768l1.566-1.73-2.743 1.583a.5.5 0 0 1-.61-.779l1.459-1.518-2.514 1.451a.5.5 0 0 1-.5-.865l5.572-3.217a.5.5 0 0 1 .61.78l-1.46 1.517 2.444-1.41a.5.5 0 0 1 .621.769l-1.565 1.728 2.666-1.539a.5.5 0 0 1 .622.767l-1.528 1.7 2.621-1.513a.5.5 0 0 1 .623.765l-1.492 1.679 2.583-1.492a.5.5 0 0 1 .617.773l-1.356 1.463 2.335-1.348a.5.5 0 0 1 .637.749l-1.529 1.87 2.749-1.585a.5.5 0 0 1 .6.791l-.875.851 1.418-.819a.5.5 0 0 1 .582.808l-.092.081a.5.5 0 0 1 .644.727l-.908 1.306a.5.5 0 0 1 .422.9l-1.85 1.067a.489.489 0 0 1-.246.069z" fill="#00d4b1" opacity="1" data-original="#3f54ea" class=""></path><path d="M20.187 47.324a.5.5 0 0 1-.309-.893l5.322-4.178-6.876 3.969a.5.5 0 0 1-.528-.848l1.065-.716-1.069.617a.5.5 0 0 1-.537-.841l5.066-3.551-4.644 2.681a.5.5 0 0 1-.541-.838l6.894-4.942-5.724 3.305a.5.5 0 0 1-.538-.842l5.963-4.194-4.844 2.8a.5.5 0 0 1-.532-.853l3.4-2.3-2.413 1.4a.5.5 0 0 1-.539-.841l6.3-4.461-5.16 2.978a.5.5 0 0 1-.537-.841l5.926-4.167-4.809 2.776a.5.5 0 0 1-.523-.856l4.686-3.049-3.708 2.14a.5.5 0 0 1-.524-.85l4.127-2.709-3.15 1.818a.5.5 0 0 1-.527-.849l3.721-2.472-2.741 1.583a.5.5 0 0 1-.542-.839l6.535-4.7-5.358 3.092a.5.5 0 0 1-.53-.847l.8-.539a.5.5 0 0 1-.456-.873l4.052-3.111-2.91 1.68a.5.5 0 0 1-.545-.837l.436-.317-4.327 2.5a.5.5 0 0 1-.565-.821l4.872-3.961-13.272 7.663a.5.5 0 0 1-.532-.846l5.34-3.645-6.713 3.875a.5.5 0 0 1-.553-.83l3.909-2.978-4.2 2.426a.5.5 0 0 1-.623-.766l.859-.964a.51.51 0 0 1-.524-.242.5.5 0 0 1 .183-.683l2.467-1.424a.5.5 0 0 1 .623.766l-.8.9 8.3-4.791a.5.5 0 0 1 .552.83l-3.908 2.978L25.865 13.4a.5.5 0 0 1 .532.846l-5.338 3.645 7.22-4.169a.5.5 0 0 1 .566.82l-4.871 3.961 7.051-4.071a.5.5 0 0 1 .545.836l-.438.319 1.349-.778a.5.5 0 0 1 .555.829l-4.055 3.112 5.8-3.346a.5.5 0 0 1 .53.848l-.657.44 1.4-.8a.5.5 0 0 1 .542.838l-6.536 4.7 7.831-4.53a.5.5 0 0 1 .526.849l-3.725 2.476 4.5-2.6a.5.5 0 0 1 .525.85l-4.119 2.7 4.9-2.83a.5.5 0 0 1 .522.852l-6.183 4.022a.5.5 0 0 1 .235.907L29.146 28.3l4.817-2.781a.5.5 0 0 1 .539.841l-6.3 4.463 5.167-2.983a.5.5 0 0 1 .53.846l-3.4 2.3 2.415-1.386a.5.5 0 0 1 .538.841l-5.967 4.2 4.854-2.8a.5.5 0 0 1 .541.839l-6.889 4.937 5.708-3.3a.5.5 0 0 1 .537.842l-5.073 3.556 4-2.309a.5.5 0 0 1 .528.848l-1.059.712.152-.088a.5.5 0 0 1 .559.826l-7.994 6.278.009.016a.5.5 0 0 1-.182.683l-2.738 1.58a.5.5 0 0 1-.251.063z" fill="#00d4b1" opacity="1" data-original="#3f54ea" class=""></path></g><path fill="#cbcdcf" d="M13.014 59.36a.5.5 0 0 1-.339-.868l.411-.377-1.994 1.151a.5.5 0 0 1-.568-.82l1.428-1.174L9.6 58.634a.5.5 0 0 1-.558-.827l1.673-1.307-2.159 1.246a.5.5 0 0 1-.565-.821l2.764-2.237-3.044 1.756a.5.5 0 0 1-.549-.833l.974-.728-.768.443a.5.5 0 0 1-.561-.823l1.625-1.3-1.119.646a.5.5 0 0 1-.618-.771l1.755-1.912a.5.5 0 0 1-.395-.911l2.681-1.548a.5.5 0 0 1 .618.771L9.629 51.36l4.079-2.354a.5.5 0 0 1 .562.823l-1.624 1.3 2.32-1.339a.5.5 0 0 1 .549.833l-.973.728 1.218-.7a.5.5 0 0 1 .564.821L13.558 53.7l2.912-1.681a.5.5 0 0 1 .557.828l-1.674 1.3 1.356-.783a.5.5 0 0 1 .567.819l-1.428 1.175.659-.381a.5.5 0 0 1 .589.8l-1.175 1.08a.49.49 0 0 1 .207.2.5.5 0 0 1-.183.682l-2.681 1.548a.489.489 0 0 1-.25.073z" opacity="1" data-original="#c0daf0" class=""></path><path fill="#424643" d="M25.363 58.717a4.281 4.281 0 0 0 1.909-3.017l8.448-32.8 8.016 4.093c2.652 1.371 7.288 4.819 9.644 1.2 1.294-2.644-1.284-3.754-3.125-4.778-5.319-2.671-10.191-6.322-15.816-8.31C42.687 12.132 40.71-1.854 30.9.836c-4.909 1.491-6.955 9.105-3.3 12.712-4.156-.239-7.9 2.443-11.8 3.6-2.908 1.523-7.253 1.8-9.276 4.463a2.693 2.693 0 0 0 2.439 3.7c4.592-.666 8.937-2.862 13.424-4.107-1.771 7.377-4.087 14.646-5.712 22.041-.617 3.38 2.864 4.594 5.286 3.447-.742 2.817-1.532 5.635-2.126 8.479-.7 3.348 2.789 5.123 5.528 3.546zm1.985-51.334c.82-8.24 11.343-7.434 10.774.607-.631 9.04-11.952 8.188-10.774-.607zM21.2 55.3c1.188-5.5 2.849-10.929 4.245-16.394-.005-.773-1.377-.551-1.47.1-.515 2.005-1.112 4-1.586 6.012-1.289 2.983-4.641.722-4.308-1.843 1.613-6.444 3.34-12.868 4.99-19.306l.871-3.353c.1-.392-.851-.132-.979-.09l-12.198 4.049a2.235 2.235 0 1 1-1.324-4.265l15.065-5.8c1.969-.617 3.885.082 5.725.734 3.612.323 6.7 1.943 9.727 3.809l8.095 4.5c1.848 1.027 5.22 2.189 3.9 4.935-1.045 1.42-2.669.224-3.868-.389l-4.833-2.469c-1.66-.485-7.883-5.015-8.719-3.365q-4.419 17.151-8.834 34.3c-.627 3.753-4.822 1.902-4.499-1.165z" opacity="1" data-original="#262626" class=""></path><path fill="#424643" d="M14.011 48.926c-9.183-2.177-10.776 11.669-.959 10.2 5.409-.896 6.436-8.563.959-10.2zm-.592 9.63c-5.217 1.423-7.968-6.8-3.1-9.006 5.481-1.85 8.413 6.955 3.1 9.006z" opacity="1" data-original="#262626" class=""></path></g></svg>

================
File: app/templates/components/svg/logo3_balon_antiguo.html
================
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="512" height="512" x="0" y="0" viewBox="0 0 66 66" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M22.2 63.1C9.9 58.7 1 46.9 1 33c0-1.2.1-2.5.2-3.7 4.6 11.9 16.6 19.2 32.4 19.6-1.9 6.2-6.1 11-11.4 14.2z" fill="#00d4b1" opacity="1" data-original="#000000" class=""></path><path d="M2.1 24.9c1.4-5.5 4.3-10.4 8.2-14.3 1 12.9 10.5 23.1 22.1 23.5 2.1 3.9 2.7 8.3 1.8 12.7-16.8-.3-29.1-8.6-32.1-21.9z" fill="#00d4b1" opacity="1" data-original="#000000" class=""></path><path d="M41.4 63.9c-2.7.7-5.5 1.1-8.4 1.1-2.8 0-5.5-.4-8.1-1 10.3-7.1 15.1-20.3 9.4-30.9 2.4-3.8 5.9-6.5 10.1-7.9 8.1 14.6 7 29.3-3 38.7zM18.9 25.6c-4-4.2-6.5-10.3-6.6-16.9C17.9 3.9 25.1 1 33 1c7.1 0 13.7 2.3 19 6.3-12.5-1.9-24.8 4.8-33.1 18.3z" fill="#00d4b1" opacity="1" data-original="#000000" class=""></path><path d="M55.5 10.3c3.9 3.9 6.9 8.8 8.4 14.3-11.2-5.3-25-3-31.4 7.4-4.5-.1-8.6-1.9-11.9-4.8 8.5-14.5 21.8-20.9 34.9-16.9z" fill="#00d4b1" opacity="1" data-original="#000000" class=""></path><path d="M65 33c0 13.1-7.9 24.4-19.3 29.3 7.9-9.9 8.3-23.9.7-37.8 5.7-1.3 12.1-.5 18 2.7.4 1.9.6 3.8.6 5.8z" fill="#00d4b1" opacity="1" data-original="#000000" class=""></path></g></svg>

================
File: app/templates/components/audio_toggle.html
================
<div class="audio-container">
    <h3 class="audio-title">Control de Audio</h3>
    
    <!-- Audio oculto -->
    <audio id="{id_prefix}Player">
        <source src="media/audio/canal+ copia.m4a" type="audio/mp4">
        Tu navegador no soporta el elemento de audio.
    </audio>
    
    <!-- Control personalizado -->
    <div>
        <input type="checkbox" id="{id_prefix}CheckboxInput" />
        <label for="{id_prefix}CheckboxInput" class="toggleSwitch">
            <div class="speaker">
                <svg xmlns="http://www.w3.org/2000/svg" version="1.0" viewBox="0 0 75 75">
                    <path
                        d="M39.389,13.769 L22.235,28.606 L6,28.606 L6,47.699 L21.989,47.699 L39.389,62.75 L39.389,13.769z"
                        style="stroke:#fff;stroke-width:5;stroke-linejoin:round;fill:#fff;"
                    ></path>
                    <path
                        d="M48,27.6a19.5,19.5 0 0 1 0,21.4M55.1,20.5a30,30 0 0 1 0,35.6M61.6,14a38.8,38.8 0 0 1 0,48.6"
                        style="fill:none;stroke:#fff;stroke-width:5;stroke-linecap:round"
                    ></path>
                </svg>
            </div>
            <div class="mute-speaker">
                <svg version="1.0" viewBox="0 0 75 75" stroke="#fff" stroke-width="5">
                    <path
                        d="m39,14-17,15H6V48H22l17,15z"
                        fill="#fff"
                        stroke-linejoin="round"
                    ></path>
                    <path
                        d="m49,26 20,24m0-24-20,24"
                        fill="#fff"
                        stroke-linecap="round"
                    ></path>
                </svg>
            </div>
        </label>
    </div>
    
    <div class="audio-status" id="{audio}AudioStatus">Audio desactivado</div>
</div>

================
File: app/templates/global/estadisticas.html
================
{% extends 'main.html' %}
{% load static %}

{% block title %}Estadísticas Generales - De Rabona{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/estadisticas_styles.css' %}">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %}

{% block content %}
<div class="container-fluid p-4">
    <!-- Header de Estadísticas -->
    <div class="stats-header">
        <div class="header-content">
            <div class="header-info">
                <h4 class="page-title">Estadísticas de la Comunidad</h4>
                <p class="page-subtitle">Descubre las métricas y tendencias de De Rabona</p>
            </div>
            <div class="header-actions">
                <button class="btn btn-outline-primary btn-refresh" id="refreshStats">
                    <i class="fas fa-sync-alt me-2"></i>
                    <span>Actualizar</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Estadísticas Principales -->
    <div class="main-stats-section">
        <div class="stats-grid">
            <div class="stat-card" data-stat="players">
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-content">
                    <div class="stat-number" data-target="3426">0</div>
                    <div class="stat-label">Jugadores Activos</div>
                    <div class="stat-trend positive">
                        <i class="fas fa-arrow-up"></i>
                        <span>+12%</span>
                    </div>
                </div>
            </div>

            <div class="stat-card" data-stat="matches">
                <div class="stat-icon">
                    <i class="fas fa-futbol"></i>
                </div>
                <div class="stat-content">
                    <div class="stat-number" data-target="1857">0</div>
                    <div class="stat-label">Partidos Jugados</div>
                    <div class="stat-trend positive">
                        <i class="fas fa-arrow-up"></i>
                        <span>+8%</span>
                    </div>
                </div>
            </div>

            <div class="stat-card" data-stat="teams">
                <div class="stat-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="stat-content">
                    <div class="stat-number" data-target="312">0</div>
                    <div class="stat-label">Equipos Formados</div>
                    <div class="stat-trend positive">
                        <i class="fas fa-arrow-up"></i>
                        <span>+15%</span>
                    </div>
                </div>
            </div>

            <div class="stat-card" data-stat="venues">
                <div class="stat-icon">
                    <i class="fas fa-map-marker-alt"></i>
                </div>
                <div class="stat-content">
                    <div class="stat-number" data-target="186">0</div>
                    <div class="stat-label">Canchas Registradas</div>
                    <div class="stat-trend positive">
                        <i class="fas fa-arrow-up"></i>
                        <span>+5%</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Filtros de Período -->
    <div class="period-filter-section">
        <div class="filter-card">
            <div class="filter-content">
                <span class="filter-label">Período de análisis:</span>
                <div class="period-buttons">
                    <button class="btn-period" data-period="7d">Últimos 7 días</button>
                    <button class="btn-period active" data-period="1m">Último mes</button>
                    <button class="btn-period" data-period="1y">Último año</button>
                    <button class="btn-period" data-period="all">Todo el tiempo</button>
                </div>
                <div class="auto-refresh">
                    <label class="switch">
                        <input type="checkbox" id="autoRefresh">
                        <span class="slider"></span>
                    </label>
                    <span class="switch-label">Actualización automática</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Rankings de Jugadores -->
    <div class="rankings-section">
        <div class="section-header">
            <h5 class="section-title">
                <i class="fas fa-trophy me-2"></i>
                Jugadores Destacados
            </h5>
        </div>

        <div class="rankings-grid">
            <!-- Mejor Valorados -->
            <div class="ranking-card">
                <div class="ranking-header">
                    <h6 class="ranking-title">Mejor Valorados</h6>
                    <span class="ranking-badge badge-gold">Top 5</span>
                </div>
                <div class="ranking-list">
                    <div class="player-item" data-rank="1">
                        <div class="player-rank">
                            <span class="rank-number gold">1</span>
                        </div>
                        <div class="player-avatar">
                            <img src="https://via.placeholder.com/50" alt="Miguel Sánchez">
                        </div>
                        <div class="player-info">
                            <h6 class="player-name">Miguel Sánchez</h6>
                            <p class="player-position">Delantero</p>
                        </div>
                        <div class="player-stat">
                            <span class="stat-value">5.0</span>
                            <i class="fas fa-star"></i>
                        </div>
                    </div>

                    <div class="player-item" data-rank="2">
                        <div class="player-rank">
                            <span class="rank-number silver">2</span>
                        </div>
                        <div class="player-avatar">
                            <img src="https://via.placeholder.com/50" alt="Laura Gómez">
                        </div>
                        <div class="player-info">
                            <h6 class="player-name">Laura Gómez</h6>
                            <p class="player-position">Centrocampista</p>
                        </div>
                        <div class="player-stat">
                            <span class="stat-value">4.9</span>
                            <i class="fas fa-star"></i>
                        </div>
                    </div>

                    <div class="player-item" data-rank="3">
                        <div class="player-rank">
                            <span class="rank-number bronze">3</span>
                        </div>
                        <div class="player-avatar">
                            <img src="https://via.placeholder.com/50" alt="David Martín">
                        </div>
                        <div class="player-info">
                            <h6 class="player-name">David Martín</h6>
                            <p class="player-position">Defensa</p>
                        </div>
                        <div class="player-stat">
                            <span class="stat-value">4.8</span>
                            <i class="fas fa-star"></i>
                        </div>
                    </div>

                    <div class="player-item" data-rank="4">
                        <div class="player-rank">
                            <span class="rank-number">4</span>
                        </div>
                        <div class="player-avatar">
                            <img src="https://via.placeholder.com/50" alt="Ana Rodríguez">
                        </div>
                        <div class="player-info">
                            <h6 class="player-name">Ana Rodríguez</h6>
                            <p class="player-position">Delantera</p>
                        </div>
                        <div class="player-stat">
                            <span class="stat-value">4.7</span>
                            <i class="fas fa-star"></i>
                        </div>
                    </div>

                    <div class="player-item" data-rank="5">
                        <div class="player-rank">
                            <span class="rank-number">5</span>
                        </div>
                        <div class="player-avatar">
                            <img src="https://via.placeholder.com/50" alt="Javier López">
                        </div>
                        <div class="player-info">
                            <h6 class="player-name">Javier López</h6>
                            <p class="player-position">Portero</p>
                        </div>
                        <div class="player-stat">
                            <span class="stat-value">4.6</span>
                            <i class="fas fa-star"></i>
                        </div>
                    </div>
                </div>
                <div class="ranking-footer">
                    <a href="#" class="btn btn-sm btn-outline-primary">
                        Ver ranking completo
                        <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                </div>
            </div>

            <!-- Más Activos -->
            <div class="ranking-card">
                <div class="ranking-header">
                    <h6 class="ranking-title">Más Activos</h6>
                    <span class="ranking-badge badge-blue">Top 5</span>
                </div>
                <div class="ranking-list">
                    <div class="player-item" data-rank="1">
                        <div class="player-rank">
                            <span class="rank-number gold">1</span>
                        </div>
                        <div class="player-avatar">
                            <img src="https://via.placeholder.com/50" alt="Sergio Moreno">
                        </div>
                        <div class="player-info">
                            <h6 class="player-name">Sergio Moreno</h6>
                            <p class="player-position">Centrocampista</p>
                        </div>
                        <div class="player-stat">
                            <span class="stat-value">78</span>
                            <i class="fas fa-futbol"></i>
                        </div>
                    </div>

                    <div class="player-item" data-rank="2">
                        <div class="player-rank">
                            <span class="rank-number silver">2</span>
                        </div>
                        <div class="player-avatar">
                            <img src="https://via.placeholder.com/50" alt="Pablo García">
                        </div>
                        <div class="player-info">
                            <h6 class="player-name">Pablo García</h6>
                            <p class="player-position">Defensa</p>
                        </div>
                        <div class="player-stat">
                            <span class="stat-value">72</span>
                            <i class="fas fa-futbol"></i>
                        </div>
                    </div>

                    <div class="player-item" data-rank="3">
                        <div class="player-rank">
                            <span class="rank-number bronze">3</span>
                        </div>
                        <div class="player-avatar">
                            <img src="https://via.placeholder.com/50" alt="Carmen Ruiz">
                        </div>
                        <div class="player-info">
                            <h6 class="player-name">Carmen Ruiz</h6>
                            <p class="player-position">Delantera</p>
                        </div>
                        <div class="player-stat">
                            <span class="stat-value">65</span>
                            <i class="fas fa-futbol"></i>
                        </div>
                    </div>

                    <div class="player-item" data-rank="4">
                        <div class="player-rank">
                            <span class="rank-number">4</span>
                        </div>
                        <div class="player-avatar">
                            <img src="https://via.placeholder.com/50" alt="Luis Torres">
                        </div>
                        <div class="player-info">
                            <h6 class="player-name">Luis Torres</h6>
                            <p class="player-position">Portero</p>
                        </div>
                        <div class="player-stat">
                            <span class="stat-value">61</span>
                            <i class="fas fa-futbol"></i>
                        </div>
                    </div>

                    <div class="player-item" data-rank="5">
                        <div class="player-rank">
                            <span class="rank-number">5</span>
                        </div>
                        <div class="player-avatar">
                            <img src="https://via.placeholder.com/50" alt="Elena Martínez">
                        </div>
                        <div class="player-info">
                            <h6 class="player-name">Elena Martínez</h6>
                            <p class="player-position">Centrocampista</p>
                        </div>
                        <div class="player-stat">
                            <span class="stat-value">59</span>
                            <i class="fas fa-futbol"></i>
                        </div>
                    </div>
                </div>
                <div class="ranking-footer">
                    <a href="#" class="btn btn-sm btn-outline-primary">
                        Ver ranking completo
                        <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                </div>
            </div>

            <!-- Más Fiables -->
            <div class="ranking-card">
                <div class="ranking-header">
                    <h6 class="ranking-title">Más Fiables</h6>
                    <span class="ranking-badge badge-green">Top 5</span>
                </div>
                <div class="ranking-list">
                    <div class="player-item" data-rank="1">
                        <div class="player-rank">
                            <span class="rank-number gold">1</span>
                        </div>
                        <div class="player-avatar">
                            <img src="https://via.placeholder.com/50" alt="Roberto Díaz">
                        </div>
                        <div class="player-info">
                            <h6 class="player-name">Roberto Díaz</h6>
                            <p class="player-position">Defensa</p>
                        </div>
                        <div class="player-stat">
                            <span class="stat-value">100%</span>
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>

                    <div class="player-item" data-rank="2">
                        <div class="player-rank">
                            <span class="rank-number silver">2</span>
                        </div>
                        <div class="player-avatar">
                            <img src="https://via.placeholder.com/50" alt="María López">
                        </div>
                        <div class="player-info">
                            <h6 class="player-name">María López</h6>
                            <p class="player-position">Portera</p>
                        </div>
                        <div class="player-stat">
                            <span class="stat-value">98%</span>
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>

                    <div class="player-item" data-rank="3">
                        <div class="player-rank">
                            <span class="rank-number bronze">3</span>
                        </div>
                        <div class="player-avatar">
                            <img src="https://via.placeholder.com/50" alt="Carlos Pérez">
                        </div>
                        <div class="player-info">
                            <h6 class="player-name">Carlos Pérez</h6>
                            <p class="player-position">Centrocampista</p>
                        </div>
                        <div class="player-stat">
                            <span class="stat-value">97%</span>
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>

                    <div class="player-item" data-rank="4">
                        <div class="player-rank">
                            <span class="rank-number">4</span>
                        </div>
                        <div class="player-avatar">
                            <img src="https://via.placeholder.com/50" alt="Sofía García">
                        </div>
                        <div class="player-info">
                            <h6 class="player-name">Sofía García</h6>
                            <p class="player-position">Delantera</p>
                        </div>
                        <div class="player-stat">
                            <span class="stat-value">95%</span>
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>

                    <div class="player-item" data-rank="5">
                        <div class="player-rank">
                            <span class="rank-number">5</span>
                        </div>
                        <div class="player-avatar">
                            <img src="https://via.placeholder.com/50" alt="Fernando Silva">
                        </div>
                        <div class="player-info">
                            <h6 class="player-name">Fernando Silva</h6>
                            <p class="player-position">Defensa</p>
                        </div>
                        <div class="player-stat">
                            <span class="stat-value">95%</span>
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>
                </div>
                <div class="ranking-footer">
                    <a href="#" class="btn btn-sm btn-outline-primary">
                        Ver ranking completo
                        <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Equipos y Canchas -->
    <div class="teams-venues-section">
        <div class="section-header">
            <h5 class="section-title">
                <i class="fas fa-chart-line me-2"></i>
                Equipos y Canchas
            </h5>
        </div>

        <div class="tv-grid">
            <!-- Top Teams -->
            <div class="data-table-card">
                <div class="table-header">
                    <h6 class="table-title">Equipos Mejor Valorados</h6>
                    <span class="table-badge badge-purple">Top 5</span>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Equipo</th>
                                <th>Partidos</th>
                                <th>Valoración</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="rank-badge gold">1</span></td>
                                <td>
                                    <div class="team-info">
                                        <div class="team-avatar bg-primary">FC</div>
                                        <div class="team-details">
                                            <h6>FC Barcelona Fans</h6>
                                            <small>Madrid Este</small>
                                        </div>
                                    </div>
                                </td>
                                <td>42</td>
                                <td>
                                    <div class="rating">
                                        <span>4.9</span>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="rank-badge silver">2</span></td>
                                <td>
                                    <div class="team-info">
                                        <div class="team-avatar bg-danger">RT</div>
                                        <div class="team-details">
                                            <h6>Real Tekkers</h6>
                                            <small>Madrid Centro</small>
                                        </div>
                                    </div>
                                </td>
                                <td>38</td>
                                <td>
                                    <div class="rating">
                                        <span>4.8</span>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="rank-badge bronze">3</span></td>
                                <td>
                                    <div class="team-info">
                                        <div class="team-avatar bg-success">LF</div>
                                        <div class="team-details">
                                            <h6>Las Fieras FC</h6>
                                            <small>Madrid Norte</small>
                                        </div>
                                    </div>
                                </td>
                                <td>35</td>
                                <td>
                                    <div class="rating">
                                        <span>4.7</span>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="rank-badge">4</span></td>
                                <td>
                                    <div class="team-info">
                                        <div class="team-avatar bg-warning">GP</div>
                                        <div class="team-details">
                                            <h6>Galácticos del Parque</h6>
                                            <small>Madrid Sur</small>
                                        </div>
                                    </div>
                                </td>
                                <td>29</td>
                                <td>
                                    <div class="rating">
                                        <span>4.6</span>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="rank-badge">5</span></td>
                                <td>
                                    <div class="team-info">
                                        <div class="team-avatar bg-info">AC</div>
                                        <div class="team-details">
                                            <h6>Atlético de Chamartín</h6>
                                            <small>Madrid Este</small>
                                        </div>
                                    </div>
                                </td>
                                <td>27</td>
                                <td>
                                    <div class="rating">
                                        <span>4.5</span>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="table-footer">
                    <a href="#" class="btn btn-sm btn-outline-primary">
                        Ver todos los equipos
                        <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                </div>
            </div>

            <!-- Top Venues -->
            <div class="data-table-card">
                <div class="table-header">
                    <h6 class="table-title">Canchas Más Populares</h6>
                    <span class="table-badge badge-green">Top 5</span>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Cancha</th>
                                <th>Partidos</th>
                                <th>Valoración</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="rank-badge gold">1</span></td>
                                <td>
                                    <div class="venue-info">
                                        <img src="https://via.placeholder.com/40x24" alt="Campo">
                                        <div class="venue-details">
                                            <h6>Campo Municipal Norte</h6>
                                            <small><i class="fas fa-check-circle text-success me-1"></i>Verificada</small>
                                        </div>
                                    </div>
                                </td>
                                <td>126</td>
                                <td>
                                    <div class="rating">
                                        <span>4.8</span>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="rank-badge silver">2</span></td>
                                <td>
                                    <div class="venue-info">
                                        <img src="https://via.placeholder.com/40x24" alt="Campo">
                                        <div class="venue-details">
                                            <h6>Estadio Central</h6>
                                            <small><i class="fas fa-check-circle text-success me-1"></i>Verificada</small>
                                        </div>
                                    </div>
                                </td>
                                <td>98</td>
                                <td>
                                    <div class="rating">
                                        <span>4.9</span>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="rank-badge bronze">3</span></td>
                                <td>
                                    <div class="venue-info">
                                        <img src="https://via.placeholder.com/40x24" alt="Campo">
                                        <div class="venue-details">
                                            <h6>Polideportivo Sur</h6>
                                            <small><i class="fas fa-check-circle text-success me-1"></i>Verificada</small>
                                        </div>
                                    </div>
                                </td>
                                <td>87</td>
                                <td>
                                    <div class="rating">
                                        <span>4.6</span>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="rank-badge">4</span></td>
                                <td>
                                    <div class="venue-info">
                                        <img src="https://via.placeholder.com/40x24" alt="Campo">
                                        <div class="venue-details">
                                            <h6>Cancha "El Barrio"</h6>
                                            <small><i class="fas fa-users text-info me-1"></i>Comunitaria</small>
                                        </div>
                                    </div>
                                </td>
                                <td>65</td>
                                <td>
                                    <div class="rating">
                                        <span>4.2</span>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="rank-badge">5</span></td>
                                <td>
                                    <div class="venue-info">
                                        <img src="https://via.placeholder.com/40x24" alt="Campo">
                                        <div class="venue-details">
                                            <h6>Campo San Jorge</h6>
                                            <small><i class="fas fa-users text-info me-1"></i>Comunitaria</small>
                                        </div>
                                    </div>
                                </td>
                                <td>54</td>
                                <td>
                                    <div class="rating">
                                        <span>4.0</span>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="table-footer">
                    <a href="#" class="btn btn-sm btn-outline-primary">
                        Ver todas las canchas
                        <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Gráficos y Análisis -->
    <div class="charts-section">
        <div class="section-header">
            <h5 class="section-title">
                <i class="fas fa-chart-pie me-2"></i>
                Tendencias y Análisis
            </h5>
        </div>

        <div class="charts-grid">
            <!-- Actividad Semanal -->
            <div class="chart-card large">
                <div class="chart-header">
                    <h6 class="chart-title">Actividad Semanal</h6>
                    <div class="chart-controls">
                        <button class="btn btn-sm btn-outline-secondary" data-chart="matches">Partidos</button>
                        <button class="btn btn-sm btn-primary" data-chart="players">Jugadores</button>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="weeklyActivityChart"></canvas>
                </div>
            </div>

            <!-- Tipos de Partido -->
            <div class="chart-card">
                <div class="chart-header">
                    <h6 class="chart-title">Tipos de Partido</h6>
                </div>
                <div class="chart-container">
                    <canvas id="matchTypesChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Estadísticas Personales -->
    <div class="personal-stats-section">
        <div class="personal-stats-card">
            <div class="personal-header">
                <div class="header-info">
                    <h4 class="personal-title">Tus Estadísticas Personales</h4>
                    <p class="personal-subtitle">Revisa tu rendimiento y progreso</p>
                </div>
                <div class="header-action">
                    <a href="/mis-estadisticas" class="btn btn-primary">
                        <i class="fas fa-chart-line me-2"></i>
                        Ver estadísticas detalladas
                    </a>
                </div>
            </div>
            <div class="personal-stats-grid">
                <div class="personal-stat">
                    <div class="personal-stat-icon">
                        <i class="fas fa-futbol"></i>
                    </div>
                    <div class="personal-stat-content">
                        <div class="personal-stat-number" data-target="24">0</div>
                        <div class="personal-stat-label">Partidos Jugados</div>
                    </div>
                </div>

                <div class="personal-stat">
                    <div class="personal-stat-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="personal-stat-content">
                        <div class="personal-stat-number" data-target="4.7">0</div>
                        <div class="personal-stat-label">Valoración Media</div>
                    </div>
                </div>

                <div class="personal-stat">
                    <div class="personal-stat-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="personal-stat-content">
                        <div class="personal-stat-number" data-target="95">0</div>
                        <div class="personal-stat-label">% Asistencia</div>
                    </div>
                </div>

                <div class="personal-stat">
                    <div class="personal-stat-icon">
                        <i class="fas fa-plus-circle"></i>
                    </div>
                    <div class="personal-stat-content">
                        <div class="personal-stat-number" data-target="7">0</div>
                        <div class="personal-stat-label">Partidos Creados</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Scripts embebidos -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Variables globales
    let weeklyChart = null;
    let matchTypesChart = null;
    let autoRefreshInterval = null;

    // Inicializar todas las funcionalidades
    initializeAnimations();
    initializeCharts();
    initializePeriodFilters();
    initializeAutoRefresh();
    initializeRefreshButton();

    // ======= Animaciones =======
    function initializeAnimations() {
        // Observer para animar contadores cuando entran en vista
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const element = entry.target;
                    if (element.classList.contains('stat-number')) {
                        animateCounter(element);
                    } else if (element.classList.contains('personal-stat-number')) {
                        animateCounter(element);
                    }
                    observer.unobserve(element);
                }
            });
        }, { threshold: 0.5 });

        // Observar todos los contadores
        document.querySelectorAll('.stat-number, .personal-stat-number').forEach(el => {
            observer.observe(el);
        });

        // Animar entrada de cards
        animateCards();
    }

    function animateCounter(element) {
        const target = parseFloat(element.getAttribute('data-target'));
        const isDecimal = target % 1 !== 0;
        let current = 0;
        const increment = target / 50;
        const timer = setInterval(() => {
            current += increment;
            if (current >= target) {
                current = target;
                clearInterval(timer);
            }
            
            if (isDecimal) {
                element.textContent = current.toFixed(1);
            } else {
                element.textContent = Math.floor(current);
            }
        }, 40);
    }

    function animateCards() {
        const cards = document.querySelectorAll('.stat-card, .ranking-card, .chart-card');
        cards.forEach((card, index) => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                card.style.transition = 'all 0.6s ease';
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }, index * 100);
        });
    }

    // ======= Gráficos =======
    function initializeCharts() {
        createWeeklyActivityChart();
        createMatchTypesChart();
    }

    function createWeeklyActivityChart() {
        const ctx = document.getElementById('weeklyActivityChart').getContext('2d');
        
        const gradient = ctx.createLinearGradient(0, 0, 0, 400);
        gradient.addColorStop(0, 'rgba(59, 130, 246, 0.3)');
        gradient.addColorStop(1, 'rgba(59, 130, 246, 0.05)');

        weeklyChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado', 'Domingo'],
                datasets: [{
                    label: 'Jugadores activos',
                    data: [128, 86, 94, 145, 168, 312, 287],
                    backgroundColor: gradient,
                    borderColor: '#3b82f6',
                    borderWidth: 3,
                    tension: 0.4,
                    pointBackgroundColor: '#3b82f6',
                    pointBorderColor: '#ffffff',
                    pointBorderWidth: 3,
                    pointRadius: 6,
                    pointHoverRadius: 8,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    intersect: false,
                    mode: 'index'
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.9)',
                        titleColor: '#f8fafc',
                        bodyColor: '#cbd5e1',
                        borderColor: '#3b82f6',
                        borderWidth: 1,
                        cornerRadius: 8,
                        displayColors: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(100, 116, 139, 0.1)',
                            drawBorder: false
                        },
                        ticks: {
                            color: '#94a3b8',
                            font: {
                                size: 12
                            }
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            color: '#94a3b8',
                            font: {
                                size: 12
                            }
                        }
                    }
                }
            }
        });
    }

    function createMatchTypesChart() {
        const ctx = document.getElementById('matchTypesChart').getContext('2d');
        
        matchTypesChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Fútbol 5', 'Fútbol 7', 'Fútbol 11', 'Fútbol sala'],
                datasets: [{
                    data: [42, 28, 15, 15],
                    backgroundColor: [
                        '#10b981',
                        '#3b82f6', 
                        '#8b5cf6',
                        '#f59e0b'
                    ],
                    borderColor: [
                        '#10b981',
                        '#3b82f6',
                        '#8b5cf6', 
                        '#f59e0b'
                    ],
                    borderWidth: 0,
                    cutout: '60%'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: '#cbd5e1',
                            padding: 20,
                            font: {
                                size: 12
                            },
                            usePointStyle: true,
                            pointStyle: 'circle'
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(15, 23, 42, 0.9)',
                        titleColor: '#f8fafc',
                        bodyColor: '#cbd5e1',
                        borderColor: '#64748b',
                        borderWidth: 1,
                        cornerRadius: 8,
                        callbacks: {
                            label: function(context) {
                                return `${context.label}: ${context.parsed}%`;
                            }
                        }
                    }
                }
            }
        });
    }

    // ======= Filtros de Período =======
    function initializePeriodFilters() {
        const periodButtons = document.querySelectorAll('.btn-period');
        
        periodButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Remover clase active de todos los botones
                periodButtons.forEach(btn => btn.classList.remove('active'));
                
                // Agregar clase active al botón clickeado
                this.classList.add('active');
                
                // Obtener el período seleccionado
                const period = this.getAttribute('data-period');
                
                // Actualizar datos según el período
                updateDataForPeriod(period);
                
                // Mostrar feedback visual
                showUpdateFeedback();
            });
        });
    }

    function updateDataForPeriod(period) {
        // Simular datos diferentes según el período
        const periodData = {
            '7d': {
                players: 1234,
                matches: 89,
                teams: 45,
                venues: 23,
                weeklyData: [45, 52, 38, 67, 89, 156, 134]
            },
            '1m': {
                players: 3426,
                matches: 1857,
                teams: 312,
                venues: 186,
                weeklyData: [128, 86, 94, 145, 168, 312, 287]
            },
            '1y': {
                players: 8945,
                matches: 12456,
                teams: 789,
                venues: 234,
                weeklyData: [456, 523, 389, 678, 892, 1156, 1034]
            },
            'all': {
                players: 15678,
                matches: 45321,
                teams: 1234,
                venues: 567,
                weeklyData: [1128, 986, 1094, 1345, 1568, 2312, 2087]
            }
        };

        const data = periodData[period];
        
        // Actualizar contadores principales
        updateMainStats(data);
        
        // Actualizar gráfico semanal
        updateWeeklyChart(data.weeklyData);
    }

    function updateMainStats(data) {
        const statCards = document.querySelectorAll('.stat-card');
        const stats = ['players', 'matches', 'teams', 'venues'];
        
        statCards.forEach((card, index) => {
            const counter = card.querySelector('.stat-number');
            const targetValue = data[stats[index]];
            
            // Animar el cambio de valor
            animateValueChange(counter, targetValue);
        });
    }

    function animateValueChange(element, newTarget) {
        const currentValue = parseInt(element.textContent);
        const increment = (newTarget - currentValue) / 30;
        let current = currentValue;
        
        const timer = setInterval(() => {
            current += increment;
            if ((increment > 0 && current >= newTarget) || (increment < 0 && current <= newTarget)) {
                current = newTarget;
                clearInterval(timer);
            }
            element.textContent = Math.floor(current);
        }, 50);
    }

    function updateWeeklyChart(newData) {
        if (weeklyChart) {
            weeklyChart.data.datasets[0].data = newData;
            weeklyChart.update('active');
        }
    }

    // ======= Auto-refresh =======
    function initializeAutoRefresh() {
        const autoRefreshToggle = document.getElementById('autoRefresh');
        
        autoRefreshToggle.addEventListener('change', function() {
            if (this.checked) {
                startAutoRefresh();
                showNotification('Actualización automática activada', 'success');
            } else {
                stopAutoRefresh();
                showNotification('Actualización automática desactivada', 'info');
            }
        });
    }

    function startAutoRefresh() {
        // Actualizar cada 30 segundos
        autoRefreshInterval = setInterval(() => {
            refreshAllData();
        }, 30000);
    }

    function stopAutoRefresh() {
        if (autoRefreshInterval) {
            clearInterval(autoRefreshInterval);
            autoRefreshInterval = null;
        }
    }

    function refreshAllData() {
        const activePeriod = document.querySelector('.btn-period.active').getAttribute('data-period');
        updateDataForPeriod(activePeriod);
        showUpdateFeedback();
    }

    // ======= Botón de refresh manual =======
    function initializeRefreshButton() {
        const refreshButton = document.getElementById('refreshStats');
        
        refreshButton.addEventListener('click', function() {
            // Mostrar estado de loading
            const originalContent = this.innerHTML;
            this.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i><span>Actualizando...</span>';
            this.disabled = true;
            
            // Simular carga de datos
            setTimeout(() => {
                refreshAllData();
                
                // Restaurar botón
                this.innerHTML = originalContent;
                this.disabled = false;
                
                showNotification('Estadísticas actualizadas', 'success');
            }, 2000);
        });
    }

    // ======= Funciones auxiliares =======
    function showUpdateFeedback() {
        // Crear elemento de feedback
        const feedback = document.createElement('div');
        feedback.className = 'update-feedback';
        feedback.innerHTML = '<i class="fas fa-check me-2"></i>Datos actualizados';
        feedback.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(16, 185, 129, 0.9);
            color: white;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            font-size: 0.875rem;
            z-index: 1000;
            animation: slideInRight 0.3s ease;
        `;
        
        document.body.appendChild(feedback);
        
        // Remover después de 3 segundos
        setTimeout(() => {
            feedback.style.animation = 'slideInRight 0.3s ease reverse';
            setTimeout(() => feedback.remove(), 300);
        }, 3000);
    }

    function showNotification(message, type = 'info') {
        const colors = {
            success: '#10b981',
            error: '#ef4444',
            warning: '#f59e0b',
            info: '#3b82f6'
        };

        const notification = document.createElement('div');
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: ${colors[type]};
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 1050;
            font-weight: 500;
            animation: slideInRight 0.3s ease;
        `;
        notification.textContent = message;
        
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.style.animation = 'slideInRight 0.3s ease reverse';
            setTimeout(() => notification.remove(), 300);
        }, 4000);
    }

    // ======= Event Listeners adicionales =======
    
    // Controles de gráfico semanal
    document.querySelectorAll('[data-chart]').forEach(button => {
        button.addEventListener('click', function() {
            const chartType = this.getAttribute('data-chart');
            
            // Actualizar botones activos
            document.querySelectorAll('[data-chart]').forEach(btn => {
                btn.classList.remove('btn-primary');
                btn.classList.add('btn-outline-secondary');
            });
            this.classList.remove('btn-outline-secondary');
            this.classList.add('btn-primary');
            
            // Actualizar datos del gráfico
            if (chartType === 'matches') {
                weeklyChart.data.datasets[0].label = 'Partidos jugados';
                weeklyChart.data.datasets[0].data = [45, 32, 28, 52, 68, 89, 76];
            } else {
                weeklyChart.data.datasets[0].label = 'Jugadores activos';
                weeklyChart.data.datasets[0].data = [128, 86, 94, 145, 168, 312, 287];
            }
            
            weeklyChart.update('active');
        });
    });

    // Hover effects para cards de ranking
    document.querySelectorAll('.player-item').forEach(item => {
        item.addEventListener('mouseenter', function() {
            this.style.transform = 'translateX(8px) scale(1.02)';
            this.style.boxShadow = '0 8px 25px rgba(0, 0, 0, 0.3)';
        });
        
        item.addEventListener('mouseleave', function() {
            this.style.transform = 'translateX(0) scale(1)';
            this.style.boxShadow = '';
        });
    });

    // Agregar estilos de animación
    const style = document.createElement('style');
    style.textContent = `
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
    `;
    document.head.appendChild(style);

    // Cleanup al salir de la página
    window.addEventListener('beforeunload', function() {
        stopAutoRefresh();
    });
});
</script>
{% endblock %}

================
File: app/templates/global/home.html
================
{% extends 'base.html' %}
{% load static %}

{% block title %}De Rabona - Home{% endblock %}

{% block extra_css %}
<link href="{% static 'css/global/home_styles.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="home-container">
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <div class="hero-icon">
                <i class="fas fa-futbol"></i>
            </div>
            <div class="hero-text">
                <h1 class="hero-title">
                    Hola, <span class="user-highlight">{{ user.nombre|default:user.username }}</span>
                </h1>
                <p class="hero-subtitle">Tu centro de comando futbolístico</p>
            </div>
        </div>
        
        <div class="stats-overview">
            <div class="stat-pill">
                <span class="stat-number">{{ user.calificacion|floatformat:0|default:"1500" }}</span>
                <span class="stat-label">ELO</span>
            </div>
            <div class="stat-pill">
                <span class="stat-number">{{ user.partidos_jugados|default:0 }}</span>
                <span class="stat-label">Partidos</span>
            </div>
            <div class="stat-pill">
                <span class="stat-number">{% widthratio user.victorias user.partidos_jugados|default:1 100 %}%</span>
                <span class="stat-label">Victoria</span>
            </div>
        </div>
    </section>

    <!-- Actions Section -->
    <section class="actions-section">
        <div class="section-header">
            <h2 class="section-title">Acciones Rápidas</h2>
            <div class="title-accent"></div>
        </div>
        
        <div class="actions-grid">
            <a href="{% url 'crear_partidos' %}" class="action-card">
                <div class="action-icon">
                    <i class="fas fa-plus"></i>
                </div>
                <div class="action-content">
                    <h3 class="action-title">Crear</h3>
                    <p class="action-desc">Nuevo partido</p>
                </div>
            </a>
            
            <a href="{% url 'buscar_partidos' %}" class="action-card">
                <div class="action-icon">
                    <i class="fas fa-search"></i>
                </div>
                <div class="action-content">
                    <h3 class="action-title">Buscar</h3>
                    <p class="action-desc">Partidos disponibles</p>
                </div>
            </a>
            
            <a href="{% url 'lista_mis_equipos' %}" class="action-card">
                <div class="action-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="action-content">
                    <h3 class="action-title">Equipos</h3>
                    <p class="action-desc">Gestionar equipos</p>
                </div>
            </a>
            
            <a href="{% url 'canchas_lista' %}" class="action-card">
                <div class="action-icon">
                    <i class="fas fa-map-marker-alt"></i>
                </div>
                <div class="action-content">
                    <h3 class="action-title">Canchas</h3>
                    <p class="action-desc">Explorar espacios</p>
                </div>
            </a>
        </div>
    </section>

    <!-- Content Section -->
    <section class="content-section">
        <div class="content-grid">
            <!-- Próximos Partidos -->
            <div class="content-card large">
                <div class="card-header">
                    <div class="header-content">
                        <h3 class="card-title">Próximos Partidos</h3>
                        <span class="card-subtitle">{{ proximos_partidos_dashboard|length }} programados</span>
                    </div>
                    <a href="{% url 'mis_partidos' %}" class="header-link">Ver todos</a>
                </div>
                
                <div class="card-body">
                    {% if proximos_partidos_dashboard %}
                        <div class="matches-list">
                            {% for item in proximos_partidos_dashboard|slice:":4" %}
                                {% with partido=item.partido %}
                                <div class="match-item">
                                    <div class="match-info">
                                        <div class="match-header">
                                            <h4 class="match-venue">{{ partido.cancha.nombre_cancha }}</h4>
                                            <span class="match-type">{{ partido.get_tipo_display }}</span>
                                        </div>
                                        <div class="match-meta">
                                            <span class="match-time">{{ partido.fecha|date:"d M, H:i" }}</span>
                                            <span class="match-players">{{ partido.jugadores.count }}/{{ partido.max_jugadores }}</span>
                                        </div>
                                    </div>
                                    
                                    <div class="match-status">
                                        {% if partido.inscripcion_abierta and item.plazas_disponibles > 0 %}
                                            <span class="status-dot available"></span>
                                            <span class="status-text">Disponible</span>
                                        {% else %}
                                            <span class="status-dot full"></span>
                                            <span class="status-text">Completo</span>
                                        {% endif %}
                                    </div>
                                </div>
                                {% endwith %}
                            {% endfor %}
                        </div>
                    {% else %}
                        <div class="empty-state">
                            <div class="empty-icon">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <div class="empty-content">
                                <h4 class="empty-title">Sin partidos programados</h4>
                                <p class="empty-desc">Busca partidos disponibles para unirte</p>
                                <a href="{% url 'buscar_partidos' %}" class="btn btn-primary">Buscar Partidos</a>
                            </div>
                        </div>
                    {% endif %}
                </div>
            </div>

            <!-- Estadísticas Personales -->
            <div class="content-card">
                <div class="card-header">
                    <div class="header-content">
                        <h3 class="card-title">Rendimiento</h3>
                        <span class="card-subtitle">Estadísticas globales</span>
                    </div>
                    <a href="{% url 'perfil' %}" class="header-link">Perfil</a>
                </div>
                
                <div class="card-body">
                    <div class="performance-stats">
                        <div class="stat-row">
                            <div class="stat-item">
                                <span class="stat-value">{{ user.partidos_jugados|default:0 }}</span>
                                <span class="stat-label">Jugados</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value">{{ user.victorias|default:0 }}</span>
                                <span class="stat-label">Victorias</span>
                            </div>
                        </div>
                        
                        <div class="stat-row">
                            <div class="stat-item">
                                <span class="stat-value">{{ user.empates|default:0 }}</span>
                                <span class="stat-label">Empates</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value">{{ user.derrotas|default:0 }}</span>
                                <span class="stat-label">Derrotas</span>
                            </div>
                        </div>
                        
                        {% with total_partidos=user.partidos_jugados|default:0 %}
                            {% if total_partidos > 0 %}
                                <div class="win-rate">
                                    <div class="win-rate-header">
                                        <span class="win-rate-label">Tasa de victoria</span>
                                        <span class="win-rate-value">{% widthratio user.victorias total_partidos 100 %}%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: {% widthratio user.victorias total_partidos 100 %}%"></div>
                                    </div>
                                </div>
                            {% endif %}
                        {% endwith %}
                    </div>
                </div>
            </div>

            <!-- Actividad Reciente -->
            <div class="content-card">
                <div class="card-header">
                    <div class="header-content">
                        <h3 class="card-title">Actividad</h3>
                        <span class="card-subtitle">Últimos movimientos</span>
                    </div>
                </div>
                
                <div class="card-body">
                    <div class="activity-feed">
                        {% if ultimas_actividades %}
                            {% for actividad in ultimas_actividades|slice:":4" %}
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas {{ actividad.icono|default:'fa-futbol' }}"></i>
                                </div>
                                <div class="activity-content">
                                    <p class="activity-text">{{ actividad.mensaje }}</p>
                                    <span class="activity-time">{{ actividad.timestamp|timesince }}</span>
                                </div>
                            </div>
                            {% endfor %}
                        {% else %}
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-futbol"></i>
                                </div>
                                <div class="activity-content">
                                    <p class="activity-text">Partido creado en Cancha Centro</p>
                                    <span class="activity-time">5 min</span>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-user-plus"></i>
                                </div>
                                <div class="activity-content">
                                    <p class="activity-text">Añadido al equipo "Los Invencibles"</p>
                                    <span class="activity-time">1 h</span>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-trophy"></i>
                                </div>
                                <div class="activity-content">
                                    <p class="activity-text">Victoria 5-3 contra "Rivales FC"</p>
                                    <span class="activity-time">2 h</span>
                                </div>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Animaciones sutiles y elegantes
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.classList.add('animate-in');
                }, index * 100);
                observer.unobserve(entry.target);
            }
        });
    }, observerOptions);

    // Observar elementos para animación
    document.querySelectorAll('.action-card, .content-card, .stat-pill').forEach(el => {
        observer.observe(el);
    });
});
</script>
{% endblock %}

================
File: app/templates/oldest/landing.html
================
{% extends 'base.html' %}
{% block base %}
<!-- Navbar -->
{% include "components/landing_nav.html" %}

<!-- Hero Section -->
<section id="hero" class="position-relative bg-black text-white overflow-hidden d-flex align-items-center" style="min-height: 85vh;">
    <!-- Overlay con gradiente dinámico -->
    <div class="position-absolute w-100 h-100 top-0 start-0" style="background: linear-gradient(135deg, rgba(0,0,0,0.92) 0%, rgba(19,38,19,0.85) 100%); z-index: 1;"></div>
    
    <!-- Patrón de fondo estilo cancha -->
    <div class="position-absolute w-100 h-100 top-0 start-0" style="background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAwIiBoZWlnaHQ9IjEwMDAiIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiPjxyZWN0IHdpZHRoPSI4MDAiIGhlaWdodD0iNTAwIiB4PSIxMDAiIHk9IjI1MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDQwLDE2Nyw2OSwwLjA1KSIgc3Ryb2tlLXdpZHRoPSIyIi8+PGNpcmNsZSBjeD0iNTAwIiBjeT0iNTAwIiByPSI4MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDQwLDE2Nyw2OSwwLjA1KSIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3Qgd2lkdGg9IjE4MCIgaGVpZ2h0PSIzMDAiIHg9IjEwMCIgeT0iMzUwIiBmaWxsPSJub25lIiBzdHJva2U9InJnYmEoNDAsMTY3LDY5LDAuMDUpIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB3aWR0aD0iMTgwIiBoZWlnaHQ9IjMwMCIgeD0iNzIwIiB5PSIzNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSg0MCwxNjcsNjksMC4wNSkiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg=='); background-size: cover; background-position: center; z-index: 1; opacity: 0.1;"></div>
    
    <!-- Líneas de balón animadas -->
    <div class="position-absolute w-100 h-100" style="z-index: 1; opacity: 0.05;">
        <div class="position-absolute" style="top: 20%; left: 10%;">
            <div style="width: 200px; height: 200px; border: 2px dashed rgba(40,167,69,0.5); border-radius: 50%; transform: rotate(25deg);"></div>
        </div>
        <div class="position-absolute" style="bottom: 15%; right: 15%; animation: float 6s ease-in-out infinite 1s;">
            <div style="width: 150px; height: 150px; border: 2px dashed rgba(40,167,69,0.5); border-radius: 50%; transform: rotate(-15deg);"></div>
        </div>
    </div>
    
    <!-- Imagen de Ronaldo con efectos -->
    <div class="position-absolute w-100 h-100 top-0 end-0" style="width: 22%; z-index: 1; opacity: 0.75; animation: fadeInRight 1.2s ease-out forwards;">
        <img src="https://sportrenders.com/wp-content/uploads/2024/03/Ronaldo-Nazario-PNG-Inter-Football-Render.png" alt="Ronaldo" class="position-absolute end-0 bottom-0 h-100" style="object-fit: contain; filter: drop-shadow(0 0 20px rgba(40,167,69,0.3));">
        
        <!-- Efecto de resplandor detrás de Ronaldo -->
        <div class="position-absolute top-50 end-0 translate-middle-y" style="width: 200px; height: 500px; background: radial-gradient(ellipse at center, rgba(40,167,69,0.2) 0%, rgba(40,167,69,0) 70%); z-index: -1; filter: blur(20px);"></div>
    </div>
    
    <!-- Content con animaciones secuenciales -->
    <div class="container py-5 text-center position-relative" style="z-index: 2;">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                       
                <h1 class="display-3 fw-bold mb-4" style= "text-shadow: 0 4px 15px rgba(0,0,0,0.5);">
                    <span class="d-inline-block">Conecta,</span>
                    <span class="d-inline-block">Juega,</span>
                    <span class="d-inline-block text-success">Gana</span>
                </h1>
                
                <p class="lead mb-5">Encuentra partidos de fútbol cerca de ti, conecta con otros jugadores y disfruta del deporte rey sin preocuparte por nada más que <span class="typed-text fw-bold text-success">jugar y ganar.</span></p>
                
                <div class="d-flex justify-content-center gap-3">
                    <!-- Botón principal con efecto de pulso -->
                    <a href="{% url 'login' %}" class="btn btn-success btn-lg px-4 py-3 position-relative" style="box-shadow: 0 8px 25px rgba(40,167,69,0.3); overflow: hidden;">
                        <span class="position-absolute top-0 start-0 w-100 h-100 rounded" style="background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%); z-index: 0;"></span>
                        <span class="position-relative" style="z-index: 1;"><i class="fas fa-futbol me-2"></i> Únete ahora</span>
                    </a>
                    
                    <!-- Botón secundario con efecto de borde animado -->
                    <a href="{% url 'home' %}" class="btn btn-outline-light btn-lg px-4 py-3 position-relative" style="border-width: 2px; overflow: hidden;">
                        <span class="position-relative" style="z-index: 1;"><i class="fas fa-info-circle me-2"></i> Cómo funciona</span>
                    </a>
                </div>
                
                
            </div>
        </div>
    </div>
    
    <!-- Divisor de onda SVG animado -->
    <div class="position-absolute bottom-0 start-0 w-100" style="z-index: 3;">
        <svg id="wave" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 120" preserveAspectRatio="none" style="width: 100%; height: 80px;">
            <path fill="#1a202c" fill-opacity="1" d="M0,64L48,80C96,96,192,128,288,128C384,128,480,96,576,80C672,64,768,64,864,69.3C960,75,1056,85,1152,80C1248,75,1344,53,1392,42.7L1440,32L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z"></path>
        </svg>
    </div>
</section>



<section id="caracteristicas" class="py-5 position-relative overflow-hidden" style="background-color: #1a202c !important; min-height: 55vh;">
    <!-- Decorative Elements - Soccer Elements -->
    <div class="position-absolute top-0 start-0 w-100 h-100" style="z-index: 1; opacity: 0.05;">
        <div class="position-absolute" style="top: 10%; left: 5%;">
            <i class="fas fa-futbol fa-5x"></i>
        </div>
        <div class="position-absolute" style="top: 80%; left: 25%;">
            <i class="fas fa-trophy fa-3x"></i>
        </div>
        <div class="position-absolute" style="top: 60%; right: 10%;">
            <i class="fas fa-futbol fa-4x"></i>
        </div>
        <div class="position-absolute" style="top: 20%; right: 15%;">
            <i class="fas fa-whistle fa-3x"></i>
        </div>
    </div>


<!-- Features Section - Retro-Modern Style with Side Image -->
<section id="caracteristicas" class="py-5 position-relative overflow-hidden" style="background-color: #1a202c !important; min-height: 55vh;">
    <!-- Left Side Background Image -->
    <div class="position-absolute h-100 w-100 d-none d-lg-block" style="width: 22%; z-index: 1; opacity: 0.65;">
        <img src="https://sportrenders.com/wp-content/uploads/2023/10/Ronaldo-PNG-Render-Transparent-Brazil-Free-Image-World-Cup-Football-Sport-Renders-1.png" alt="Ronaldo el de verdad" class="h-100 w-100" style="object-fit: contain; object-position: left center;">
    </div>

    <!-- Decorative Elements - Soccer Elements -->
    <div class="position-absolute top-0 start-0 w-100 h-100" style="z-index: 1; opacity: 0.05;">
        <div class="position-absolute" style="top: 10%; left: 5%;">
            <i class="fas fa-futbol fa-5x"></i>
        </div>
        <div class="position-absolute" style="top: 80%; left: 25%;">
            <i class="fas fa-trophy fa-3x"></i>
        </div>
        <div class="position-absolute" style="top: 60%; right: 10%;">
            <i class="fas fa-futbol fa-4x"></i>
        </div>
        <div class="position-absolute" style="top: 20%; right: 15%;">
            <i class="fas fa-whistle fa-3x"></i>
        </div>
    </div>

    <div class="container position-relative" style="z-index: 2;">
        <!-- Section Header -->
        <div class="text-center mb-5">
            <h2 class="fw-bold text-white display-5 mb-3">El fútbol de los 90 con la tecnología del presente</h2>
            <p class="lead text-white-50 mb-5">Recupera la esencia del fútbol callejero con herramientas digitales que facilitan la organización</p>
        </div>
        
        <!-- Features Cards -->
        <div class="row g-4">
            <!-- Feature 1 -->
            <div class="col-md-4 mb-4">
                <div class="card h-100 border-0 bg-dark text-white shadow-lg" style="background-color: #2d3748 !important; border-radius: 1rem; overflow: hidden; transition: transform 0.3s;">
                    <div class="card-body text-center p-4">
                        <div class="bg-success bg-opacity-10 rounded-circle mx-auto d-flex align-items-center justify-content-center mb-4" style="width: 80px; height: 80px;">
                            {% include 'components/svg/landing_location.html' %}
                        </div>
                        <h4 class="card-title">Encuentra partidos cercanos</h4>
                        <p class="card-text text-white-50">Localiza partidos de barrio en tu zona, como en los viejos tiempos pero sin tener que recorrer las calles para encontrarlos.</p>
                    </div>
                </div>
            </div>
            
            <!-- Feature 2 -->
            <div class="col-md-4 mb-4">
                <div class="card h-100 border-0 bg-dark text-white shadow-lg wow animate__animated animate__fadeInUp" data-wow-delay="0.3s" style="background-color: #2d3748 !important; border-radius: 1rem; overflow: hidden; transition: transform 0.3s;">
                    <div class="card-body text-center p-4">

                        <div class="bg-success bg-opacity-10 rounded-circle mx-auto d-flex align-items-center justify-content-center mb-4" style="width: 80px; height: 80px;">
                            {% include 'components/svg/landing_team.html' %}
                        </div>

                        <h4 class="card-title">Crea tu equipo de barrio</h4>
                        <p class="card-text text-white-50">Forma tu propio equipo con amigos o conoce nuevos jugadores, como cuando armábamos equipos improvisados en la plaza.</p>
                    </div>
                    
                </div>
            </div>
            
            <!-- Feature 3 -->
            <div class="col-md-4 mb-4">
                <div class="card h-100 border-0 bg-dark text-white shadow-lg " style="background-color: #2d3748 !important; border-radius: 1rem; overflow: hidden; transition: transform 0.3s;">
                    <div class="card-body text-center p-4">
                        <div class="bg-success bg-opacity-10 rounded-circle mx-auto d-flex align-items-center justify-content-center mb-4" style="width: 80px; height: 80px;">
                            {% include 'components/svg/landing_player.html' %}
                        </div>
                        <h4 class="card-title">Organiza partidos sin complicaciones</h4>
                        <p class="card-text text-white-50">Programa tus partidos sin las llamadas infinitas de antaño. Reserva canchas y confirma asistencia con un solo clic.</p>
                    </div>
                    
                </div>
            </div>
        </div>        
    </div>
</section>

<!-- How It Works Section -->
 <section id="como-funciona" class="py-5" style="background-color: #111827 !important;">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold text-white">¿Cómo funciona?</h2>
            <p class="lead text-white-50">Es muy sencillo comenzar a usar FútbolConnect</p>
        </div>
        
        <div class="row align-items-center">
            <div class="col-lg-6">
                <!-- <img src="https://phantom-marca.uecdn.es/a2289a02c290eab98d75ead5f5236422/f/webp/assets/multimedia/imagenes/2020/03/26/15852159092839.jpg" alt="App Screenshot" class="img-fluid rounded mb-4 mb-lg-0"> -->
                <img src="https://pbs.twimg.com/media/DWL7apFXcAAutkq.jpg" alt="" class="img-fluid rounded mb-4 mb-lg-0">
            </div>
            <div class="col-lg-6">
                <div class="d-flex mb-4">
                    <div class="bg-success rounded-circle d-flex align-items-center justify-content-center text-white me-3" style="min-width: 50px; height: 50px;">
                        <strong>1</strong>
                    </div>
                    <div>
                        <h5 class="text-white">Crea tu perfil</h5>
                        <p class="text-white-50">Regístrate y completa tu perfil con tu posición, nivel y disponibilidad.</p>
                    </div>
                </div>
                
                <div class="d-flex mb-4 wow animate__animated animate__fadeInRight" data-wow-delay="0.3s">
                    <div class="bg-success rounded-circle d-flex align-items-center justify-content-center text-white me-3" style="min-width: 50px; height: 50px;">
                        <strong>2</strong>
                    </div>
                    <div>
                        <h5 class="text-white">Busca partidos</h5>
                        <p class="text-white-50">Encuentra partidos cercanos usando el mapa o crea tu propio partido.</p>
                    </div>
                </div>
                
                <div class="d-flex mb-4 wow animate__animated animate__fadeInRight" data-wow-delay="0.5s">
                    <div class="bg-success rounded-circle d-flex align-items-center justify-content-center text-white me-3" style="min-width: 50px; height: 50px;">
                        <strong>3</strong>
                    </div>
                    <div>
                        <h5 class="text-white">Únete o invita</h5>
                        <p class="text-white-50">Solicita unirte a un partido existente o invita a otros jugadores al tuyo.</p>
                    </div>
                </div>
                
                <div class="d-flex wow animate__animated animate__fadeInRight" data-wow-delay="0.7s">
                    <div class="bg-success rounded-circle d-flex align-items-center justify-content-center text-white me-3" style="min-width: 50px; height: 50px;">
                        <strong>4</strong>
                    </div>
                    <div>
                        <h5 class="text-white">¡A jugar!</h5>
                        <p class="text-white-50">Disfruta del partido y después valora a tus compañeros.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Footer Mejorado -->
<footer class="py-5" style="background-color: #0a0a0a;">
    <div class="container">
        <!-- Main Footer Content -->
        <div class="row mb-4">
            <!-- Brand Column -->
            <div class="col-lg-4 mb-4 mb-lg-0">
                <div class="d-flex align-items-center mb-3">
                    {% include 'components/svg/logo.html' %}
                    <h3 class="text-white fw-bold mb-0">FútbolConnect</h3>
                </div>
                <p class="text-white-50 mb-4">Conectando jugadores desde el barrio hasta el estadio.</p>

                <p class="text-white-50 mb-4">Reviviendo la pasión del fútbol callejero con la tecnología de hoy.</p>
                <div class="d-flex gap-3 mb-3">
                    <a href="#" class="btn btn-dark btn-sm rounded-circle d-flex align-items-center justify-content-center" style="width: 38px; height: 38px; transition: all 0.3s;">
                        <i class="fab fa-facebook-f text-success"></i>
                    </a>
                    <a href="#" class="btn btn-dark btn-sm rounded-circle d-flex align-items-center justify-content-center" style="width: 38px; height: 38px; transition: all 0.3s;">
                        <i class="fab fa-instagram text-success"></i>
                    </a>
                    <a href="#" class="btn btn-dark btn-sm rounded-circle d-flex align-items-center justify-content-center" style="width: 38px; height: 38px; transition: all 0.3s;">
                        <i class="fab fa-twitter text-success"></i>
                    </a>
                    <a href="#" class="btn btn-dark btn-sm rounded-circle d-flex align-items-center justify-content-center" style="width: 38px; height: 38px; transition: all 0.3s;">
                        <i class="fab fa-youtube text-success"></i>
                    </a>
                </div>
            </div>
            
            <!-- Quick Links -->
            <div class="col-lg-2 col-6 mb-4 mb-lg-0">
                <h5 class="text-white mb-4">Enlaces</h5>
                <ul class="list-unstyled">
                    <li class="mb-2"><a href="#inicio" class="text-white-50 text-decoration-none hover-success">Inicio</a></li>
                    <li class="mb-2"><a href="#caracteristicas" class="text-white-50 text-decoration-none hover-success">Características</a></li>
                    <li class="mb-2"><a href="#como-funciona" class="text-white-50 text-decoration-none hover-success">Cómo Funciona</a></li>
                    <li class="mb-2"><a href="#testimonios" class="text-white-50 text-decoration-none hover-success">Testimonios</a></li>
                </ul>
            </div>
            
            <!-- Legal Links -->
            <div class="col-lg-2 col-6 mb-4 mb-lg-0">
                <h5 class="text-white mb-4">Legal</h5>
                <ul class="list-unstyled">
                    <li class="mb-2"><a href="#" class="text-white-50 text-decoration-none hover-success">Privacidad</a></li>
                    <li class="mb-2"><a href="#" class="text-white-50 text-decoration-none hover-success">Términos</a></li>
                    <li class="mb-2"><a href="#" class="text-white-50 text-decoration-none hover-success">Cookies</a></li>
                    <li class="mb-2"><a href="#" class="text-white-50 text-decoration-none hover-success">FAQ</a></li>
                </ul>
            </div>
            
            <!-- Contact / Newsletter -->
            <div class="col-lg-4">
                <h5 class="text-white mb-4">¡Mantente conectado!</h5>
                <p class="text-white-50 mb-3">Suscríbete para recibir novedades, partidos destacados y promociones.</p>
                <div class="input-group mb-3">
                    <input type="email" class="form-control bg-dark border-success text-white" placeholder="Tu email" aria-label="Email" style="border-top-right-radius: 0; border-bottom-right-radius: 0;">
                    <button class="btn btn-success" type="button" style="border-top-left-radius: 0; border-bottom-left-radius: 0;">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Footer Bottom / Copyright -->
        <div class="border-top border-secondary pt-4">
            <div class="row align-items-center">
                <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                    <p class="text-white-50 small mb-0">© 2025 XXX. Todos los derechos reservados.</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <p class="text-white-50 small mb-0">Reviviendo el fútbol callejero</p>
                </div>
            </div>
        </div>
    </div>
</footer>
<style>
    /* Animaciones básicas */
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    
    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes fadeInLeft {
        from { opacity: 0; transform: translateX(-30px); }
        to { opacity: 1; transform: translateX(0); }
    }
    
    @keyframes fadeInRight {
        from { opacity: 0; transform: translateX(50px); }
        to { opacity: 1; transform: translateX(0); }
    }
    
    /* Animaciones avanzadas */
    @keyframes pulse {
        0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(40,167,69,0.7); }
        70% { transform: scale(1); box-shadow: 0 0 0 15px rgba(40,167,69,0); }
        100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(40,167,69,0); }
    }
    
    @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-20px); }
        100% { transform: translateY(0px); }
    }
    
    @keyframes bounce {
        0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
        40% { transform: translateY(-10px); }
        60% { transform: translateY(-5px); }
    }
    
    @keyframes shimmer {
        0% { opacity: 0.8; }
        50% { opacity: 1; }
        100% { opacity: 0.8; }
    }
    
    @keyframes borderMove {
        0% { transform: translateX(-100%); }
        100% { transform: translateX(300%); }
    }
    
    /* Estilos para botones con efecto hover */
    .btn {
        transition: all 0.3s ease;
    }
    
    .btn-success:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(40,167,69,0.4) !important;
    }
    
    .btn-outline-light:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(255,255,255,0.1) !important;
    }
</style>

{% endblock %}

================
File: app/templates/registration/logged_out.html
================
{% extendsn 'basesite.html' %}
    {% block base %}
    
    <h1>Sesión cerrada</h1>
    <p>Has cerrado sesión correctamente. <a href="{% url 'login' %}">Iniciar sesión de nuevo</a>.</p>
    {% endblock %}

================
File: app/templates/canchas.html
================
{% extends 'base.html' %}
{% block base %}
<div class="d-flex flex-column flex-lg-row vh-100 overflow-hidden" style="background-color: #0F172A;">
    <!-- Sidebar Navigation -->
    {% include "components/nav.html" %}

    <!-- Main Content Area -->
    <div class="flex-grow-1 overflow-auto p-0 bg-dark">
        <!-- Top Navigation Bar -->
        {% include "components/top_nav.html" %}
        
        <!-- Venues Section -->
        <div class="container-fluid p-4 bg-dark">
            <!-- Page Header -->
            <div class="row mb-4">
                <div class="col-12">
                    <div class="card border-0 shadow-sm" style="background-color: #2d3748; border-radius: 15px;">
                        <div class="card-body p-4">
                            <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center">
                                <div>
                                    <h4 class="text-white mb-1">Canchas disponibles</h4>
                                    <p class="text-white-50 mb-md-0">Encuentra las mejores canchas para tus partidos</p>
                                </div>
                                <div class="d-flex gap-2 mt-3 mt-md-0">
                                    <div class="input-group">
                                        <input type="text" class="form-control bg-dark text-white border-secondary" placeholder="Buscar canchas...">
                                        <button class="btn btn-success" type="button">
                                            <i class="fas fa-search"></i>
                                        </button>
                                    </div>
                                    <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addVenueModal">
                                        <i class="fas fa-plus-circle me-md-2"></i><span class="d-none d-md-inline">Añadir cancha</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- View Toggle and Filters -->
            <div class="row mb-4">
                <div class="col-12">
                    <div class="card border-0 shadow-sm" style="background-color: #2d3748; border-radius: 15px;">
                        <div class="card-body p-3">
                            <div class="d-flex justify-content-between align-items-center flex-wrap">
                                <div class="d-flex flex-wrap gap-2 mb-3 mb-md-0">
                                    <button class="btn btn-success" id="allVenuesBtn">Todas</button>
                                    <button class="btn btn-dark" id="verifiedVenuesBtn">Verificadas</button>
                                    <button class="btn btn-dark" id="communityVenuesBtn">Comunitarias</button>
                                    <button class="btn btn-outline-light" data-bs-toggle="collapse" data-bs-target="#venueFilters">
                                        <i class="fas fa-filter me-2"></i>Filtros
                                    </button>
                                </div>
                                <div class="d-flex gap-2">
                                    <button class="btn btn-dark active" id="listViewBtn" title="Vista de lista">
                                        <i class="fas fa-list-ul"></i>
                                    </button>
                                    <button class="btn btn-dark" id="mapViewBtn" title="Vista de mapa">
                                        <i class="fas fa-map-marked-alt"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Filters (Collapsible) -->
            <div class="collapse mb-4" id="venueFilters">
                <div class="card border-0 shadow-sm" style="background-color: #2d3748; border-radius: 15px;">
                    <div class="card-body p-4">
                        <div class="row g-3">
                            <div class="col-md-4 col-lg-3">
                                <label class="form-label text-white">Superficie</label>
                                <select class="form-select bg-dark text-white border-secondary">
                                    <option selected>Todas las superficies</option>
                                    <option>Césped natural</option>
                                    <option>Césped artificial</option>
                                    <option>Fútbol sala</option>
                                    <option>Tierra</option>
                                </select>
                            </div>
                            <div class="col-md-4 col-lg-3">
                                <label class="form-label text-white">Tamaño</label>
                                <select class="form-select bg-dark text-white border-secondary">
                                    <option selected>Todos los tamaños</option>
                                    <option>Fútbol 5</option>
                                    <option>Fútbol 7</option>
                                    <option>Fútbol 11</option>
                                    <option>Fútbol sala</option>
                                </select>
                            </div>
                            <div class="col-md-4 col-lg-3">
                                <label class="form-label text-white">Servicios</label>
                                <select class="form-select bg-dark text-white border-secondary">
                                    <option selected>Todos</option>
                                    <option>Con vestuarios</option>
                                    <option>Con parking</option>
                                    <option>Con iluminación</option>
                                    <option>Con cafetería</option>
                                </select>
                            </div>
                            <div class="col-md-4 col-lg-3">
                                <label class="form-label text-white">Distancia</label>
                                <select class="form-select bg-dark text-white border-secondary">
                                    <option selected>Cualquier distancia</option>
                                    <option>Menos de 2 km</option>
                                    <option>Menos de 5 km</option>
                                    <option>Menos de 10 km</option>
                                    <option>Menos de 20 km</option>
                                </select>
                            </div>
                            <div class="col-md-4 col-lg-3">
                                <label class="form-label text-white">Precio</label>
                                <select class="form-select bg-dark text-white border-secondary">
                                    <option selected>Cualquier precio</option>
                                    <option>Gratuito</option>
                                    <option>Hasta 30€/h</option>
                                    <option>Hasta 60€/h</option>
                                    <option>Hasta 100€/h</option>
                                </select>
                            </div>
                            <div class="col-md-4 col-lg-3">
                                <label class="form-label text-white">Disponibilidad</label>
                                <select class="form-select bg-dark text-white border-secondary">
                                    <option selected>Cualquier disponibilidad</option>
                                    <option>Disponible hoy</option>
                                    <option>Disponible este fin de semana</option>
                                    <option>Disponible entre semana</option>
                                    <option>Disponible por la noche</option>
                                </select>
                            </div>
                            <div class="col-md-4 col-lg-3">
                                <label class="form-label text-white">Valoración</label>
                                <select class="form-select bg-dark text-white border-secondary">
                                    <option selected>Todas las valoraciones</option>
                                    <option>4 estrellas o más</option>
                                    <option>3 estrellas o más</option>
                                    <option>2 estrellas o más</option>
                                </select>
                            </div>
                            <div class="col-12 text-end mt-3">
                                <button class="btn btn-outline-light me-2">Limpiar filtros</button>
                                <button class="btn btn-success">Aplicar filtros</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- List View (Active by default) -->
            <div id="venueListView">
                <!-- Verified Venues Section -->
                <div class="row mb-4">
                    <div class="col-12">
                        <h5 class="text-white mb-3">
                            <i class="fas fa-check-circle text-success me-2"></i>Canchas verificadas
                            <span class="badge bg-success ms-2">Premium</span>
                        </h5>
                        <p class="text-white-50 mb-4">Instalaciones oficiales con acuerdos de colaboración. Reserva garantizada y servicios verificados.</p>
                    </div>
                </div>

                <div class="row g-4 mb-5">
                    <!-- Verified Venue Card 1 -->
                    <div class="col-md-6 col-xl-4">
                        <div class="card border-0 shadow-sm h-100" style="background-color: #2d3748; border-radius: 15px; overflow: hidden;">
                            <div class="position-relative">
                                <img src="https://via.placeholder.com/400x200" class="card-img-top" alt="Campo Municipal Norte">
                                <div class="position-absolute top-0 start-0 m-3">
                                    <span class="badge bg-success d-flex align-items-center">
                                        <i class="fas fa-check-circle me-1"></i>Verificada
                                    </span>
                                </div>
                                <div class="position-absolute top-0 end-0 m-3">
                                    <span class="badge bg-dark">
                                        <i class="fas fa-map-marker-alt me-1"></i>1.2 km
                                    </span>
                                </div>
                                <div class="position-absolute bottom-0 start-0 end-0 p-3 text-center" style="background: linear-gradient(transparent, rgba(0,0,0,0.8));">
                                    <h5 class="text-white mb-0">Campo Municipal Norte</h5>
                                </div>
                            </div>

                            <div class="card-body p-4">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="text-warning me-2">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                    </div>
                                    <span class="text-white">4.5</span>
                                    <span class="text-white-50 ms-2">(32 valoraciones)</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-map-marker-alt text-success me-3"></i>
                                    <span class="text-white">Av. del Deporte, 123, Madrid</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-leaf text-success me-3"></i>
                                    <span class="text-white">Césped artificial</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-users text-success me-3"></i>
                                    <span class="text-white">Fútbol 7 y 11</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-3">
                                    <i class="fas fa-euro-sign text-success me-3"></i>
                                    <span class="text-white">Desde 60€/hora</span>
                                </div>
                                
                                <!-- Amenities -->
                                <div class="d-flex flex-wrap gap-2 mb-3">
                                    <span class="badge bg-dark"><i class="fas fa-parking me-1"></i>Parking</span>
                                    <span class="badge bg-dark"><i class="fas fa-shower me-1"></i>Vestuarios</span>
                                    <span class="badge bg-dark"><i class="fas fa-lightbulb me-1"></i>Iluminación</span>
                                    <span class="badge bg-dark"><i class="fas fa-utensils me-1"></i>Cafetería</span>
                                </div>
                                
                                <!-- Special Offer -->
                                <div class="alert alert-success bg-success bg-opacity-10 border-success d-flex align-items-center mb-3" role="alert">
                                    <i class="fas fa-tag me-2 text-success"></i>
                                    <div class="text-success">10% de descuento para usuarios de FútbolConnect</div>
                                </div>
                                
                                <div class="d-flex justify-content-between">
                                    <a href="#" class="btn btn-outline-light">
                                        <i class="fas fa-info-circle me-2"></i>Detalles
                                    </a>
                                    <a href="#" class="btn btn-success">
                                        <i class="fas fa-calendar-alt me-2"></i>Reservar
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Verified Venue Card 2 -->
                    <div class="col-md-6 col-xl-4">
                        <div class="card border-0 shadow-sm h-100" style="background-color: #2d3748; border-radius: 15px; overflow: hidden;">
                            <div class="position-relative">
                                <img src="https://via.placeholder.com/400x200" class="card-img-top" alt="Estadio Central">
                                <div class="position-absolute top-0 start-0 m-3">
                                    <span class="badge bg-success d-flex align-items-center">
                                        <i class="fas fa-check-circle me-1"></i>Verificada
                                    </span>
                                </div>
                                <div class="position-absolute top-0 end-0 m-3">
                                    <span class="badge bg-dark">
                                        <i class="fas fa-map-marker-alt me-1"></i>3.5 km
                                    </span>
                                </div>
                                <div class="position-absolute bottom-0 start-0 end-0 p-3 text-center" style="background: linear-gradient(transparent, rgba(0,0,0,0.8));">
                                    <h5 class="text-white mb-0">Estadio Central</h5>
                                </div>
                            </div>
                            <div class="card-body p-4">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="text-warning me-2">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <span class="text-white">5.0</span>
                                    <span class="text-white-50 ms-2">(48 valoraciones)</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-map-marker-alt text-success me-3"></i>
                                    <span class="text-white">Calle Central, 45, Madrid</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-leaf text-success me-3"></i>
                                    <span class="text-white">Césped natural</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-users text-success me-3"></i>
                                    <span class="text-white">Fútbol 11</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-3">
                                    <i class="fas fa-euro-sign text-success me-3"></i>
                                    <span class="text-white">Desde 90€/hora</span>
                                </div>
                                
                                <!-- Amenities -->
                                <div class="d-flex flex-wrap gap-2 mb-3">
                                    <span class="badge bg-dark"><i class="fas fa-parking me-1"></i>Parking</span>
                                    <span class="badge bg-dark"><i class="fas fa-shower me-1"></i>Vestuarios</span>
                                    <span class="badge bg-dark"><i class="fas fa-lightbulb me-1"></i>Iluminación</span>
                                    <span class="badge bg-dark"><i class="fas fa-utensils me-1"></i>Cafetería</span>
                                    <span class="badge bg-dark"><i class="fas fa-first-aid me-1"></i>Primeros auxilios</span>
                                </div>
                                
                                <!-- Special Offer -->
                                <div class="alert alert-success bg-success bg-opacity-10 border-success d-flex align-items-center mb-3" role="alert">
                                    <i class="fas fa-tag me-2 text-success"></i>
                                    <div class="text-success">15% de descuento en horario matutino</div>
                                </div>
                                
                                <div class="d-flex justify-content-between">
                                    <a href="#" class="btn btn-outline-light">
                                        <i class="fas fa-info-circle me-2"></i>Detalles
                                    </a>
                                    <a href="#" class="btn btn-success">
                                        <i class="fas fa-calendar-alt me-2"></i>Reservar
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Verified Venue Card 3 -->
                    <div class="col-md-6 col-xl-4">
                        <div class="card border-0 shadow-sm h-100" style="background-color: #2d3748; border-radius: 15px; overflow: hidden;">
                            <div class="position-relative">
                                <img src="https://via.placeholder.com/400x200" class="card-img-top" alt="Polideportivo Sur">
                                <div class="position-absolute top-0 start-0 m-3">
                                    <span class="badge bg-success d-flex align-items-center">
                                        <i class="fas fa-check-circle me-1"></i>Verificada
                                    </span>
                                </div>
                                <div class="position-absolute top-0 end-0 m-3">
                                    <span class="badge bg-dark">
                                        <i class="fas fa-map-marker-alt me-1"></i>4.1 km
                                    </span>
                                </div>
                                <div class="position-absolute bottom-0 start-0 end-0 p-3 text-center" style="background: linear-gradient(transparent, rgba(0,0,0,0.8));">
                                    <h5 class="text-white mb-0">Polideportivo Sur</h5>
                                </div>
                            </div>
                            <div class="card-body p-4">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="text-warning me-2">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <span class="text-white">4.0</span>
                                    <span class="text-white-50 ms-2">(27 valoraciones)</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-map-marker-alt text-success me-3"></i>
                                    <span class="text-white">Paseo Sur, 78, Madrid</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-leaf text-success me-3"></i>
                                    <span class="text-white">Fútbol sala (interior)</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-users text-success me-3"></i>
                                    <span class="text-white">Fútbol 5</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-3">
                                    <i class="fas fa-euro-sign text-success me-3"></i>
                                    <span class="text-white">Desde 40€/hora</span>
                                </div>
                                
                                <!-- Amenities -->
                                <div class="d-flex flex-wrap gap-2 mb-3">
                                    <span class="badge bg-dark"><i class="fas fa-parking me-1"></i>Parking</span>
                                    <span class="badge bg-dark"><i class="fas fa-shower me-1"></i>Vestuarios</span>
                                    <span class="badge bg-dark"><i class="fas fa-utensils me-1"></i>Cafetería</span>
                                </div>
                                
                                <!-- Special Offer -->
                                <div class="alert alert-success bg-success bg-opacity-10 border-success d-flex align-items-center mb-3" role="alert">
                                    <i class="fas fa-tag me-2 text-success"></i>
                                    <div class="text-success">Oferta 2x1 en horario de mañana entre semana</div>
                                </div>
                                
                                <div class="d-flex justify-content-between">
                                    <a href="#" class="btn btn-outline-light">
                                        <i class="fas fa-info-circle me-2"></i>Detalles
                                    </a>
                                    <a href="#" class="btn btn-success">
                                        <i class="fas fa-calendar-alt me-2"></i>Reservar
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Community Venues Section -->
                <div class="row mb-4">
                    <div class="col-12">
                        <h5 class="text-white mb-3">
                            <i class="fas fa-users text-info me-2"></i>Canchas comunitarias
                            <span class="badge bg-info text-dark ms-2">Añadidas por usuarios</span>
                        </h5>
                        <p class="text-white-50 mb-4">Canchas añadidas por la comunidad. La información puede variar y se recomienda confirmar los detalles antes de acudir.</p>
                    </div>
                </div>
                
                <div class="row g-4 mb-5">
                    <!-- Community Venue Card 1 -->
                    <div class="col-md-6 col-xl-4">
                        <div class="card border-0 shadow-sm h-100" style="background-color: #2d3748; border-radius: 15px; overflow: hidden;">
                            <div class="position-relative">
                                <img src="https://via.placeholder.com/400x200" class="card-img-top" alt="Cancha El Barrio">
                                <div class="position-absolute top-0 start-0 m-3">
                                    <span class="badge bg-info text-dark d-flex align-items-center">
                                        <i class="fas fa-users me-1"></i>Comunitaria
                                    </span>
                                </div>
                                <div class="position-absolute top-0 end-0 m-3">
                                    <span class="badge bg-dark">
                                        <i class="fas fa-map-marker-alt me-1"></i>0.7 km
                                    </span>
                                </div>
                                <div class="position-absolute bottom-0 start-0 end-0 p-3 text-center" style="background: linear-gradient(transparent, rgba(0,0,0,0.8));">
                                    <h5 class="text-white mb-0">Cancha "El Barrio"</h5>
                                </div>
                            </div>
                            <div class="card-body p-4">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="text-warning me-2">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <span class="text-white">3.5</span>
                                    <span class="text-white-50 ms-2">(12 valoraciones)</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-map-marker-alt text-info me-3"></i>
                                    <span class="text-white">Calle Vecina, 15, Madrid</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-leaf text-info me-3"></i>
                                    <span class="text-white">Tierra</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-users text-info me-3"></i>
                                    <span class="text-white">Fútbol 7</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-3">
                                    <i class="fas fa-euro-sign text-info me-3"></i>
                                    <span class="text-white">Gratuito</span>
                                </div>
                                
                                <!-- Amenities -->
                                <div class="d-flex flex-wrap gap-2 mb-3">
                                    <span class="badge bg-dark"><i class="fas fa-parking me-1"></i>Parking cercano</span>
                                </div>
                                
                                <!-- Warning Notice -->
                                <div class="alert alert-warning bg-warning bg-opacity-10 border-warning d-flex align-items-center mb-3" role="alert">
                                    <i class="fas fa-exclamation-triangle me-2 text-warning"></i>
                                    <div class="text-warning">Cancha pública, disponibilidad no garantizada</div>
                                </div>
                                
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <small class="text-white-50">
                                            <i class="fas fa-user me-1"></i>Añadida por: Miguel S.
                                        </small>
                                    </div>
                                    <a href="#" class="btn btn-outline-light">
                                        <i class="fas fa-info-circle me-2"></i>Detalles
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Community Venue Card 2 -->
                    <div class="col-md-6 col-xl-4">
                        <div class="card border-0 shadow-sm h-100" style="background-color: #2d3748; border-radius: 15px; overflow: hidden;">
                            <div class="position-relative">
                                <img src="https://via.placeholder.com/400x200" class="card-img-top" alt="Campo San Jorge">
                                <div class="position-absolute top-0 start-0 m-3">
                                    <span class="badge bg-info text-dark d-flex align-items-center">
                                        <i class="fas fa-users me-1"></i>Comunitaria
                                    </span>
                                </div>
                                <div class="position-absolute top-0 end-0 m-3">
                                    <span class="badge bg-dark">
                                        <i class="fas fa-map-marker-alt me-1"></i>2.3 km
                                    </span>
                                </div>
                                <div class="position-absolute bottom-0 start-0 end-0 p-3 text-center" style="background: linear-gradient(transparent, rgba(0,0,0,0.8));">
                                    <h5 class="text-white mb-0">Campo San Jorge</h5>
                                </div>
                            </div>
                            <div class="card-body p-4">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="text-warning me-2">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <span class="text-white">4.0</span>
                                    <span class="text-white-50 ms-2">(8 valoraciones)</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-map-marker-alt text-info me-3"></i>
                                    <span class="text-white">Calle San Jorge, 34, Madrid</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-leaf text-info me-3"></i>
                                    <span class="text-white">Césped artificial</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-users text-info me-3"></i>
                                    <span class="text-white">Fútbol 5</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-3">
                                    <i class="fas fa-euro-sign text-info me-3"></i>
                                    <span class="text-white">25€/hora (aprox.)</span>
                                </div>
                                
                                <!-- Amenities -->
                                <div class="d-flex flex-wrap gap-2 mb-3">
                                    <span class="badge bg-dark"><i class="fas fa-shower me-1"></i>Vestuarios</span>
                                    <span class="badge bg-dark"><i class="fas fa-lightbulb me-1"></i>Iluminación</span>
                                </div>
                                
                                <!-- Warning Notice -->
                                <div class="alert alert-warning bg-warning bg-opacity-10 border-warning d-flex align-items-center mb-3" role="alert">
                                    <i class="fas fa-exclamation-triangle me-2 text-warning"></i>
                                    <div class="text-warning">Reserva por teléfono, no integrada en la plataforma</div>
                                </div>
                                
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <small class="text-white-50">
                                            <i class="fas fa-user me-1"></i>Añadida por: Laura M.
                                        </small>
                                    </div>
                                    <a href="#" class="btn btn-outline-light">
                                        <i class="fas fa-info-circle me-2"></i>Detalles
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Community Venue Card 3 -->
                    <div class="col-md-6 col-xl-4">
                        <div class="card border-0 shadow-sm h-100" style="background-color: #2d3748; border-radius: 15px; overflow: hidden;">
                            <div class="position-relative">
                                <img src="https://via.placeholder.com/400x200" class="card-img-top" alt="Pista Municipal Este">
                                <div class="position-absolute top-0 start-0 m-3">
                                    <span class="badge bg-info text-dark d-flex align-items-center">
                                        <i class="fas fa-users me-1"></i>Comunitaria
                                    </span>
                                </div>
                                <div class="position-absolute top-0 end-0 m-3">
                                    <span class="badge bg-dark">
                                        <i class="fas fa-map-marker-alt me-1"></i>5.6 km
                                    </span>
                                </div>
                                <div class="position-absolute bottom-0 start-0 end-0 p-3 text-center" style="background: linear-gradient(transparent, rgba(0,0,0,0.8));">
                                    <h5 class="text-white mb-0">Pista Municipal Este</h5>
                                </div>
                            </div>
                            <div class="card-body p-4">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="text-warning me-2">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <span class="text-white">3.0</span>
                                    <span class="text-white-50 ms-2">(5 valoraciones)</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-map-marker-alt text-info me-3"></i>
                                    <span class="text-white">Parque Este, s/n, Madrid</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-leaf text-info me-3"></i>
                                    <span class="text-white">Cemento</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-users text-info me-3"></i>
                                    <span class="text-white">Fútbol sala</span>
                                </div>
                                
                                <div class="d-flex align-items-center mb-3">
                                    <i class="fas fa-euro-sign text-info me-3"></i>
                                    <span class="text-white">Gratuito</span>
                                </div>
                                
                                <!-- Amenities -->
                                <div class="d-flex flex-wrap gap-2 mb-3">
                                    <span class="badge bg-dark"><i class="fas fa-parking me-1"></i>Parking</span>
                                </div>
                                
                                <!-- Warning Notice -->
                                <div class="alert alert-warning bg-warning bg-opacity-10 border-warning d-flex align-items-center mb-3" role="alert">
                                    <i class="fas fa-exclamation-triangle me-2 text-warning"></i>
                                    <div class="text-warning">Pista pública, no se puede reservar</div>
                                </div>
                                
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <small class="text-white-50">
                                            <i class="fas fa-user me-1"></i>Añadida por: Carlos R.
                                        </small>
                                    </div>
                                    <a href="#" class="btn btn-outline-light">
                                        <i class="fas fa-info-circle me-2"></i>Detalles
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Add More Button -->
                <div class="text-center mb-5">
                    <button class="btn btn-outline-light" data-bs-toggle="modal" data-bs-target="#addVenueModal">
                        <i class="fas fa-plus-circle me-2"></i>Añadir nueva cancha
                    </button>
                </div>
                
                <!-- Map View (Hidden by default) -->
                <div id="venueMapView" style="display: none;">
                    <div class="card border-0 shadow-sm" style="background-color: #2d3748; border-radius: 15px; overflow: hidden;">
                        <div class="card-body p-0">
                            <div style="height: 600px; background-color: #1a202c; position: relative;">
                                <!-- This would be replaced with the actual map implementation -->
                                <div class="d-flex justify-content-center align-items-center h-100">
                                    <div class="text-center">
                                        <i class="fas fa-map-marked-alt text-success mb-3" style="font-size: 3rem;"></i>
                                        <h5 class="text-white">Mapa de canchas</h5>
                                        <p class="text-white-50">Aquí se cargaría el mapa interactivo con todas las canchas</p>
                                    </div>
                                </div>
                                
                                <!-- Sample controls that would appear over the map -->
                                <div class="position-absolute" style="top: 10px; right: 10px;">
                                    <div class="btn-group-vertical">
                                        <button class="btn btn-dark" title="Acercar">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                        <button class="btn btn-dark" title="Alejar">
                                            <i class="fas fa-minus"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="position-absolute" style="top: 10px; left: 10px;">
                                    <div class="btn-group">
                                        <button class="btn btn-success active" title="Mostrar canchas verificadas">
                                            <i class="fas fa-check-circle me-md-2"></i><span class="d-none d-md-inline">Verificadas</span>
                                        </button>
                                        <button class="btn btn-info" title="Mostrar canchas comunitarias">
                                            <i class="fas fa-users me-md-2"></i><span class="d-none d-md-inline">Comunitarias</span>
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="position-absolute" style="bottom: 20px; right: 20px;">
                                    <button class="btn btn-success" title="Mi ubicación">
                                        <i class="fas fa-location-arrow"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
                </div>
                </div>
                
            <!-- MODAL AÑADIR CANCHA -->
             <!-- Modal añadir cancha -->
<div class="modal fade" id="addVenueModal" tabindex="-1" aria-labelledby="addVenueModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0" style="background-color: #2d3748; border-radius: 15px;">
            <div class="modal-header border-bottom border-secondary">
                <h5 class="modal-title text-white" id="addVenueModalLabel">Añadir nueva cancha comunitaria</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Tipo de usuario -->
                <div class="alert alert-warning bg-warning bg-opacity-10 border-warning mb-4" role="alert">
                    <div class="d-flex">
                        <div class="flex-shrink-0">
                            <i class="fas fa-info-circle text-warning me-2"></i>
                        </div>
                        <div>
                            <h6 class="text-warning mb-1">¿Eres dueño o administrador de una cancha?</h6>
                            <p class="mb-2 text-warning">Este formulario es solo para usuarios que quieren compartir canchas que conocen con la comunidad. Las canchas añadidas aquí serán "no verificadas".</p>
                            <a href="/registrar-cancha-verificada" class="btn btn-warning btn-sm">
                                <i class="fas fa-building me-2"></i>Registrar mi cancha como negocio
                            </a>
                        </div>
                    </div>
                </div>
                
                <form>
                    <div class="alert alert-info bg-info bg-opacity-10 border-info mb-4" role="alert">
                        <div class="d-flex">
                            <div class="flex-shrink-0">
                                <i class="fas fa-info-circle text-info me-2"></i>
                            </div>
                            <div>
                                <h6 class="text-info mb-1">Añadir una cancha a la comunidad</h6>
                                <p class="mb-0 text-info">Comparte tus canchas favoritas con otros jugadores. La información será revisada por nuestro equipo.</p>
                            </div>
                        </div>
                    </div>
                
                    <!-- Basic Information -->
                    <h6 class="text-white mb-3">Información básica</h6>
                    
                    <div class="mb-3">
                        <label for="venueName" class="form-label text-white">Nombre de la cancha <span class="text-danger">*</span></label>
                        <input type="text" class="form-control bg-dark text-white border-secondary" id="venueName" placeholder="Ej: Campo San Jorge" required>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="venueAddress" class="form-label text-white">Dirección <span class="text-danger">*</span></label>
                            <input type="text" class="form-control bg-dark text-white border-secondary" id="venueAddress" placeholder="Dirección completa" required>
                        </div>
                        <div class="col-md-6">
                            <label for="venueCity" class="form-label text-white">Ciudad <span class="text-danger">*</span></label>
                            <input type="text" class="form-control bg-dark text-white border-secondary" id="venueCity" placeholder="Ej: Madrid" required>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label text-white">Ubicación en el mapa <span class="text-danger">*</span></label>
                        <div style="height: 200px; background-color: #1a202c; position: relative; border-radius: 10px; overflow: hidden; margin-bottom: 15px;">
                            <!-- This would be replaced with the actual map implementation -->
                            <div class="d-flex justify-content-center align-items-center h-100">
                                <div class="text-center">
                                    <i class="fas fa-map-marked-alt text-info mb-3" style="font-size: 2rem;"></i>
                                    <p class="text-white-50">Haz clic en el mapa para seleccionar la ubicación exacta</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Venue Details -->
                    <h6 class="text-white mb-3 mt-4">Detalles de la cancha</h6>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="venueType" class="form-label text-white">Tipo de cancha <span class="text-danger">*</span></label>
                            <select class="form-select bg-dark text-white border-secondary" id="venueType" required>
                                <option value="" selected disabled>Seleccionar tipo</option>
                                <option value="football5">Fútbol 5</option>
                                <option value="football7">Fútbol 7</option>
                                <option value="football11">Fútbol 11</option>
                                <option value="futsal">Fútbol sala</option>
                                <option value="multi">Multiuso</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="venueSurface" class="form-label text-white">Superficie <span class="text-danger">*</span></label>
                            <select class="form-select bg-dark text-white border-secondary" id="venueSurface" required>
                                <option value="" selected disabled>Seleccionar superficie</option>
                                <option value="natural">Césped natural</option>
                                <option value="artificial">Césped artificial</option>
                                <option value="indoor">Fútbol sala (interior)</option>
                                <option value="dirt">Tierra</option>
                                <option value="concrete">Cemento</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="venuePrice" class="form-label text-white">Precio aproximado (por hora)</label>
                            <div class="input-group">
                                <span class="input-group-text bg-dark text-white border-secondary">€</span>
                                <input type="number" class="form-control bg-dark text-white border-secondary" id="venuePrice" placeholder="0.00" min="0">
                            </div>
                            <div class="form-text text-white-50">Deja en blanco si es gratuito</div>
                        </div>
                        <div class="col-md-6">
                            <label for="venueBooking" class="form-label text-white">Método de reserva</label>
                            <select class="form-select bg-dark text-white border-secondary" id="venueBooking">
                                <option value="" selected disabled>Seleccionar método</option>
                                <option value="none">No se puede reservar (libre acceso)</option>
                                <option value="phone">Por teléfono</option>
                                <option value="inperson">En persona</option>
                                <option value="web">Página web</option>
                            </select>
                        </div>
                    </div>
                    
                    <div id="venueContactContainer" class="mb-3 d-none">
                        <label for="venueContact" class="form-label text-white">Contacto para reservas</label>
                        <input type="text" class="form-control bg-dark text-white border-secondary" id="venueContact" placeholder="Ej: Número de teléfono o web">
                    </div>
                    
                    <!-- Amenities -->
                    <h6 class="text-white mb-3 mt-4">Instalaciones y servicios</h6>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="form-check mb-2">
                                <input class="form-check-input bg-dark border-secondary" type="checkbox" id="venueParking">
                                <label class="form-check-label text-white-50" for="venueParking">
                                    Parking disponible
                                </label>
                            </div>
                            <div class="form-check mb-2">
                                <input class="form-check-input bg-dark border-secondary" type="checkbox" id="venueShowers">
                                <label class="form-check-label text-white-50" for="venueShowers">
                                    Vestuarios/Duchas
                                </label>
                            </div>
                            <div class="form-check mb-2">
                                <input class="form-check-input bg-dark border-secondary" type="checkbox" id="venueLighting">
                                <label class="form-check-label text-white-50" for="venueLighting">
                                    Iluminación nocturna
                                </label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-check mb-2">
                                <input class="form-check-input bg-dark border-secondary" type="checkbox" id="venueCafeteria">
                                <label class="form-check-label text-white-50" for="venueCafeteria">
                                    Bar/Cafetería
                                </label>
                            </div>
                            <div class="form-check mb-2">
                                <input class="form-check-input bg-dark border-secondary" type="checkbox" id="venueEquipment">
                                <label class="form-check-label text-white-50" for="venueEquipment">
                                    Alquiler de equipamiento
                                </label>
                            </div>
                            <div class="form-check mb-2">
                                <input class="form-check-input bg-dark border-secondary" type="checkbox" id="venueFirstAid">
                                <label class="form-check-label text-white-50" for="venueFirstAid">
                                    Primeros auxilios
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Additional Info -->
                    <div class="mb-3">
                        <label for="venueDescription" class="form-label text-white">Descripción adicional</label>
                        <textarea class="form-control bg-dark text-white border-secondary" id="venueDescription" rows="3" placeholder="Información adicional, horarios, consejos, etc."></textarea>
                    </div>
                    
                    <div class="mb-3">
                        <label for="venuePhotos" class="form-label text-white">Fotos de la cancha</label>
                        <input type="file" class="form-control bg-dark text-white border-secondary" id="venuePhotos" multiple accept="image/*">
                        <div class="form-text text-white-50">Puedes subir hasta 5 fotos (máx. 5MB cada una)</div>
                    </div>
                </form>
            </div>
            <div class="modal-footer border-top border-secondary">
                <button type="button" class="btn btn-outline-light" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-info">
                    <i class="fas fa-plus-circle me-2"></i>Añadir cancha comunitaria
                </button>
            </div>
        </div>
    </div>
</div>
<!-- JavaScript for Toggle Views -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Toggle between list and map views
        const listViewBtn = document.getElementById('listViewBtn');
        const mapViewBtn = document.getElementById('mapViewBtn');
        const listView = document.getElementById('venueListView');
        const mapView = document.getElementById('venueMapView');
        
        listViewBtn.addEventListener('click', function() {
            listView.style.display = 'block';
            mapView.style.display = 'none';
            listViewBtn.classList.add('active');
            mapViewBtn.classList.remove('active');
        });
        
        mapViewBtn.addEventListener('click', function() {
            listView.style.display = 'none';
            mapView.style.display = 'block';
            mapViewBtn.classList.add('active');
            listViewBtn.classList.remove('active');
        });
        
        // Toggle venue category filters
        const allBtn = document.getElementById('allVenuesBtn');
        const verifiedBtn = document.getElementById('verifiedVenuesBtn');
        const communityBtn = document.getElementById('communityVenuesBtn');
        
        allBtn.addEventListener('click', function() {
            allBtn.classList.add('btn-success');
            allBtn.classList.remove('btn-dark');
            verifiedBtn.classList.add('btn-dark');
            verifiedBtn.classList.remove('btn-success');
            communityBtn.classList.add('btn-dark');
            communityBtn.classList.remove('btn-success');
        });
        
        verifiedBtn.addEventListener('click', function() {
            verifiedBtn.classList.add('btn-success');
            verifiedBtn.classList.remove('btn-dark');
            allBtn.classList.add('btn-dark');
            allBtn.classList.remove('btn-success');
            communityBtn.classList.add('btn-dark');
            communityBtn.classList.remove('btn-success');
        });
        
        communityBtn.addEventListener('click', function() {
            communityBtn.classList.add('btn-success');
            communityBtn.classList.remove('btn-dark');
            allBtn.classList.add('btn-dark');
            allBtn.classList.remove('btn-success');
            verifiedBtn.classList.add('btn-dark');
            verifiedBtn.classList.remove('btn-success');
        });
        
        // Show/hide venue contact field based on booking method
        const bookingSelect = document.getElementById('venueBooking');
        const contactContainer = document.getElementById('venueContactContainer');
        
        bookingSelect.addEventListener('change', function() {
            if (this.value === 'none') {
                contactContainer.classList.add('d-none');
            } else {
                contactContainer.classList.remove('d-none');
            }
        });
    });
</script>
{% endblock %}

================
File: app/templates/main.html
================
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}De Rabona{% endblock %}</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    
    <!-- Block para CSS adicional -->
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Top Navigation -->
    <nav id="main-top-navbar" class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <!-- Sidebar Toggle Button (solo visible en móvil) -->
            <button id="main-navbar-toggle" class="d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#main-dashboard-sidebar" aria-controls="main-dashboard-sidebar">
                <i class="fas fa-bars"></i>
            </button>

            <!-- Brand (solo visible en móvil) -->
            <a id="main-navbar-brand" class="navbar-brand d-lg-none" href="{% url 'home' %}">
                <span class="brand-logo">
                    {% include 'components/svg/logo.html' %}
                </span>
                De Rabona
            </a>

            <!-- Spacer para empujar el contenido del usuario a la derecha -->
            <div class="flex-grow-1"></div>

            <!-- User Section -->
            <div id="main-navbar-user-section" class="d-flex align-items-center gap-3">
                <!-- User Info -->
                <div class="d-none d-md-flex flex-column align-items-end">
                    <span class="user-display-name">{{ user.nombre|default:user.username }}</span>
                    <small class="user-role">{{ current_user_posicion|default:"Jugador" }}</small>
                </div>

                <!-- User Dropdown -->
                <div class="dropdown">
                    <a id="main-navbar-user" class="d-flex align-items-center text-decoration-none dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        {% if current_user_avatar_url %}
                            <img src="{{ current_user_avatar_url }}" class="user-avatar-large" alt="Avatar">
                        {% else %}
                            <img src="https://via.placeholder.com/44" class="user-avatar-large" alt="Avatar">
                        {% endif %}
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><a class="dropdown-item" href="{% url 'perfil' %}"><i class="fas fa-user me-2"></i>Mi Perfil</a></li>
                        <li><a class="dropdown-item" href="#"><i class="fas fa-cog me-2"></i>Configuración</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li>
                            <form action="{% url 'logout' %}" method="post" class="m-0">
                                {% csrf_token %}
                                <button type="submit" class="dropdown-item w-100 text-start">
                                    <i class="fas fa-sign-out-alt me-2"></i>Cerrar Sesión
                                </button>
                            </form>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- Dashboard Sidebar -->
    <div id="main-dashboard-sidebar" class="offcanvas-lg offcanvas-start" tabindex="-1">
        <!-- Offcanvas Header (solo visible en móvil) -->
        <div class="offcanvas-header">
            <div class="d-flex align-items-center">
                <div class="brand-logo me-2">DR</div>
                <h5 class="offcanvas-title">De Rabona</h5>
            </div>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" data-bs-target="#main-dashboard-sidebar" aria-label="Close"></button>
        </div>

        <!-- Offcanvas Body -->
        <div class="offcanvas-body">
            <!-- Logo and brand (solo visible en desktop) -->
            <div id="main-brand-section" class="d-none d-lg-block">
                <div class="brand-logo">

                    {% include 'components/svg/logo3_balon_antiguo.html' %}
                </div>
                <a href="{% url 'home' %}" class="brand-text">De Rabona</a>
            </div>

            <!-- User profile preview -->
            <div id="main-user-profile">
                {% if current_user_avatar_url %}
                    <img src="{{ current_user_avatar_url }}" class="user-avatar-sidebar" alt="Avatar">
                {% else %}
                    <img src="https://via.placeholder.com/64" class="user-avatar-sidebar" alt="Avatar"> 
                {% endif %}
                <div class="user-info">
                    <h6>{{ user.nombre|default:user.username }}</h6>
                    <span class="user-position">{{ current_user_posicion|default:"Jugador" }}</span>
                    <div class="user-elo">
                        <i class="fas fa-star"></i>
                        <span>{{ user.calificacion|floatformat:0|default:"1500" }} ELO</span>
                    </div>
                </div>
            </div>

            <!-- Navigation menu -->
            <nav id="main-nav-menu">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="{% url 'home' %}" class="nav-link active" data-route="home">
                            <i class="fas fa-home"></i>
                            <span>Inicio</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'buscar_partidos' %}" class="nav-link" data-route="buscar_partidos">
                            <i class="fas fa-search"></i>
                            <span>Buscar partidos</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'crear_partidos' %}" class="nav-link" data-route="crear_partidos">
                            <i class="fas fa-plus-circle"></i>
                            <span>Crear partido</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'estadisticas_generales' %}" class="nav-link" data-route="estadisticas">
                            <i class="fas fa-chart-line"></i>
                            <span>Estadísticas</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'lista_mis_equipos' %}" class="nav-link" data-route="equipos">
                            <i class="fas fa-users"></i>
                            <span>Mis equipos</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'mis_partidos' %}" class="nav-link" data-route="mis_partidos">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Mis partidos</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'canchas_lista' %}" class="nav-link" data-route="canchas">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Canchas</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <!-- Logout section -->
            <div id="main-logout-section">
                <form action="{% url 'logout' %}" method="post" class="w-100">
                    {% csrf_token %}
                    <button type="submit" class="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Cerrar Sesión</span>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main id="main-content">
        {% block content %}
        {% endblock %}
    </main>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Navegación activa
            const navLinks = document.querySelectorAll('#main-nav-menu .nav-link');
            const currentPath = window.location.pathname;
            
            // Quitar clase active de todos los enlaces
            navLinks.forEach(link => {
                link.classList.remove('active');
            });
            
            // Mapeo de rutas
            const routeMappings = {
                '/': 'home',
                '/home': 'home',
                '/buscar_partidos': 'buscar_partidos',
                '/crear_partidos': 'crear_partidos',
                '/estadisticas': 'estadisticas',
                '/equipos': 'equipos',
                '/lista_mis_equipos': 'equipos',
                '/mis_partidos': 'mis_partidos',
                '/canchas': 'canchas'
            };
            
            // Encontrar ruta activa
            let activeRoute = routeMappings[currentPath];
            
            // Si no hay coincidencia exacta, buscar por includes
            if (!activeRoute) {
                for (const [route, dataRoute] of Object.entries(routeMappings)) {
                    if (currentPath.includes(route) && route !== '/') {
                        activeRoute = dataRoute;
                        break;
                    }
                }
            }
            
            // Activar enlace correspondiente
            if (activeRoute) {
                const activeLink = document.querySelector(`[data-route="${activeRoute}"]`);
                if (activeLink) {
                    activeLink.classList.add('active');
                }
            }
        });
    </script>
    
    <!-- Block para JavaScript adicional -->
    {% block extra_js %}{% endblock %}
</body>
</html>

================
File: app/templatetags/attribute_filters.py
================
from django import template

register = template.Library()

@register.filter(name='hasattr')
def hasattr_filter(obj, attr_name):
    return hasattr(obj, attr_name)

================
File: app/views/canchas_views.py
================
from django.contrib import messages
from django.urls import reverse_lazy
from app.forms.canchas_forms import CanchasForm
from app.models.cancha import Cancha
from django.views.generic import CreateView, ListView, DetailView
from django.contrib.auth.mixins import LoginRequiredMixin
from django.utils import timezone as now_timezone


from app.models.partido import Partido

#CANCHAS



class CanchasView(LoginRequiredMixin, ListView):
    model = Cancha
    template_name = 'canchas/canchas_lista.html' # Nueva plantilla para listar
    context_object_name = 'canchas_list'
    paginate_by = 9 # O el número que prefieras

    def get_queryset(self):
        
        return Cancha.objects.filter(disponible=True).order_by('nombre_cancha')

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['titulo_pagina'] = "Descubre Nuestras Canchas"
        return context
    
class RegistrarCanchaView(LoginRequiredMixin, CreateView):
    model = Cancha
    form_class = CanchasForm
    template_name = 'canchas/registro_canchas.html' 
    success_url = reverse_lazy('canchas_lista') 

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['titulo_pagina'] = "Registrar Nueva Cancha"
        return context

    def form_valid(self, form):
        # Aquí podrías añadir lógica si el usuario que crea es el "propietario"
        # form.instance.propietario = self.request.user # Si tuvieras un campo así en el modelo Cancha
        cancha = form.save()
        messages.success(self.request, f"¡Cancha '{cancha.nombre_cancha}' registrada con éxito!")
        return super().form_valid(form)

    def form_invalid(self, form):
        messages.error(self.request, "Hubo errores al registrar la cancha. Por favor, revisa el formulario.")
        return super().form_invalid(form)

class DetalleCanchaView(LoginRequiredMixin, DetailView):
    model = Cancha
    template_name = 'canchas/detalle_cancha.html' # Nueva plantilla
    context_object_name = 'cancha'
    pk_url_kwarg = 'pk_cancha' # Para que coincida con la URL

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        cancha = self.get_object()
        context['titulo_pagina'] = f"Detalles de la Cancha: {cancha.nombre_cancha}"
        
        # Próximos partidos en esta cancha
        context['proximos_partidos'] = Partido.objects.filter(
            cancha=cancha,
            fecha__gte=now_timezone.now(), # Usar django_timezone.now()
            estado='PROGRAMADO'
        ).order_by('fecha')[:10] # Limitar a los próximos 10, por ejemplo

        # Podrías añadir un formulario para reservar directamente si es privada y lo implementas
        # context['form_reserva'] = ...
        return context

================
File: app/views/estadisticas_views.py
================
from django.views.generic import TemplateView
from django.contrib.auth.mixins import LoginRequiredMixin
from app.models import User, Partido, Equipo, Cancha 
from django.db.models import Count, F, Q, ExpressionWrapper, DateTimeField, IntegerField, FloatField
from django.utils import timezone
from datetime import timedelta

class EstadisticasView(LoginRequiredMixin, TemplateView):
    template_name = 'estadisticas/estadisticas_generales.html'

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['titulo_pagina'] = "Estadísticas de la Comunidad"

        # --- Filtro de Periodo ---
        periodo = self.request.GET.get('periodo', 'todo')
        fecha_desde = None
        now = timezone.now() # Usar el timezone de Django

        if periodo == '7dias':
            fecha_desde = now - timedelta(days=7)
            context['periodo_seleccionado'] = "Últimos 7 días"
        elif periodo == '30dias':
            fecha_desde = now - timedelta(days=30)
            context['periodo_seleccionado'] = "Último mes"
        else:
            periodo = 'todo' # Asegurar que el valor sea consistente para el template
            context['periodo_seleccionado'] = "Todo el tiempo"
        
        context['periodo_actual_param'] = periodo

        # --- 1. Jugadores con más Puntuación ELO (Top 10) ---
        context['top_elo_jugadores'] = User.objects.filter(
            is_active=True
        ).order_by('-calificacion')[:10]

        # --- 2. Jugadores más Activos (más partidos jugados en el periodo) (Top 10) ---
        # Usaremos el related_name 'get_jugadores_partido' de Partido.jugadores
        jugadores_activos_query = User.objects.filter(is_active=True)
        
        if fecha_desde:
            jugadores_activos_query = jugadores_activos_query.annotate(
                num_partidos_periodo=Count(
                    'get_jugadores_partido', # related_name desde User a Partido via Partido.jugadores
                    filter=Q(get_jugadores_partido__estado='FINALIZADO', get_jugadores_partido__fecha__gte=fecha_desde)
                )
            ).filter(num_partidos_periodo__gt=0).order_by('-num_partidos_periodo', '-calificacion')[:10]
        else: # Todo el tiempo
            # Usamos el campo 'partidos_jugados' del modelo User, que se actualiza en registrar_resultado_y_actualizar_stats
            jugadores_activos_query = jugadores_activos_query.filter(
                partidos_jugados__gt=0
            ).order_by('-partidos_jugados', '-calificacion')[:10]
        
        context['top_jugadores_activos'] = jugadores_activos_query


        # --- 3. Equipos Permanentes con más Partidos y Victorias (Top 10) ---
        # Usaremos los campos 'partidos_jugados_permanente' y 'victorias_permanente' si el periodo es 'todo'.
        # Para periodos filtrados, calcularemos dinámicamente.
        equipos_query = Equipo.objects.filter(tipo_equipo='PERMANENTE', activo=True)
        
        # Para pasar al template y decidir qué campos mostrar
        context['equipo_usa_stats_precalculadas_para_periodo_todo'] = hasattr(Equipo, 'partidos_jugados_permanente')

        if fecha_desde:
            equipos_query = equipos_query.annotate(
                partidos_jugados_periodo_local=Count(
                    'get_equipo_local', # related_name de Partido.equipo_local
                    filter=Q(get_equipo_local__estado='FINALIZADO', get_equipo_local__fecha__gte=fecha_desde)
                ),
                partidos_jugados_periodo_visitante=Count(
                    'get_equipo_visitante', # related_name de Partido.equipo_visitante
                    filter=Q(get_equipo_visitante__estado='FINALIZADO', get_equipo_visitante__fecha__gte=fecha_desde)
                ),
                victorias_periodo_local=Count(
                    'get_equipo_local', 
                    filter=Q(get_equipo_local__estado='FINALIZADO', 
                             get_equipo_local__fecha__gte=fecha_desde, 
                             get_equipo_local__goles_local__gt=F('get_equipo_local__goles_visitante'))
                ),
                victorias_periodo_visitante=Count(
                    'get_equipo_visitante', 
                    filter=Q(get_equipo_visitante__estado='FINALIZADO', 
                             get_equipo_visitante__fecha__gte=fecha_desde, 
                             get_equipo_visitante__goles_visitante__gt=F('get_equipo_visitante__goles_local'))
                )
            ).annotate(
                # Sumar los conteos para obtener el total del periodo
                partidos_jugados_periodo=ExpressionWrapper(F('partidos_jugados_periodo_local') + F('partidos_jugados_periodo_visitante'), output_field=IntegerField()),
                victorias_periodo=ExpressionWrapper(F('victorias_periodo_local') + F('victorias_periodo_visitante'), output_field=IntegerField())
            ).filter(partidos_jugados_periodo__gt=0).order_by('-victorias_periodo', '-partidos_jugados_periodo')[:10]
        else: # Todo el tiempo
            if hasattr(Equipo, 'partidos_jugados_permanente') and hasattr(Equipo, 'victorias_permanente'):
                print("DEBUG: Usando campos precalculados para Equipos (Todo el tiempo)")
                equipos_query = equipos_query.filter(partidos_jugados_permanente__gt=0).order_by('-victorias_permanente', '-partidos_jugados_permanente')[:10]
            else: # Fallback si no tienes los campos precalculados
                equipos_query = equipos_query.annotate(
                    num_partidos_local=Count('get_equipo_local', filter=Q(get_equipo_local__estado='FINALIZADO')),
                    num_partidos_visitante=Count('get_equipo_visitante', filter=Q(get_equipo_visitante__estado='FINALIZADO')),
                    num_victorias_local=Count('get_equipo_local', filter=Q(get_equipo_local__estado='FINALIZADO', get_equipo_local__goles_local__gt=F('get_equipo_local__goles_visitante'))),
                    num_victorias_visitante=Count('get_equipo_visitante', filter=Q(get_equipo_visitante__estado='FINALIZADO', get_equipo_visitante__goles_visitante__gt=F('get_equipo_visitante__goles_local')))
                ).annotate(
                    num_partidos=ExpressionWrapper(F('num_partidos_local') + F('num_partidos_visitante'), output_field=IntegerField()),
                    num_victorias=ExpressionWrapper(F('num_victorias_local') + F('num_victorias_visitante'), output_field=IntegerField())
                ).filter(num_partidos__gt=0).order_by('-num_victorias', '-num_partidos')[:10]

        context['top_equipos_activos'] = equipos_query

        # --- 4. Canchas más Populares (más partidos jugados en el periodo) (Top 10) ---
        # related_name de Partido.cancha es 'get_cancha_partido'
        canchas_query = Cancha.objects.filter(disponible=True)
        if fecha_desde:
            canchas_query = canchas_query.annotate(
                num_partidos_cancha=Count(
                    'get_cancha_partido', 
                    filter=Q(get_cancha_partido__estado='FINALIZADO', get_cancha_partido__fecha__gte=fecha_desde)
                )
            ).filter(num_partidos_cancha__gt=0).order_by('-num_partidos_cancha')[:10]
        else: # Todo el tiempo
            canchas_query = canchas_query.annotate(
                num_partidos_cancha=Count(
                    'get_cancha_partido',
                    filter=Q(get_cancha_partido__estado='FINALIZADO')
                )
            ).filter(num_partidos_cancha__gt=0).order_by('-num_partidos_cancha')[:10]
            
        context['top_canchas_populares'] = canchas_query

        return context

================
File: app/views/mis_partidos_views.py
================
from django.views.generic import ListView
from django.contrib.auth.mixins import LoginRequiredMixin
from app.models.partido import Partido
from django.utils import timezone as django_timezone
from django.db.models import Q 


class MisPartidosView(LoginRequiredMixin, ListView):
    model = Partido # Modelo base, aunque filtraremos mucho
    template_name = 'partidos/mis_partidos.html'
    context_object_name = 'partidos_list' # No lo usaremos directamente, pero ListView lo necesita
    paginate_by = 10 

    def get_queryset(self):
        """
        Este queryset base no se usará directamente para renderizar,
        pero ListView lo necesita. Podemos devolver un queryset vacío
        o uno genérico, ya que la lógica principal estará en get_context_data.
        """
        return Partido.objects.none()

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        usuario_actual = self.request.user
        ahora = django_timezone.now()

        # Partidos en los que el usuario está inscrito o es creador
        partidos_del_usuario = Partido.objects.filter(
            Q(jugadores=usuario_actual) | Q(creador=usuario_actual)
        ).distinct().select_related('cancha', 'creador', 'equipo_local', 'equipo_visitante').prefetch_related('jugadores').order_by('fecha')

        # 1. Próximos Partidos Inscritos/Creados
        #    (Estado PROGRAMADO o EN_CURSO y fecha de inicio futura o actual)
        context['proximos_partidos'] = partidos_del_usuario.filter(
            Q(estado='PROGRAMADO') | Q(estado='EN_CURSO'),
            fecha__gte=ahora
        ).order_by('fecha')

        # 2. Partidos Jugados (Historial)
        #    (Estado FINALIZADO o partidos pasados)
        context['partidos_jugados'] = partidos_del_usuario.filter(
            Q(estado='FINALIZADO') | Q(fecha__lt=ahora, estado__in=['PROGRAMADO', 'EN_CURSO', 'CANCELADO'])
            # Incluimos programados/en_curso/cancelados pasados por si acaso
        ).order_by('-fecha') # Los más recientes primero
        
        # Añadir información contextual a cada lista si es necesario (como en BuscarPartidos)
        # Por ejemplo, para 'proximos_partidos':
        proximos_info = []
        for partido in context['proximos_partidos']:
            proximos_info.append({
                'partido': partido,
                'es_creador': (partido.creador == usuario_actual),
                'plazas_disponibles': partido.max_jugadores - partido.jugadores.count(),
                'inscripcion_esta_abierta': partido.inscripcion_abierta
            })
        context['proximos_partidos_info'] = proximos_info

        historial_info = []
        for partido in context['partidos_jugados']:
            historial_info.append({
                'partido': partido,
                'es_creador': (partido.creador == usuario_actual),
                # Para partidos finalizados, mostrar el resultado
                'resultado_str': f"{partido.goles_local or '-'} : {partido.goles_visitante or '-'}" if partido.estado == 'FINALIZADO' else "No finalizado"
            })
        context['partidos_jugados_info'] = historial_info


        context['titulo_pagina'] = "Mis Partidos"
        return context

================
File: app/apps.py
================
from django.apps import AppConfig


class AppConfig(AppConfig):
    default_auto_field = 'django.db.models.BigAutoField'
    name = 'app'

================
File: app/context_processors.py
================
def common_user_info(request):
    context = {}
    if request.user.is_authenticated:
        context['current_user_nombre'] = request.user.nombre
        context['current_user_posicion'] = request.user.get_posicion_display() if request.user.posicion else "Sin especificar"
        if request.user.imagen_perfil:
            context['current_user_avatar_url'] = request.user.imagen_perfil.url
        else:
            # Lógica para avatar por defecto según nivel
            
            if request.user.calificacion >= 1500:
                context['current_user_avatar_url'] = '/static/images/avatar_pro.png' 
            elif request.user.calificacion >= 1200:
                context['current_user_avatar_url'] = '/static/images/avatar_mid.png' 
            else:
                context['current_user_avatar_url'] = '/static/images/avatar_default.png' 
    return context

================
File: app/styles.css
================
body {
    color:#00d4b1;
    color: #00a087; 
    color: #26e5c7;
}

================
File: app/tests.py
================
from django.test import TestCase

# Create your tests here.

================
File: app/forms/canchas_forms.py
================
from django import forms
from app.models.cancha import Cancha



class CanchasForm(forms.ModelForm):
    class Meta:
        model = Cancha
        fields = ['nombre_cancha', 'ubicacion', 'tipo', 'propiedad', 'superficie',
                 'costo_partido', 'descripcion', 'disponible', 'imagen']
        
        def __init__(self, *args, **kwargs):
            super(CanchasForm, self).__init__(*args, **kwargs)
        
            # Nombres personalizados para los campos
            self.fields['nombre_cancha'].label = "Nombre de la cancha"
            self.fields['ubicacion'].label = "Dirección completa"
            self.fields['tipo'].label = "Formato de la cancha (Ej: Fútbol 7)"
            self.fields['propiedad'].label = "Tipo de propiedad"
            self.fields['superficie'].label = "Superficie de juego"
            self.fields['costo_partido'].label = "Costo del Alquiler/Partido (€) (Dejar en 0 o vacío si es gratis)"
            self.fields['descripcion'].label = "Descripción Adicional"
            self.fields['disponible'].label = "Disponible para reservas generales"
            self.fields['imagen'].label = "Foto de la cancha (opcional)"

================
File: app/forms/equipo_forms.py
================
from django import forms

from app.models.equipo import Equipo
from django.contrib.auth import get_user_model; User = get_user_model()
from django.db.models import Q



class EquipoPermanenteForm(forms.ModelForm):

    miembros_iniciales = forms.ModelMultipleChoiceField(
        queryset=User.objects.all().order_by('nombre'), # Podrías filtrar esto
        widget=forms.SelectMultiple(attrs={'class': 'form-select bg-dark text-white border-secondary', 'size': '5'}),
        required=False,
        label="Añadir Miembros Iniciales (Opcional)",
        help_text="Mantén presionada la tecla Ctrl (o Cmd en Mac) para seleccionar varios."
    )

    class Meta:
        model = Equipo
        fields = [
            'nombre_equipo', 'descripcion', 
            'team_shield', 'team_banner',
        ]
        widgets = {
            'nombre_equipo': forms.TextInput(attrs={'class': 'form-control bg-dark text-white border-secondary', 'placeholder': 'Nombre de tu escuadra'}),
            'descripcion': forms.Textarea(attrs={'rows': 3, 'class': 'form-control bg-dark text-white border-secondary', 'placeholder': 'Lema, historia, objetivos...'}),
            'team_shield': forms.ClearableFileInput(attrs={'class': 'form-control form-control-sm bg-dark text-white border-secondary'}),
            'team_banner': forms.ClearableFileInput(attrs={'class': 'form-control form-control-sm bg-dark text-white border-secondary'}),
        }
        labels = {
            'nombre_equipo': "Nombre del Equipo",
            'descripcion': "Descripción del Equipo",
            'team_shield': "Escudo del Equipo (Opcional)",
            'team_banner': "Banner del Equipo (Opcional)",
        }

    def __init__(self, *args, **kwargs):
        self.user = kwargs.pop('user', None) # Recibir el usuario actual
        super().__init__(*args, **kwargs)
        
        # Excluir al usuario actual de la lista de miembros iniciales seleccionables,
        # ya que se añadirá automáticamente como capitán y miembro.
        if self.user:
            self.fields['miembros_iniciales'].queryset = User.objects.exclude(pk=self.user.pk).order_by('nombre')


    def clean_nombre_equipo(self):
        nombre = self.cleaned_data.get('nombre_equipo')
        query = Equipo.objects.filter(nombre_equipo__iexact=nombre, tipo_equipo='PERMANENTE')
        
        # Si estamos editando (self.instance.pk existe), excluimos el propio equipo de la comprobación
        if self.instance and self.instance.pk:
            query = query.exclude(pk=self.instance.pk)
            
        if query.exists():
            raise forms.ValidationError("Ya existe un equipo permanente con este nombre. Por favor, elige otro.")
        return nombre



class AsignarEquiposForm(forms.Form):
    def __init__(self, *args, **kwargs):
        jugadores_inscritos = kwargs.pop('jugadores_inscritos', None)
        partido = kwargs.pop('partido', None)
        super().__init__(*args, **kwargs)

        EQUIPO_CHOICES = [
            ('', 'Sin Asignar'), 
            ('local', 'Equipo Local'),
            ('visitante', 'Equipo Visitante'),
        ]

        if jugadores_inscritos:
            for jugador in jugadores_inscritos:
                initial_assignment = ''
                if partido and partido.equipo_local and jugador in partido.equipo_local.jugadores.all():
                    initial_assignment = 'local'
                elif partido and partido.equipo_visitante and jugador in partido.equipo_visitante.jugadores.all():
                    initial_assignment = 'visitante'
                

                self.fields[f'jugador_{jugador.id}'] = forms.ChoiceField(
                    choices=EQUIPO_CHOICES,
                    required=False,
                    label=jugador.nombre,
                    initial=initial_assignment,
                    widget=forms.Select(attrs={'class': 'form-select form-select-sm mb-1 d-none player-assignment-select', 'data-jugador-id': jugador.id}) 
                )

================
File: app/forms/partido_forms.py
================
from datetime import datetime, time, timedelta
from django import forms
from app.models.cancha import Cancha
from app.models.equipo import Equipo
from app.models.partido import Partido
from django.db.models import Q


from django.utils import timezone as django_timezone
from django.utils.timezone import make_aware


# PartidoForm && ResultadoPartidoForm


class PartidoForm(forms.ModelForm):
    
    dia_partido = forms.DateField(
        widget=forms.DateInput(
            attrs={
                'type': 'date',
                'class': 'form-control bg-dark text-white border-secondary',
                
            }
        ),
        label="Día del Partido"
    )

    HORARIOS_CHOICES = [] #PONER TAMBIEN EN EL MODELO
    for hora in range(10, 23): 
        HORARIOS_CHOICES.append((time(hora, 0).strftime('%H:%M'), f"{hora:02d}:00"))
        

    hora_inicio_partido = forms.ChoiceField(
        choices=HORARIOS_CHOICES,
        widget=forms.Select(attrs={'class': 'form-select bg-dark text-white border-secondary'}),
        label="Hora de Inicio del Partido"
    )
    equipo_local = forms.ModelChoiceField(
        queryset=Equipo.objects.filter(tipo_equipo='PERMANENTE', activo=True), 
        required=False,
        label="Equipo Local (Opcional)",
        widget=forms.Select(attrs={'class': 'form-select bg-dark text-white border-secondary'}),
        empty_label=" (Ninguno - Partido Abierto/Equipos por formar)"
    )

    equipo_visitante = forms.ModelChoiceField(
        queryset=Equipo.objects.filter(tipo_equipo='PERMANENTE', activo=True), 
        required=False,
        label="Equipo Visitante (Opcional)",
        widget=forms.Select(attrs={'class': 'form-select bg-dark text-white border-secondary'}),
        empty_label=" (Ninguno - Partido Abierto/Equipos por formar)"
    )

    cancha = forms.ModelChoiceField(
        queryset=Cancha.objects.filter(disponible=True).order_by('nombre_cancha'),
        widget=forms.Select(attrs={'class': 'form-select bg-dark text-white border-secondary'}),
        label="Cancha",
        empty_label="Selecciona una cancha"
    )
    
    nivel = forms.ChoiceField(
        choices=Partido.NIVEL_CHOICES,
        required=False,
        widget=forms.Select(),
        label="Nivel Estimado del Partido"
    )

    class Meta:
        model = Partido
        fields = [
            'cancha', 'tipo', 'nivel', 'modalidad',
            'max_jugadores', 'costo', 'metodo_pago', 'comentarios',
            'equipo_local', 'equipo_visitante'
        ]

    def __init__(self, *args, **kwargs):
        self.user = kwargs.pop('user', None)
        super().__init__(*args, **kwargs)
        #para 'equipo_local', solo los equipos del usuario
        if self.user:
            self.fields['equipo_local'].queryset = Equipo.objects.filter(
                Q(capitan=self.user) | Q(jugadores=self.user),
                tipo_equipo='PERMANENTE', activo=True
            ).distinct().order_by('nombre_equipo')


    def clean(self):
        cleaned_data = super().clean()
        dia = cleaned_data.get('dia_partido')
        hora_str = cleaned_data.get('hora_inicio_partido') 
        cancha = cleaned_data.get('cancha')

        dia_limite_str = cleaned_data.get('fecha_limite_inscripcion_dia')
        hora_limite_str = cleaned_data.get('fecha_limite_inscripcion_hora')


        equipo_local = cleaned_data.get('equipo_local')
        equipo_visitante = cleaned_data.get('equipo_visitante')

        #logica para que no existan auto-enfrentamientos
        if equipo_local and equipo_visitante and equipo_local == equipo_visitante:
            self.add_error('equipo_visitante', "El equipo visitante no puede ser el mismo que el equipo local.")
        
        if (equipo_local and not equipo_visitante) or (not equipo_local and equipo_visitante):
            self.add_error(None, "Si eliges un equipo permanente, debes seleccionar tanto el local como el visitante, o ninguno para un partido abierto.")


        if not dia:
            self.add_error('dia_partido', "Debes seleccionar un día para el partido.")
            return cleaned_data
        
        if not hora_str:
            self.add_error('hora_inicio_partido', "Debes seleccionar una hora de inicio.")
            return cleaned_data

        # Convertir la hora_str a un objeto time
        try:
            hora_obj = datetime.strptime(hora_str, '%H:%M').time()
        except ValueError:
            self.add_error('hora_inicio_partido', "Hora de inicio inválida.")
            return cleaned_data

        # Combinar día y hora para crear el datetime de inicio
        naive_datetime = datetime.combine(dia, hora_obj)
        fecha_inicio = make_aware(naive_datetime)

        # Validar que la fecha de inicio no sea en el pasado
        if fecha_inicio < django_timezone.now():
            self.add_error('dia_partido', 'La fecha y hora de inicio del partido no puede ser en el pasado.')
            self.add_error('hora_inicio_partido', 'La fecha y hora de inicio del partido no puede ser en el pasado.')
            return cleaned_data # Detener si la fecha es inválida

        # Guardar el datetime combinado en cleaned_data para que la vista lo use
        cleaned_data['fecha'] = fecha_inicio

        if dia_limite_str and hora_limite_str: # Si el usuario proporcionó ambos
            try:
                hora_limite_obj = datetime.strptime(hora_limite_str, '%H:%M').time()
                naive_limite_dt = datetime.combine(dia_limite_str, hora_limite_obj)
                fecha_limite = django_timezone.make_aware(naive_limite_dt)
                if fecha_limite >= fecha_inicio:
                    self.add_error('fecha_limite_inscripcion_dia', 'La fecha límite de inscripción debe ser anterior a la fecha del partido.')
                else:
                    cleaned_data['fecha_limite_inscripcion'] = fecha_limite
            except ValueError:
                self.add_error('fecha_limite_inscripcion_hora', 'Hora límite de inscripción inválida.')
        elif dia_limite_str or hora_limite_str: # Si solo proporcionó uno
             self.add_error('fecha_limite_inscripcion_dia', 'Debes proporcionar tanto el día como la hora para la fecha límite, o dejar ambos en blanco para usar el valor por defecto (1h antes del partido).')
        else:
            # Si se dejan en blanco, el modelo lo calculará en save()
            cleaned_data['fecha_limite_inscripcion'] = None # Indicar que se use el default del modelo/save

        
        if cancha: 
            fecha_fin_propuesta = fecha_inicio + timedelta(hours=1)

            partidos_conflictivos_query = Partido.objects.filter(
                cancha=cancha,
                estado__in=['PROGRAMADO', 'EN_CURSO'],
                fecha__lt=fecha_fin_propuesta, 
            )

            if self.instance and self.instance.pk: 
                partidos_conflictivos_query = partidos_conflictivos_query.exclude(pk=self.instance.pk)
            
            for partido_existente in partidos_conflictivos_query:
                fin_existente = partido_existente.fecha + timedelta(hours=1)
                if fin_existente > fecha_inicio:
                    self.add_error('hora_inicio_partido', forms.ValidationError(
                        f"La cancha '{cancha.nombre_cancha}' ya está reservada de "
                        f"{partido_existente.fecha.strftime('%H:%M')} a {fin_existente.strftime('%H:%M')} "
                        f"el {partido_existente.fecha.strftime('%d/%m/%Y')}. "
                        f"Por favor, elige otro horario o cancha.",
                        code='solapamiento'
                    ))
                    self.add_error('cancha', "Horario no disponible.")
                    break 
        
        # Lógica de costo y método de pago 
        costo = cleaned_data.get("costo")
        metodo_pago = cleaned_data.get("metodo_pago")
        if costo is not None:
            if costo > 0 and metodo_pago == 'GRATIS':
                self.add_error('metodo_pago', 'Si el partido tiene un costo, el método de pago no puede ser "Gratis".')
            elif costo == 0 and metodo_pago != 'GRATIS' and metodo_pago is not None:
                 cleaned_data['metodo_pago'] = 'GRATIS'
        elif metodo_pago != 'GRATIS' and metodo_pago is not None:
             self.add_error('costo', 'Debes especificar un costo o seleccionar "Gratis" como método de pago si el campo costo está vacío.')

        return cleaned_data





class ResultadoPartidoForm(forms.Form):
    goles_local = forms.IntegerField(
        label="Goles del Equipo Local",
        min_value=0,
        widget=forms.NumberInput(attrs={'class': 'form-control bg-dark text-white border-secondary', 'placeholder': '0'})
    )
    goles_visitante = forms.IntegerField(
        label="Goles del Equipo Visitante",
        min_value=0,
        widget=forms.NumberInput(attrs={'class': 'form-control bg-dark text-white border-secondary', 'placeholder': '0'})
    )

================
File: app/models/partido.py
================
from datetime import timedelta
import uuid
from django.db import models
from django.utils import timezone
from django.core.validators import MinValueValidator

from app.models.historial import HistorialELO
from app.models.user import User




class Partido(models.Model):
    TIPO_CHOICES = [
        ('SALA', 'Fútbol Sala'),
        ('F7', 'Fútbol 7'),
        ('F11', 'Fútbol 11'),
    ]
    
    MODALIDAD_CHOICES = [
        ('AMISTOSO', 'Amistoso'),
        ('COMPETITIVO', 'Competitivo'),
    ]
    
    NIVEL_CHOICES = [ 
        ('', 'Cualquier nivel'),
        ('PRINCIPIANTE', 'Principiante'),
        ('INTERMEDIO', 'Intermedio'),
        ('AVANZADO', 'Avanzado'),
        ('PRO', 'Profesional/Muy Alto'),
    ]

    ESTADO_CHOICES = [
        ('PROGRAMADO', 'Programado'),
        ('EN_CURSO', 'En curso'),
        ('FINALIZADO', 'Finalizado'),
        ('CANCELADO', 'Cancelado'),
    ]
    
    METODO_PAGO_CHOICES = [
        ('EFECTIVO', 'Efectivo'),
        ('Bizum', 'Bizum'),
        ('GRATIS', 'Gratuito'),
    ]

    id_partido = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    fecha = models.DateTimeField(verbose_name="Fecha y Hora de Inicio")
    fecha_limite_inscripcion = models.DateTimeField(
        verbose_name="Fecha Límite de Inscripción",
        blank=True, null=True,
        help_text="Hasta cuándo se pueden inscribir los jugadores. Si se deja en blanco, se calculará una hora antes del partido."
    )

    cancha = models.ForeignKey("app.Cancha", on_delete=models.CASCADE, related_name='get_cancha_partido')
    tipo = models.CharField(max_length=4, choices=TIPO_CHOICES)
    nivel = models.CharField(max_length=50, choices=NIVEL_CHOICES, blank=True, null=True)
    modalidad = models.CharField(max_length=11, choices=MODALIDAD_CHOICES, blank=True, null=True)
    max_jugadores = models.PositiveIntegerField(validators=[MinValueValidator(2)])
    costo = models.DecimalField(max_digits=10, decimal_places=2, default=0, blank=True, null=True)
    metodo_pago = models.CharField(max_length=13, choices=METODO_PAGO_CHOICES, blank=True, null=True)
    creador = models.ForeignKey("app.User", on_delete=models.CASCADE, related_name='get_user_creador')
    jugadores = models.ManyToManyField("app.User", related_name='get_jugadores_partido', blank=True)
    equipo_local = models.ForeignKey("app.Equipo", on_delete=models.SET_NULL, null=True, blank=True, related_name='get_equipo_local')
    equipo_visitante = models.ForeignKey("app.Equipo", on_delete=models.SET_NULL, null=True, blank=True, related_name='get_equipo_visitante')
    goles_local = models.PositiveIntegerField(null=True, blank=True)
    goles_visitante = models.PositiveIntegerField(null=True, blank=True)
    estado = models.CharField(max_length=10, choices=ESTADO_CHOICES, default='PROGRAMADO')
    calificacion_actualizada = models.BooleanField(default=False)
    comentarios = models.TextField(blank=True, null=True)

    @property
    def fecha_fin_calculada(self): # Propiedad para calcular la hora de finalización (1 hora después)
        if self.fecha:
            return self.fecha + timedelta(hours=1)
        return None
    
    @property
    def inscripcion_abierta(self): #Determina si la inscripción al partido sigue abierta.
        
        ahora = timezone.now()
        limite = self.fecha_limite_inscripcion_efectiva
        return self.estado == 'PROGRAMADO' and ahora < limite and self.jugadores.count() < self.max_jugadores
    
    @property
    def fecha_limite_inscripcion_efectiva(self): #Devuelve la fecha límite de inscripción, calculándola si no está definida.
        
        if self.fecha_limite_inscripcion:
            return self.fecha_limite_inscripcion
        if self.fecha:
            return self.fecha - timedelta(hours=1) # Por defecto, 1 hora antes del partido
        return None
    
    def save(self, *args, **kwargs): # Calcular fecha_limite_inscripcion por defecto si no se provee

        if not self.fecha_limite_inscripcion and self.fecha:
            self.fecha_limite_inscripcion = self.fecha - timedelta(hours=1)
        super().save(*args, **kwargs)


    def actualizar_calificaciones(self):
        if self.calificacion_actualizada or self.modalidad == 'AMISTOSO':
            return

        if not self.equipo_local or not self.equipo_visitante:
            return  

        if self.goles_local is None or self.goles_visitante is None:
            return

        K = 32  # Constante de sensibilidad ELO

        rating_local = self.equipo_local.calificacion_promedio()
        rating_visitante = self.equipo_visitante.calificacion_promedio()

        if self.goles_local > self.goles_visitante:
            score_local = 1
        elif self.goles_local < self.goles_visitante:
            score_local = 0
        else:
            score_local = 0.5

        score_visitante = 1 - score_local

        expected_local = 1 / (1 + 10 ** ((rating_visitante - rating_local) / 400))
        expected_visitante = 1 - expected_local

        for jugador in self.equipo_local.jugadores.all():
            calificacion_antes = jugador.calificacion
            jugador.calificacion += K * (score_local - expected_local)
            jugador.save()

            HistorialELO.objects.create(
                user=jugador,
                partido=self,
                calificacion_antes=calificacion_antes,
                calificacion_despues=jugador.calificacion
            )

        for jugador in self.equipo_visitante.jugadores.all():
            calificacion_antes = jugador.calificacion
            jugador.calificacion += K * (score_visitante - expected_visitante)
            jugador.save()

            HistorialELO.objects.create(
                user=jugador,
                partido=self,
                calificacion_antes=calificacion_antes,
                calificacion_despues=jugador.calificacion
            )

        self.calificacion_actualizada = True
        self.save(update_fields=['calificacion_actualizada'])

    def registrar_resultado_y_actualizar_stats(self, goles_local, goles_visitante):
        if self.estado == 'FINALIZADO':
        # Podrías permitir actualizar un resultado, pero cuidado con recalcular ELO y stats
        # messages.info(request, "El resultado de este partido ya fue registrado.")
        # return
            pass

        self.goles_local = goles_local
        self.goles_visitante = goles_visitante
        self.estado = 'FINALIZADO'
    
    # Actualizar estadísticas de equipos permanentes
        if self.equipo_local and self.equipo_local.tipo_equipo == 'PERMANENTE':
            self.equipo_local.partidos_jugados_permanente += 1
            if self.goles_local > self.goles_visitante:
                self.equipo_local.victorias_permanente += 1

            self.equipo_local.save()

        if self.equipo_visitante and self.equipo_visitante.tipo_equipo == 'PERMANENTE':
            self.equipo_visitante.partidos_jugados_permanente += 1
            if self.goles_visitante > self.goles_local:
                self.equipo_visitante.victorias_permanente += 1
            self.equipo_visitante.save()

    
    
    # Por ejemplo:
        jugadores_del_partido = list(self.equipo_local.jugadores.all()) + list(self.equipo_visitante.jugadores.all()) if self.equipo_local and self.equipo_visitante else list(self.jugadores.all())
    
        for jugador_obj in User.objects.filter(pk__in=[j.pk for j in set(jugadores_del_partido)]): # set() para evitar duplicados
            jugador_obj.partidos_jugados +=1
            if self.equipo_local and jugador_obj in self.equipo_local.jugadores.all():
                if self.goles_local > self.goles_visitante:
                    jugador_obj.victorias +=1
                elif self.goles_local == self.goles_visitante:
                    jugador_obj.empates +=1
                else:
                    jugador_obj.derrotas +=1
            elif self.equipo_visitante and jugador_obj in self.equipo_visitante.jugadores.all():
                if self.goles_visitante > self.goles_local:
                    jugador_obj.victorias +=1
                elif self.goles_local == self.goles_visitante:
                    jugador_obj.empates +=1
                else:
                    jugador_obj.derrotas +=1
            jugador_obj.save()


        self.save() # Guardar el partido con resultado y estado
    
    # Llamar a la actualización de ELO si no es amistoso
        if self.modalidad != 'AMISTOSO':
            self.actualizar_calificaciones()



    def __str__(self):
        hora_inicio_str = self.fecha.strftime('%d/%m/%Y %H:%M') if self.fecha else "Fecha no definida"
        hora_fin_str = self.fecha_fin_calculada.strftime('%H:%M') if self.fecha_fin_calculada else ""
        nombre_cancha_str = self.cancha.nombre_cancha if self.cancha else "Cancha no definida"
        
        return f"Partido en {nombre_cancha_str} - {hora_inicio_str} a {hora_fin_str}"

================
File: app/static/css/canchas/canchas_detalle_styles.css
================
/* ======= Variables CSS para Detalle de Cancha ======= */
:root {
    --seville-orange: #f7835c;
    --mint: #00d4b1;
    
    --detalle-primary: var(--seville-orange);
    --detalle-secondary: var(--mint);
    --detalle-accent-subtle: rgba(247, 131, 92, 0.06);
    --detalle-accent-border: rgba(247, 131, 92, 0.12);
    --detalle-mint-subtle: rgba(0, 212, 177, 0.06);
    --detalle-mint-border: rgba(0, 212, 177, 0.12);
    
    --detalle-text-primary: #ffffff;
    --detalle-text-secondary: #a8a8a8;
    --detalle-text-muted: #6b7280;
    --detalle-bg-primary: #0F172A;
    --detalle-bg-card: #1a1a2e;
    --detalle-bg-elevated: #242438;
    --detalle-border: rgba(255, 255, 255, 0.08);
    --detalle-border-strong: rgba(255, 255, 255, 0.12);
    --detalle-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    --detalle-shadow-strong: 0 8px 32px rgba(0, 0, 0, 0.25);
    --detalle-radius: 16px;
    --detalle-radius-small: 12px;
    --detalle-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ======= Reset y Base ======= */
body {
    background-color: var(--detalle-bg-primary);
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    color: var(--detalle-text-primary);
    line-height: 1.6;
}

/* ======= Container Principal ======= */
.detalle-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

/* ======= Breadcrumb Section ======= */
.breadcrumb-section {
    margin-bottom: 1rem;
}

.breadcrumb-nav {
    background: var(--detalle-bg-card);
    border: 1px solid var(--detalle-border);
    border-radius: var(--detalle-radius-small);
    padding: 1rem 1.5rem;
}

.breadcrumb {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex-wrap: wrap;
}

.breadcrumb-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    color: var(--detalle-text-secondary);
    text-decoration: none;
    transition: var(--detalle-transition);
}

.breadcrumb-item:hover {
    color: var(--detalle-primary);
}

.breadcrumb-item.active {
    color: var(--detalle-text-primary);
    font-weight: 500;
}

.breadcrumb-separator {
    color: var(--detalle-text-muted);
    font-size: 0.75rem;
}

/* ======= Hero Section ======= */
.cancha-hero-section {
    background: var(--detalle-bg-card);
    border: 1px solid var(--detalle-border);
    border-radius: var(--detalle-radius);
    overflow: hidden;
    box-shadow: var(--detalle-shadow);
    opacity: 0;
    transform: translateY(20px);
    transition: var(--detalle-transition);
}

.cancha-hero-section.animate-in {
    opacity: 1;
    transform: translateY(0);
}

/* ======= Hero Image ======= */
.hero-image-container {
    position: relative;
    height: 400px;
    overflow: hidden;
}

.hero-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.availability-badge {
    position: absolute;
    top: 1.5rem;
    right: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    border-radius: var(--detalle-radius-small);
    font-size: 0.875rem;
    font-weight: 500;
    backdrop-filter: blur(10px);
}

.badge-available {
    background: rgba(16, 185, 129, 0.9);
    color: white;
}

.badge-unavailable {
    background: rgba(239, 68, 68, 0.9);
    color: white;
}

/* ======= Hero Content ======= */
.hero-content {
    padding: 2rem;
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

/* ======= Title Section ======= */
.title-section {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 1rem;
    flex-wrap: wrap;
}

.cancha-title {
    font-size: clamp(1.75rem, 4vw, 2.25rem);
    font-weight: 800;
    color: var(--detalle-text-primary);
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    letter-spacing: -0.02em;
    line-height: 1.2;
}

.cancha-title i {
    color: var(--detalle-primary);
}

.propiedad-badge {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    border-radius: var(--detalle-radius-small);
    font-size: 0.875rem;
    font-weight: 500;
    flex-shrink: 0;
}

.badge-privada {
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.badge-publica {
    background: rgba(16, 185, 129, 0.1);
    border: 1px solid rgba(16, 185, 129, 0.2);
    color: #10b981;
}

/* ======= Info Grid ======= */
.info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
}

.info-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.5rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--detalle-border);
    border-radius: var(--detalle-radius-small);
    transition: var(--detalle-transition);
    opacity: 0;
    transform: translateY(15px);
}

.info-item.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.info-icon {
    width: 48px;
    height: 48px;
    background: var(--detalle-accent-subtle);
    border: 1px solid var(--detalle-accent-border);
    border-radius: var(--detalle-radius-small);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    color: var(--detalle-primary);
}

.info-content {
    flex: 1;
}

.info-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--detalle-text-primary);
    margin: 0 0 0.5rem 0;
}

.info-text {
    font-size: 0.9rem;
    color: var(--detalle-text-secondary);
    margin: 0;
}

/* ======= Descripción Section ======= */
.descripcion-section {
    padding: 1.5rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--detalle-border);
    border-radius: var(--detalle-radius-small);
}

.descripcion-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--detalle-text-primary);
    margin: 0 0 1rem 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.descripcion-title i {
    color: var(--detalle-secondary);
}

.descripcion-content {
    color: var(--detalle-text-secondary);
    line-height: 1.6;
}

.descripcion-content p {
    margin: 0;
}

/* ======= Action Section ======= */
.action-section {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

/* ======= Partidos Section ======= */
.partidos-section {
    background: var(--detalle-bg-card);
    border: 1px solid var(--detalle-border);
    border-radius: var(--detalle-radius);
    padding: 2rem;
    box-shadow: var(--detalle-shadow);
}

.section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 2rem;
    flex-wrap: wrap;
    gap: 1rem;
}

.section-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--detalle-text-primary);
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin: 0;
}

.section-title i {
    color: var(--detalle-primary);
}

.partidos-count {
    font-size: 0.9rem;
    color: var(--detalle-text-secondary);
    background: rgba(255, 255, 255, 0.05);
    padding: 0.5rem 1rem;
    border-radius: 8px;
    border: 1px solid var(--detalle-border);
}

/* ======= Partidos List ======= */
.partidos-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.partido-card {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    padding: 1.5rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--detalle-border);
    border-radius: var(--detalle-radius-small);
    text-decoration: none;
    color: inherit;
    transition: var(--detalle-transition);
    opacity: 0;
    transform: translateY(15px);
    position: relative;
}

.partido-card.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.partido-card:hover {
    background: rgba(255, 255, 255, 0.04);
    border-color: var(--detalle-border-strong);
    transform: translateY(-2px);
}

/* ======= Partido Fecha ======= */
.partido-fecha {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    flex-shrink: 0;
}

.fecha-display {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: var(--detalle-accent-subtle);
    border: 1px solid var(--detalle-accent-border);
    border-radius: var(--detalle-radius-small);
    padding: 0.75rem;
    min-width: 80px;
}

.fecha-dia {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--detalle-primary);
    line-height: 1;
}

.fecha-mes {
    font-size: 0.75rem;
    color: var(--detalle-text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.fecha-ano {
    font-size: 0.75rem;
    color: var(--detalle-text-muted);
}

.hora-display {
    text-align: center;
}

.hora {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--detalle-text-primary);
    background: rgba(255, 255, 255, 0.05);
    padding: 0.25rem 0.75rem;
    border-radius: 6px;
}

/* ======= Partido Info ======= */
.partido-info {
    flex: 1;
    min-width: 0;
}

.partido-titulo {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--detalle-text-primary);
    margin: 0 0 0.75rem 0;
}

.partido-detalles {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.detalle-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    color: var(--detalle-text-secondary);
}

.detalle-item i {
    color: var(--detalle-secondary);
}

/* ======= Partido Progreso ======= */
.partido-progreso {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    min-width: 120px;
}

.progreso-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.progreso-text {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--detalle-text-primary);
}

.progreso-label {
    font-size: 0.75rem;
    color: var(--detalle-text-muted);
}

.progreso-bar {
    height: 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    overflow: hidden;
}

.progreso-fill {
    height: 100%;
    background: var(--detalle-primary);
    transition: width 0.8s ease;
    border-radius: 3px;
}

/* ======= Partido Estado ======= */
.partido-estado {
    flex-shrink: 0;
}

.estado-badge {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    border-radius: 8px;
    font-size: 0.8rem;
    font-weight: 500;
}

.estado-disponible {
    background: rgba(16, 185, 129, 0.1);
    border: 1px solid rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.estado-completo {
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

/* ======= Link Indicator ======= */
.link-indicator {
    flex-shrink: 0;
    color: var(--detalle-text-muted);
    transition: var(--detalle-transition);
}

.partido-card:hover .link-indicator {
    color: var(--detalle-primary);
    transform: translateX(4px);
}

/* ======= Empty State ======= */
.empty-state {
   text-align: center;
   padding: 4rem 2rem;
   opacity: 0;
   transform: translateY(20px);
   transition: var(--detalle-transition);
}

.empty-state.animate-in {
   opacity: 1;
   transform: translateY(0);
}

.empty-icon {
   width: 100px;
   height: 100px;
   background: rgba(255, 255, 255, 0.03);
   border-radius: 50%;
   display: flex;
   align-items: center;
   justify-content: center;
   margin: 0 auto 2rem;
   border: 1px solid var(--detalle-border);
}

.empty-icon i {
   font-size: 2.5rem;
   color: var(--detalle-text-muted);
}

.empty-content {
   display: flex;
   flex-direction: column;
   gap: 1rem;
   align-items: center;
   max-width: 500px;
   margin: 0 auto;
}

.empty-title {
   font-size: 1.5rem;
   font-weight: 600;
   color: var(--detalle-text-primary);
   margin: 0;
}

.empty-desc {
   font-size: 1rem;
   color: var(--detalle-text-secondary);
   margin: 0;
   line-height: 1.6;
}

.empty-actions {
   margin-top: 1rem;
}

/* ======= Modal ======= */
.modal-overlay {
   display: none;
   position: fixed;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   background: rgba(0, 0, 0, 0.7);
   backdrop-filter: blur(5px);
   z-index: 1000;
   align-items: center;
   justify-content: center;
   padding: 1rem;
}

.modal-container {
   background: var(--detalle-bg-card);
   border: 1px solid var(--detalle-border);
   border-radius: var(--detalle-radius);
   box-shadow: var(--detalle-shadow-strong);
   max-width: 500px;
   width: 100%;
   max-height: 90vh;
   overflow-y: auto;
}

.modal-header {
   display: flex;
   align-items: center;
   justify-content: space-between;
   padding: 1.5rem;
   border-bottom: 1px solid var(--detalle-border);
}

.modal-title {
   font-size: 1.25rem;
   font-weight: 600;
   color: var(--detalle-text-primary);
   margin: 0;
   display: flex;
   align-items: center;
   gap: 0.5rem;
}

.modal-title i {
   color: var(--detalle-primary);
}

.modal-close {
   background: none;
   border: none;
   color: var(--detalle-text-muted);
   font-size: 1.25rem;
   cursor: pointer;
   padding: 0.5rem;
   border-radius: 6px;
   transition: var(--detalle-transition);
}

.modal-close:hover {
   color: var(--detalle-text-primary);
   background: rgba(255, 255, 255, 0.05);
}

.modal-body {
   padding: 1.5rem;
}

.contact-info {
   display: flex;
   flex-direction: column;
   gap: 1rem;
}

.contact-item {
   display: flex;
   align-items: center;
   gap: 1rem;
   padding: 1rem;
   background: rgba(255, 255, 255, 0.02);
   border: 1px solid var(--detalle-border);
   border-radius: var(--detalle-radius-small);
}

.contact-item i {
   color: var(--detalle-secondary);
   width: 20px;
   text-align: center;
}

.contact-item span {
   color: var(--detalle-text-secondary);
}

.modal-footer {
   padding: 1.5rem;
   border-top: 1px solid var(--detalle-border);
   display: flex;
   justify-content: flex-end;
}

/* ======= Botones ======= */
.btn {
   display: inline-flex;
   align-items: center;
   gap: 0.5rem;
   padding: 0.875rem 1.25rem;
   border-radius: var(--detalle-radius-small);
   font-size: 0.875rem;
   font-weight: 500;
   text-decoration: none;
   border: none;
   cursor: pointer;
   transition: var(--detalle-transition);
   font-family: inherit;
   white-space: nowrap;
   justify-content: center;
}

.btn:focus {
   outline: none;
   box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
}

.btn-primary {
   background: var(--detalle-primary);
   color: white;
   border: 1px solid var(--detalle-primary);
}

.btn-primary:hover {
   background: #e6743f;
   border-color: #e6743f;
   transform: translateY(-1px);
}

.btn-secondary {
   background: rgba(255, 255, 255, 0.05);
   color: var(--detalle-text-secondary);
   border: 1px solid var(--detalle-border);
}

.btn-secondary:hover {
   background: rgba(255, 255, 255, 0.08);
   color: var(--detalle-text-primary);
   border-color: var(--detalle-border-strong);
   transform: translateY(-1px);
}

/* ======= Responsive Design ======= */
@media (max-width: 1024px) {
   .info-grid {
       grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
       gap: 1rem;
   }
   
   .partido-card {
       flex-direction: column;
       align-items: flex-start;
       gap: 1rem;
   }
   
   .partido-fecha {
       flex-direction: row;
       align-items: center;
       gap: 1rem;
       width: 100%;
   }
   
   .partido-progreso {
       width: 100%;
   }
   
   .link-indicator {
       position: absolute;
       top: 1rem;
       right: 1rem;
   }
}

@media (max-width: 768px) {
   .detalle-container {
       padding: 1rem;
       gap: 1.5rem;
   }
   
   .hero-image-container {
       height: 300px;
   }
   
   .hero-content {
       padding: 1.5rem;
       gap: 1.5rem;
   }
   
   .title-section {
       flex-direction: column;
       align-items: flex-start;
       gap: 1rem;
   }
   
   .cancha-title {
       font-size: 1.75rem;
   }
   
   .info-grid {
       grid-template-columns: 1fr;
       gap: 1rem;
   }
   
   .info-item {
       padding: 1.25rem;
   }
   
   .info-icon {
       width: 40px;
       height: 40px;
   }
   
   .action-section {
       flex-direction: column;
   }
   
   .partidos-section {
       padding: 1.5rem;
   }
   
   .section-header {
       flex-direction: column;
       align-items: flex-start;
       gap: 1rem;
   }
   
   .partido-card {
       padding: 1.25rem;
   }
   
   .breadcrumb {
       gap: 0.5rem;
   }
   
   .breadcrumb-item {
       font-size: 0.8rem;
   }
   
   .breadcrumb-item span {
       display: none;
   }
}

@media (max-width: 480px) {
   .detalle-container {
       padding: 0.75rem;
   }
   
   .breadcrumb-nav {
       padding: 0.75rem 1rem;
   }
   
   .hero-image-container {
       height: 250px;
   }
   
   .hero-content {
       padding: 1.25rem;
   }
   
   .cancha-title {
       font-size: 1.5rem;
       flex-direction: column;
       align-items: flex-start;
       gap: 0.5rem;
   }
   
   .availability-badge {
       top: 1rem;
       right: 1rem;
       padding: 0.5rem 0.75rem;
       font-size: 0.8rem;
   }
   
   .propiedad-badge {
       padding: 0.5rem 0.75rem;
       font-size: 0.8rem;
   }
   
   .info-item {
       padding: 1rem;
       gap: 0.75rem;
   }
   
   .info-icon {
       width: 36px;
       height: 36px;
   }
   
   .info-title {
       font-size: 0.9rem;
   }
   
   .info-text {
       font-size: 0.85rem;
   }
   
   .descripcion-section {
       padding: 1.25rem;
   }
   
   .descripcion-title {
       font-size: 1rem;
   }
   
   .partidos-section {
       padding: 1.25rem;
   }
   
   .section-title {
       font-size: 1.25rem;
   }
   
   .partido-card {
       padding: 1rem;
   }
   
   .fecha-display {
       padding: 0.5rem;
       min-width: 70px;
   }
   
   .fecha-dia {
       font-size: 1.25rem;
   }
   
   .partido-titulo {
       font-size: 1rem;
   }
   
   .partido-progreso {
       min-width: 100px;
   }
   
   .empty-state {
       padding: 3rem 1.5rem;
   }
   
   .empty-icon {
       width: 80px;
       height: 80px;
   }
   
   .empty-icon i {
       font-size: 2rem;
   }
   
   .empty-title {
       font-size: 1.25rem;
   }
   
   .empty-desc {
       font-size: 0.9rem;
   }
   
   .btn {
       padding: 0.75rem 1rem;
       font-size: 0.8rem;
       width: 100%;
       justify-content: center;
   }
   
   .modal-container {
       margin: 1rem;
       max-width: calc(100% - 2rem);
   }
   
   .modal-header,
   .modal-body,
   .modal-footer {
       padding: 1.25rem;
   }
   
   .contact-item {
       padding: 0.75rem;
       gap: 0.75rem;
   }
}

/* ======= Animaciones ======= */
@keyframes fadeInUp {
   from {
       opacity: 0;
       transform: translateY(30px);
   }
   to {
       opacity: 1;
       transform: translateY(0);
   }
}

@keyframes slideInLeft {
   from {
       opacity: 0;
       transform: translateX(-30px);
   }
   to {
       opacity: 1;
       transform: translateX(0);
   }
}

.animate-in {
   animation: fadeInUp 0.6s ease forwards;
}

/* ======= Estados de carga ======= */
.btn:disabled {
   opacity: 0.6;
   cursor: not-allowed;
   transform: none !important;
}

.btn:disabled:hover {
   transform: none !important;
}

.hero-image[src=""] {
   background: var(--detalle-bg-elevated);
   display: flex;
   align-items: center;
   justify-content: center;
}

.hero-image[src=""]:before {
   content: '\f03e';
   font-family: 'Font Awesome 5 Free';
   font-weight: 900;
   font-size: 4rem;
   color: var(--detalle-text-muted);
}

/* ======= Accesibilidad ======= */
@media (prefers-reduced-motion: reduce) {
   * {
       animation-duration: 0.01ms !important;
       animation-iteration-count: 1 !important;
       transition-duration: 0.01ms !important;
   }
}

/* ======= Efectos especiales ======= */
.info-item:hover {
   background: rgba(255, 255, 255, 0.04);
   border-color: var(--detalle-border-strong);
}

.info-item:hover .info-icon {
   background: var(--detalle-mint-subtle);
   border-color: var(--detalle-mint-border);
   color: var(--detalle-secondary);
}

.cancha-hero-section::before {
   content: '';
   position: absolute;
   top: 0;
   left: 0;
   width: 100%;
   height: 3px;
   background: var(--detalle-primary);
   opacity: 0;
   transition: var(--detalle-transition);
}

.cancha-hero-section:hover::before {
   opacity: 1;
}

/* ======= Focus improvements ======= */
.partido-card:focus {
   outline: 2px solid var(--detalle-primary);
   outline-offset: 2px;
}

.breadcrumb-item:focus {
   outline: 2px solid var(--detalle-primary);
   outline-offset: 2px;
   border-radius: 4px;
}

.modal-close:focus {
   outline: 2px solid var(--detalle-primary);
   outline-offset: 2px;
}

/* ======= Loading states ======= */
.progreso-fill.loading {
   background: repeating-linear-gradient(
       90deg,
       var(--detalle-primary),
       var(--detalle-primary) 10px,
       rgba(247, 131, 92, 0.3) 10px,
       rgba(247, 131, 92, 0.3) 20px
   );
   background-size: 40px 100%;
   animation: loading-stripe 1s linear infinite;
}

@keyframes loading-stripe {
   0% {
       background-position: 0 0;
   }
   100% {
       background-position: 40px 0;
   }
}

================
File: app/static/css/equipo/crear_equipo_styles.css
================
/* ======= Variables CSS ======= */
:root {
    --seville-orange: #f7835c;
    --mint: #00d4b1;
    
    --primary: var(--seville-orange);
    --secondary: var(--mint);
    --accent-subtle: rgba(247, 131, 92, 0.06);
    --accent-border: rgba(247, 131, 92, 0.12);
    --mint-subtle: rgba(0, 212, 177, 0.06);
    --mint-border: rgba(0, 212, 177, 0.12);
    
    --text-primary: #ffffff;
    --text-secondary: #a8a8a8;
    --text-muted: #6b7280;
    --bg-primary: #0F172A;
    --bg-card: #1a1a2e;
    --bg-elevated: #242438;
    --border: rgba(255, 255, 255, 0.08);
    --border-strong: rgba(255, 255, 255, 0.12);
    --shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    --shadow-strong: 0 8px 32px rgba(0, 0, 0, 0.25);
    --radius: 16px;
    --radius-small: 12px;
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ======= Base ======= */
body {
    background-color: var(--bg-primary);
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    color: var(--text-primary);
    line-height: 1.6;
}

/* ======= Container ======= */
.crear-equipo-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

/* ======= Progress Stepper ======= */
.progress-stepper {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1rem;
}

.step {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    opacity: 0.5;
    transition: var(--transition);
}

.step.active,
.step.completed {
    opacity: 1;
}

.step-circle {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: var(--bg-card);
    border: 2px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--transition);
}

.step.active .step-circle {
    background: var(--primary);
    border-color: var(--primary);
    color: white;
}

.step.completed .step-circle {
    background: var(--secondary);
    border-color: var(--secondary);
    color: white;
}

.step-circle i {
    font-size: 1.125rem;
}

.step-label {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--text-secondary);
}

.step.active .step-label {
    color: var(--primary);
}

.step.completed .step-label {
    color: var(--secondary);
}

.step-line {
    width: 80px;
    height: 2px;
    background: var(--border);
    margin: 0 1rem;
}

/* ======= Form Main Card ======= */
.form-main-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: var(--shadow);
}

.form-header {
    background: var(--bg-elevated);
    padding: 2rem;
    text-align: center;
    border-bottom: 1px solid var(--border);
}

.form-title {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
}

.form-subtitle {
    font-size: 1rem;
    color: var(--text-secondary);
    margin: 0;
}

/* ======= Form Steps ======= */
.form-step {
    display: none;
    padding: 2rem;
}

.form-step.active {
    display: block;
    animation: fadeInUp 0.5s ease;
}

.step-content {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.step-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid var(--border);
}

.step-icon {
    width: 56px;
    height: 56px;
    background: var(--accent-subtle);
    border: 1px solid var(--accent-border);
    border-radius: var(--radius-small);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--primary);
}

.step-icon i {
    font-size: 1.5rem;
}

.step-info {
    flex: 1;
}

.step-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0 0 0.25rem 0;
}

.step-description {
    font-size: 0.875rem;
    color: var(--text-secondary);
    margin: 0;
}

/* ======= Fields Container ======= */
.fields-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.field-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.field-group.field-full {
    width: 100%;
}

.field-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--text-primary);
}

.field-label i {
    color: var(--secondary);
}

.required {
    color: #ef4444;
}

.field-wrapper {
    position: relative;
}

.field-wrapper input,
.field-wrapper textarea,
.field-wrapper select {
   width: 100%;
   padding: 0.875rem 1rem;
   background: rgba(255, 255, 255, 0.02);
   border: 1px solid var(--border);
   border-radius: var(--radius-small);
   color: var(--text-primary);
   font-size: 0.9rem;
   transition: var(--transition);
   font-family: inherit;
}

.field-wrapper input:focus,
.field-wrapper textarea:focus,
.field-wrapper select:focus {
   outline: none;
   border-color: var(--primary);
   box-shadow: 0 0 0 3px rgba(247, 131, 92, 0.1);
   background: rgba(255, 255, 255, 0.05);
}

.field-wrapper.error input,
.field-wrapper.error textarea,
.field-wrapper.error select {
   border-color: #ef4444;
   background: rgba(239, 68, 68, 0.05);
}

.field-wrapper.success input,
.field-wrapper.success textarea,
.field-wrapper.success select {
   border-color: var(--secondary);
   background: var(--mint-subtle);
}

.field-feedback {
   position: absolute;
   bottom: -1.25rem;
   left: 0;
   font-size: 0.75rem;
   color: #ef4444;
   opacity: 0;
   transition: var(--transition);
}

.field-feedback.show {
   opacity: 1;
}

textarea {
   min-height: 100px;
   resize: vertical;
}

/* ======= Upload Zone ======= */
.upload-zone {
   position: relative;
   border: 2px dashed var(--border);
   border-radius: var(--radius-small);
   background: rgba(255, 255, 255, 0.02);
   transition: var(--transition);
   cursor: pointer;
   overflow: hidden;
}

.upload-zone:hover,
.upload-zone.dragover {
   border-color: var(--primary);
   background: var(--accent-subtle);
}

.upload-zone input[type="file"] {
   position: absolute;
   opacity: 0;
   width: 100%;
   height: 100%;
   cursor: pointer;
   z-index: 2;
}

.upload-content {
   display: flex;
   flex-direction: column;
   align-items: center;
   justify-content: center;
   padding: 3rem 2rem;
   gap: 1rem;
}

.upload-zone.has-image .upload-content {
   display: none;
}

.upload-icon {
   width: 64px;
   height: 64px;
   background: var(--bg-elevated);
   border-radius: 50%;
   display: flex;
   align-items: center;
   justify-content: center;
   color: var(--primary);
}

.upload-icon i {
   font-size: 1.75rem;
}

.upload-text {
   text-align: center;
}

.upload-primary {
   font-size: 1rem;
   font-weight: 500;
   color: var(--text-primary);
   margin: 0 0 0.25rem 0;
}

.upload-secondary {
   font-size: 0.875rem;
   color: var(--text-muted);
   margin: 0;
}

.upload-preview {
   position: relative;
   display: none;
   padding: 1rem;
}

.upload-preview.show {
   display: block;
}

.upload-preview img {
   width: 100%;
   max-height: 200px;
   object-fit: cover;
   border-radius: var(--radius-small);
}

.remove-image {
   position: absolute;
   top: 1.5rem;
   right: 1.5rem;
   width: 32px;
   height: 32px;
   background: rgba(239, 68, 68, 0.9);
   color: white;
   border: none;
   border-radius: 50%;
   cursor: pointer;
   display: flex;
   align-items: center;
   justify-content: center;
   transition: var(--transition);
}

.remove-image:hover {
   background: #ef4444;
   transform: scale(1.1);
}

/* ======= Colors Grid ======= */
.colors-grid {
   display: grid;
   grid-template-columns: 1fr 1fr;
   gap: 1.5rem;
}

.color-picker-wrapper {
   display: flex;
   align-items: center;
   gap: 1rem;
}

.color-picker-wrapper input[type="color"] {
   width: 60px;
   height: 40px;
   border: none;
   border-radius: 8px;
   cursor: pointer;
   flex-shrink: 0;
}

.color-display {
   flex: 1;
   padding: 0.5rem 0.75rem;
   background: var(--bg-elevated);
   border: 1px solid var(--border);
   border-radius: 6px;
   font-size: 0.875rem;
   font-family: monospace;
   color: var(--text-secondary);
}

/* ======= Preview Container ======= */
.preview-container {
   display: grid;
   grid-template-columns: 1fr 300px;
   gap: 2rem;
}

.team-preview {
   background: rgba(255, 255, 255, 0.02);
   border: 1px solid var(--border);
   border-radius: var(--radius-small);
   padding: 2rem;
   display: flex;
   flex-direction: column;
   gap: 1.5rem;
}

.preview-header {
   display: flex;
   align-items: center;
   gap: 1rem;
}

.preview-shield {
   width: 64px;
   height: 64px;
   background: var(--accent-subtle);
   border: 1px solid var(--accent-border);
   border-radius: var(--radius-small);
   display: flex;
   align-items: center;
   justify-content: center;
   flex-shrink: 0;
   overflow: hidden;
}

.preview-shield i {
   font-size: 1.5rem;
   color: var(--primary);
}

.preview-shield img {
   width: 100%;
   height: 100%;
   object-fit: cover;
}

.preview-info {
   flex: 1;
}

.preview-name {
   font-size: 1.25rem;
   font-weight: 600;
   color: var(--text-primary);
   margin: 0 0 0.5rem 0;
}

.preview-description {
   font-size: 0.875rem;
   color: var(--text-secondary);
   margin: 0;
   line-height: 1.5;
}

.preview-colors {
   display: flex;
   gap: 1rem;
}

.color-chip {
   display: flex;
   flex-direction: column;
   align-items: center;
   gap: 0.5rem;
}

.color-swatch {
   width: 40px;
   height: 40px;
   border-radius: 50%;
   border: 2px solid var(--border);
}

.primary-swatch {
   background-color: var(--primary);
}

.secondary-swatch {
   background-color: var(--secondary);
}

.color-name {
   font-size: 0.75rem;
   color: var(--text-muted);
   text-transform: uppercase;
   letter-spacing: 0.05em;
}

/* ======= Form Summary ======= */
.form-summary {
   background: var(--bg-elevated);
   border: 1px solid var(--border);
   border-radius: var(--radius-small);
   padding: 1.5rem;
}

.summary-title {
   font-size: 1rem;
   font-weight: 600;
   color: var(--text-primary);
   margin: 0 0 1rem 0;
}

.summary-items {
   display: flex;
   flex-direction: column;
   gap: 0.75rem;
}

.summary-item {
   display: flex;
   justify-content: space-between;
   align-items: center;
   gap: 1rem;
}

.summary-label {
   font-size: 0.875rem;
   color: var(--text-muted);
   font-weight: 500;
}

.summary-value {
   font-size: 0.875rem;
   color: var(--text-primary);
   text-align: right;
   word-break: break-word;
}

/* ======= Step Actions ======= */
.step-actions {
   display: flex;
   justify-content: space-between;
   align-items: center;
   padding-top: 1.5rem;
   border-top: 1px solid var(--border);
}

/* ======= Buttons ======= */
.btn {
   display: inline-flex;
   align-items: center;
   gap: 0.5rem;
   padding: 0.875rem 1.5rem;
   border-radius: var(--radius-small);
   font-size: 0.875rem;
   font-weight: 500;
   text-decoration: none;
   border: none;
   cursor: pointer;
   transition: var(--transition);
   font-family: inherit;
   white-space: nowrap;
   position: relative;
}

.btn:disabled {
   opacity: 0.6;
   cursor: not-allowed;
}

.btn-primary {
   background: var(--primary);
   color: white;
}

.btn-primary:hover:not(:disabled) {
   background: #e6743f;
   transform: translateY(-1px);
}

.btn-secondary {
   background: rgba(255, 255, 255, 0.05);
   color: var(--text-secondary);
   border: 1px solid var(--border);
}

.btn-secondary:hover:not(:disabled) {
   background: rgba(255, 255, 255, 0.08);
   color: var(--text-primary);
   transform: translateY(-1px);
}

.btn-submit {
   min-width: 140px;
}

.btn-submit .submit-spinner {
   display: none;
}

.btn-submit.loading .submit-text {
   opacity: 0;
}

.btn-submit.loading .submit-spinner {
   display: inline-flex;
   position: absolute;
   top: 50%;
   left: 50%;
   transform: translate(-50%, -50%);
}

/* ======= Field Help ======= */
.field-help {
   font-size: 0.75rem;
   color: var(--text-muted);
   margin-top: 0.25rem;
}

/* ======= Field Errors ======= */
.field-errors {
   margin-top: 0.25rem;
}

.error-text {
   display: block;
   font-size: 0.75rem;
   color: #ef4444;
}

/* ======= Form Errors Container ======= */
.form-errors-container {
   position: fixed;
   top: 2rem;
   right: 2rem;
   z-index: 1000;
}

.error-banner {
   display: flex;
   align-items: center;
   gap: 0.75rem;
   background: rgba(239, 68, 68, 0.9);
   color: white;
   padding: 1rem 1.5rem;
   border-radius: var(--radius-small);
   margin-bottom: 0.5rem;
   box-shadow: var(--shadow-strong);
   animation: slideInRight 0.3s ease;
}

/* ======= Responsive Design ======= */
@media (max-width: 768px) {
   .crear-equipo-container {
       padding: 1rem;
   }
   
   .progress-stepper {
       margin-bottom: 1.5rem;
   }
   
   .step-line {
       width: 40px;
       margin: 0 0.5rem;
   }
   
   .step-label {
       display: none;
   }
   
   .form-header {
       padding: 1.5rem;
   }
   
   .form-title {
       font-size: 1.5rem;
   }
   
   .form-step {
       padding: 1.5rem;
   }
   
   .step-header {
       flex-direction: column;
       text-align: center;
       gap: 1rem;
   }
   
   .colors-grid {
       grid-template-columns: 1fr;
       gap: 1rem;
   }
   
   .preview-container {
       grid-template-columns: 1fr;
       gap: 1.5rem;
   }
   
   .step-actions {
       flex-direction: column;
       gap: 1rem;
   }
   
   .btn {
       width: 100%;
       justify-content: center;
   }
   
   .upload-content {
       padding: 2rem 1rem;
   }
}

@media (max-width: 480px) {
   .crear-equipo-container {
       padding: 0.75rem;
   }
   
   .step-circle {
       width: 40px;
       height: 40px;
   }
   
   .step-circle i {
       font-size: 1rem;
   }
   
   .form-header {
       padding: 1.25rem;
   }
   
   .form-step {
       padding: 1.25rem;
   }
   
   .step-icon {
       width: 48px;
       height: 48px;
   }
   
   .fields-container {
       gap: 1.25rem;
   }
   
   .upload-icon {
       width: 56px;
       height: 56px;
   }
   
   .upload-icon i {
       font-size: 1.5rem;
   }
   
   .color-picker-wrapper {
       flex-direction: column;
       align-items: stretch;
       gap: 0.75rem;
   }
   
   .color-picker-wrapper input[type="color"] {
       width: 100%;
       height: 50px;
   }
   
   .preview-shield {
       width: 56px;
       height: 56px;
   }
   
   .color-swatch {
       width: 36px;
       height: 36px;
   }
}

/* ======= Animations ======= */
@keyframes fadeInUp {
   from {
       opacity: 0;
       transform: translateY(20px);
   }
   to {
       opacity: 1;
       transform: translateY(0);
   }
}

@keyframes slideInRight {
   from {
       opacity: 0;
       transform: translateX(100%);
   }
   to {
       opacity: 1;
       transform: translateX(0);
   }
}

/* ======= Accessibility ======= */
@media (prefers-reduced-motion: reduce) {
   * {
       animation-duration: 0.01ms !important;
       animation-iteration-count: 1 !important;
       transition-duration: 0.01ms !important;
   }
}

/* ======= Focus States ======= */
.btn:focus {
   outline: 2px solid var(--primary);
   outline-offset: 2px;
}

.field-wrapper input:focus,
.field-wrapper textarea:focus,
.field-wrapper select:focus {
   outline: none;
}

.upload-zone:focus-within {
   outline: 2px solid var(--primary);
   outline-offset: 2px;
}

/* ======= Loading States ======= */
.form-step.loading {
   opacity: 0.7;
   pointer-events: none;
}

.upload-zone.loading::after {
   content: '';
   position: absolute;
   top: 0;
   left: -100%;
   width: 100%;
   height: 100%;
   background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
   animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
   0% {
       left: -100%;
   }
   100% {
       left: 100%;
   }
}

================
File: app/static/css/equipo/detalle_equipo_styles.css
================
/* ======= Variables CSS para Detalle de Equipo ======= */
:root {
    --seville-orange: #f7835c;
    --mint: #00d4b1;
    
    --equipo-primary: var(--seville-orange);
    --equipo-secondary: var(--mint);
    --equipo-accent-subtle: rgba(247, 131, 92, 0.06);
    --equipo-accent-border: rgba(247, 131, 92, 0.12);
    --equipo-mint-subtle: rgba(0, 212, 177, 0.06);
    --equipo-mint-border: rgba(0, 212, 177, 0.12);
    
    --equipo-text-primary: #ffffff;
    --equipo-text-secondary: #a8a8a8;
    --equipo-text-muted: #6b7280;
    --equipo-bg-primary: #0F172A;
    --equipo-bg-card: #1a1a2e;
    --equipo-bg-elevated: #242438;
    --equipo-border: rgba(255, 255, 255, 0.08);
    --equipo-border-strong: rgba(255, 255, 255, 0.12);
    --equipo-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    --equipo-shadow-strong: 0 8px 32px rgba(0, 0, 0, 0.25);
    --equipo-radius: 16px;
    --equipo-radius-small: 12px;
    --equipo-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ======= Base ======= */
body {
    background-color: var(--equipo-bg-primary);
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    color: var(--equipo-text-primary);
    line-height: 1.6;
}

/* ======= Container ======= */
.detalle-equipo-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

/* ======= Hero Section ======= */
.equipo-hero-section {
    background: var(--equipo-bg-card);
    border: 1px solid var(--equipo-border);
    border-radius: var(--equipo-radius);
    overflow: hidden;
    box-shadow: var(--equipo-shadow);
    position: relative;
}

.hero-banner {
    position: relative;
    height: 250px;
    overflow: hidden;
}

.banner-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: var(--equipo-transition);
}

.banner-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to bottom, rgba(0,0,0,0.1), rgba(0,0,0,0.7));
}

.hero-content {
    position: relative;
    padding: 2rem;
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    gap: 2rem;
    margin-top: -4rem;
    z-index: 2;
}

/* ======= Team Identity ======= */
.equipo-identity {
    display: flex;
    align-items: flex-end;
    gap: 1.5rem;
    flex: 1;
}

.equipo-shield {
    width: 100px;
    height: 100px;
    border-radius: var(--equipo-radius-small);
    overflow: hidden;
    border: 3px solid var(--equipo-border-strong);
    background: var(--equipo-bg-elevated);
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.equipo-shield img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.shield-placeholder {
    color: var(--equipo-primary);
    font-size: 2rem;
}

.equipo-info {
    flex: 1;
    color: white;
}

.equipo-name {
    font-size: clamp(2rem, 4vw, 2.5rem);
    font-weight: 800;
    margin: 0 0 1rem 0;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    letter-spacing: -0.02em;
    line-height: 1.1;
}

.equipo-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
}

.meta-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.9);
}

.meta-item i {
    color: var(--equipo-primary);
}

/* ======= Hero Actions ======= */
.hero-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.member-badge {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    background: rgba(16, 185, 129, 0.2);
    border: 1px solid rgba(16, 185, 129, 0.3);
    border-radius: var(--equipo-radius-small);
    color: #10b981;
    font-size: 0.875rem;
    font-weight: 500;
}

/* ======= Main Content ======= */
.main-content {
    flex: 1;
}

.content-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
}

/* ======= Content Cards ======= */
.content-card {
    background: var(--equipo-bg-card);
    border: 1px solid var(--equipo-border);
    border-radius: var(--equipo-radius);
    overflow: hidden;
    box-shadow: var(--equipo-shadow);
    margin-bottom: 2rem;
    opacity: 0;
    transform: translateY(20px);
    transition: var(--equipo-transition);
}

.content-card.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.card-header {
    background: var(--equipo-bg-elevated);
    padding: 1.5rem;
    border-bottom: 1px solid var(--equipo-border);
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.card-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--equipo-text-primary);
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.card-title i {
    color: var(--equipo-primary);
}

.members-count {
    background: var(--equipo-accent-subtle);
    border: 1px solid var(--equipo-accent-border);
    color: var(--equipo-primary);
    padding: 0.5rem 0.75rem;
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 600;
}

.card-body {
    padding: 1.5rem;
}

/* ======= Team Description ======= */
.team-description p {
    color: var(--equipo-text-secondary);
    line-height: 1.6;
    margin: 0;
}

.empty-description {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: var(--equipo-text-muted);
    font-style: italic;
}

.empty-description i {
    color: var(--equipo-secondary);
}

/* ======= Members Grid ======= */
.members-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5rem;
}

.member-card {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--equipo-border);
    border-radius: var(--equipo-radius-small);
    padding: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: var(--equipo-transition);
    opacity: 0;
    transform: translateY(15px);
}

.member-card.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.member-card:hover {
    background: rgba(255, 255, 255, 0.04);
    border-color: var(--equipo-border-strong);
    transform: translateY(-2px);
}

.member-avatar {
    position: relative;
    flex-shrink: 0;
}

.member-avatar img {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid var(--equipo-border);
}

.captain-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    width: 24px;
    height: 24px;
    background: var(--equipo-primary);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 0.75rem;
    border: 2px solid var(--equipo-bg-card);
}

.member-info {
    flex: 1;
    min-width: 0;
}

.member-name {
    font-size: 1rem;
    font-weight: 600;
    color: var(--equipo-text-primary);
    margin: 0 0 0.25rem 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.member-position {
    font-size: 0.85rem;
    color: var(--equipo-text-muted);
    margin: 0 0 0.5rem 0;
}

.member-rating {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.85rem;
    color: var(--equipo-secondary);
    font-weight: 500;
}

.member-rating i {
    color: var(--equipo-primary);
}

/* ======= Stats Grid ======= */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
}

.stat-item {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--equipo-border);
    border-radius: var(--equipo-radius-small);
    padding: 1.25rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: var(--equipo-transition);
}

.stat-item:hover {
    background: rgba(255, 255, 255, 0.04);
    border-color: var(--equipo-border-strong);
}

.stat-icon {
    width: 48px;
    height: 48px;
    background: var(--equipo-accent-subtle);
    border: 1px solid var(--equipo-accent-border);
    border-radius: var(--equipo-radius-small);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--equipo-primary);
    flex-shrink: 0;
 }
 
 .stat-icon i {
    font-size: 1.25rem;
 }
 
 .stat-content {
    flex: 1;
 }
 
 .stat-number {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--equipo-text-primary);
    line-height: 1;
    margin-bottom: 0.25rem;
 }
 
 .stat-label {
    font-size: 0.85rem;
    color: var(--equipo-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
 }
 
 /* ======= Coming Soon Features ======= */
 .coming-soon-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
 }
 
 .feature-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--equipo-border);
    border-radius: 8px;
    color: var(--equipo-text-secondary);
    font-size: 0.9rem;
 }
 
 .feature-item i {
    color: var(--equipo-secondary);
    width: 16px;
    text-align: center;
 }
 
 /* ======= Quick Actions ======= */
 .actions-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
 }
 
 .action-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--equipo-border);
    border-radius: var(--equipo-radius-small);
    text-decoration: none;
    color: inherit;
    transition: var(--equipo-transition);
 }
 
 .action-item:hover:not(.disabled) {
    background: rgba(255, 255, 255, 0.04);
    border-color: var(--equipo-border-strong);
    transform: translateY(-1px);
 }
 
 .action-item.disabled {
    opacity: 0.5;
    cursor: not-allowed;
 }
 
 .action-icon {
    width: 40px;
    height: 40px;
    background: var(--equipo-mint-subtle);
    border: 1px solid var(--equipo-mint-border);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--equipo-secondary);
    flex-shrink: 0;
 }
 
 .action-content {
    flex: 1;
 }
 
 .action-content h4 {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--equipo-text-primary);
    margin: 0 0 0.25rem 0;
 }
 
 .action-content p {
    font-size: 0.8rem;
    color: var(--equipo-text-muted);
    margin: 0;
 }
 
 /* ======= Empty State ======= */
 .empty-state {
    text-align: center;
    padding: 3rem 2rem;
 }
 
 .empty-icon {
    width: 80px;
    height: 80px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.5rem;
    border: 1px solid var(--equipo-border);
 }
 
 .empty-icon i {
    font-size: 2rem;
    color: var(--equipo-text-muted);
 }
 
 .empty-content {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: center;
    max-width: 400px;
    margin: 0 auto;
 }
 
 .empty-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--equipo-text-primary);
    margin: 0;
 }
 
 .empty-desc {
    font-size: 0.95rem;
    color: var(--equipo-text-secondary);
    margin: 0;
    line-height: 1.5;
 }
 
 /* ======= Buttons ======= */
 .btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.875rem 1.25rem;
    border-radius: var(--equipo-radius-small);
    font-size: 0.875rem;
    font-weight: 500;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: var(--equipo-transition);
    font-family: inherit;
    white-space: nowrap;
 }
 
 .btn:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
 }
 
 .btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
 }
 
 .btn-primary {
    background: var(--equipo-primary);
    color: white;
    border: 1px solid var(--equipo-primary);
 }
 
 .btn-primary:hover:not(:disabled) {
    background: #e6743f;
    border-color: #e6743f;
    transform: translateY(-1px);
 }
 
 .btn-secondary {
    background: rgba(255, 255, 255, 0.05);
    color: var(--equipo-text-secondary);
    border: 1px solid var(--equipo-border);
 }
 
 .btn-secondary:hover:not(:disabled) {
    background: rgba(255, 255, 255, 0.08);
    color: var(--equipo-text-primary);
    border-color: var(--equipo-border-strong);
    transform: translateY(-1px);
 }
 
 .btn-outline {
    background: transparent;
    color: var(--equipo-text-secondary);
    border: 1px solid var(--equipo-border);
 }
 
 .btn-outline:hover:not(:disabled) {
    background: rgba(239, 68, 68, 0.1);
    color: #ef4444;
    border-color: rgba(239, 68, 68, 0.3);
 }
 
 /* ======= Modal ======= */
 .modal-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(5px);
    z-index: 1000;
    align-items: center;
    justify-content: center;
    padding: 1rem;
 }
 
 .modal-container {
    background: var(--equipo-bg-card);
    border: 1px solid var(--equipo-border);
    border-radius: var(--equipo-radius);
    box-shadow: var(--equipo-shadow-strong);
    max-width: 500px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
 }
 
 .modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.5rem;
    border-bottom: 1px solid var(--equipo-border);
 }
 
 .modal-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--equipo-text-primary);
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
 }
 
 .modal-title i {
    color: var(--equipo-primary);
 }
 
 .modal-close {
    background: none;
    border: none;
    color: var(--equipo-text-muted);
    font-size: 1.25rem;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 6px;
    transition: var(--equipo-transition);
 }
 
 .modal-close:hover {
    color: var(--equipo-text-primary);
    background: rgba(255, 255, 255, 0.05);
 }
 
 .modal-body {
    padding: 1.5rem;
 }
 
 .modal-footer {
    padding: 1.5rem;
    border-top: 1px solid var(--equipo-border);
    display: flex;
    justify-content: flex-end;
 }
 
 .coming-soon-message {
    text-align: center;
    padding: 2rem;
 }
 
 .coming-soon-icon {
    width: 80px;
    height: 80px;
    background: var(--equipo-accent-subtle);
    border: 1px solid var(--equipo-accent-border);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.5rem;
 }
 
 .coming-soon-icon i {
    font-size: 2rem;
    color: var(--equipo-primary);
 }
 
 .coming-soon-message h4 {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--equipo-text-primary);
    margin: 0 0 1rem 0;
 }
 
 .coming-soon-message p {
    color: var(--equipo-text-secondary);
    margin: 0;
    line-height: 1.6;
 }
 
 /* ======= Responsive Design ======= */
 @media (max-width: 1024px) {
    .content-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .members-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 1rem;
    }
    
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.75rem;
    }
 }
 
 @media (max-width: 768px) {
    .detalle-equipo-container {
        padding: 1rem;
        gap: 1.5rem;
    }
    
    .hero-banner {
        height: 200px;
    }
    
    .hero-content {
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: 1.5rem;
        padding: 1.5rem;
        margin-top: -3rem;
    }
    
    .equipo-identity {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
    }
    
    .equipo-shield {
        width: 80px;
        height: 80px;
    }
    
    .equipo-meta {
        justify-content: center;
        gap: 1rem;
    }
    
    .hero-actions {
        justify-content: center;
        width: 100%;
    }
    
    .card-header {
        padding: 1.25rem;
    }
    
    .card-body {
        padding: 1.25rem;
    }
    
    .members-grid {
        grid-template-columns: 1fr;
    }
    
    .member-card {
        padding: 1.25rem;
    }
    
    .stats-grid {
        grid-template-columns: 1fr;
    }
    
    .stat-item {
        padding: 1rem;
    }
    
    .modal-container {
        margin: 1rem;
        max-width: calc(100% - 2rem);
    }
    
    .modal-header,
    .modal-body,
    .modal-footer {
        padding: 1.25rem;
    }
 }
 
 @media (max-width: 480px) {
    .detalle-equipo-container {
        padding: 0.75rem;
    }
    
    .hero-banner {
        height: 150px;
    }
    
    .hero-content {
        padding: 1.25rem;
        margin-top: -2rem;
    }
    
    .equipo-shield {
        width: 70px;
        height: 70px;
    }
    
    .equipo-name {
        font-size: 1.75rem;
    }
    
    .meta-item {
        font-size: 0.8rem;
    }
    
    .hero-actions {
        flex-direction: column;
        gap: 0.75rem;
    }
    
    .btn {
        justify-content: center;
        width: 100%;
    }
    
    .member-card {
        padding: 1rem;
        gap: 0.75rem;
    }
    
    .member-avatar img {
        width: 50px;
        height: 50px;
    }
    
    .captain-badge {
        width: 20px;
        height: 20px;
        font-size: 0.65rem;
    }
    
    .stat-icon {
        width: 40px;
        height: 40px;
    }
    
    .stat-icon i {
        font-size: 1rem;
    }
    
    .stat-number {
        font-size: 1.25rem;
    }
    
    .action-item {
        padding: 0.875rem;
        gap: 0.75rem;
    }
    
    .action-icon {
        width: 36px;
        height: 36px;
    }
 }
 
 /* ======= Animations ======= */
 @keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
 }
 
 @keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
 }
 
 .animate-in {
    animation: fadeInUp 0.6s ease forwards;
 }
 
 /* ======= Accessibility ======= */
 @media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
 }
 
 /* ======= Focus States ======= */
 .btn:focus,
 .action-item:focus {
    outline: 2px solid var(--equipo-primary);
    outline-offset: 2px;
 }
 
 .member-card:focus {
    outline: 2px solid var(--equipo-primary);
    outline-offset: 2px;
 }
 
 .modal-close:focus {
    outline: 2px solid var(--equipo-primary);
    outline-offset: 2px;
 }
 
 /* ======= Loading States ======= */
 .content-card.loading {
    opacity: 0.7;
    pointer-events: none;
 }
 
 .member-card.loading::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    animation: shimmer 1.5s infinite;
 }
 
 @keyframes shimmer {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
 }
 
 /* ======= Hover Effects ======= */
 .content-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--equipo-shadow-strong);
    border-color: var(--equipo-border-strong);
 }
 
 .equipo-shield:hover {
    transform: scale(1.05);
 }
 
 .stat-item:hover .stat-icon {
    background: var(--equipo-mint-subtle);
    border-color: var(--equipo-mint-border);
    color: var(--equipo-secondary);
 }
 
 .feature-item:hover {
    background: rgba(255, 255, 255, 0.04);
    border-color: var(--equipo-border-strong);
 }
 
 /* ======= Notification Styles ======= */
 .notification {
    position: fixed;
    top: 2rem;
    right: 2rem;
    padding: 1rem 1.5rem;
    border-radius: var(--equipo-radius-small);
    box-shadow: var(--equipo-shadow-strong);
    z-index: 1050;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: white;
    font-weight: 500;
    max-width: 400px;
 }
 
 .notification-success {
    background: #10b981;
 }
 
 .notification-error {
    background: #ef4444;
 }
 
 .notification-info {
    background: #3b82f6;
 }

================
File: app/static/css/equipo/editar_equipo_styles.css
================
/* ======= Variables CSS para Editar Equipo ======= */
:root {
    --seville-orange: #f7835c;
    --mint: #00d4b1;
    
    --editar-primary: var(--seville-orange);
    --editar-secondary: var(--mint);
    --editar-accent-subtle: rgba(247, 131, 92, 0.06);
    --editar-accent-border: rgba(247, 131, 92, 0.12);
    --editar-mint-subtle: rgba(0, 212, 177, 0.06);
    --editar-mint-border: rgba(0, 212, 177, 0.12);
    
    --editar-text-primary: #ffffff;
    --editar-text-secondary: #a8a8a8;
    --editar-text-muted: #6b7280;
    --editar-bg-primary: #0F172A;
    --editar-bg-card: #1a1a2e;
    --editar-bg-elevated: #242438;
    --editar-bg-input: rgba(255, 255, 255, 0.02);
    --editar-border: rgba(255, 255, 255, 0.08);
    --editar-border-strong: rgba(255, 255, 255, 0.12);
    --editar-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    --editar-shadow-strong: 0 8px 32px rgba(0, 0, 0, 0.25);
    --editar-radius: 16px;
    --editar-radius-small: 12px;
    --editar-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ======= Container Principal ======= */
.editar-equipo-container {
    max-width: 900px;
    margin: 0 auto;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

/* ======= Hero Section ======= */
.editar-equipo-hero {
    background: var(--editar-bg-card);
    border: 1px solid var(--editar-border);
    border-radius: var(--editar-radius);
    padding: 2rem;
}

.hero-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 2rem;
}

.current-team-info {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    flex: 1;
}

.current-shield {
    width: 64px;
    height: 64px;
    flex-shrink: 0;
    border-radius: var(--editar-radius-small);
    overflow: hidden;
    border: 1px solid var(--editar-border);
}

.current-shield img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.shield-placeholder {
    width: 100%;
    height: 100%;
    background: var(--editar-bg-elevated);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--editar-text-muted);
}

.shield-placeholder i {
    font-size: 1.5rem;
}

.current-details {
    flex: 1;
}

.current-name {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--editar-text-primary);
    margin-bottom: 0.25rem;
    letter-spacing: -0.02em;
}

.current-subtitle {
    font-size: 1rem;
    color: var(--editar-text-secondary);
    margin: 0;
}

.edit-icon {
    width: 48px;
    height: 48px;
    background: var(--editar-accent-subtle);
    border: 1px solid var(--editar-accent-border);
    border-radius: var(--editar-radius-small);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.edit-icon i {
    font-size: 1.25rem;
    color: var(--editar-primary);
}

/* ======= Mensajes del Sistema ======= */
.messages-section {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.custom-alert {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    border-radius: var(--editar-radius-small);
    border: 1px solid;
    transition: var(--editar-transition);
}

.custom-alert.alert-success {
    background: rgba(16, 185, 129, 0.1);
    border-color: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.custom-alert.alert-error,
.custom-alert.alert-danger {
    background: rgba(239, 68, 68, 0.1);
    border-color: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.custom-alert.alert-warning {
    background: rgba(245, 158, 11, 0.1);
    border-color: rgba(245, 158, 11, 0.2);
    color: #f59e0b;
}

.alert-icon {
    flex-shrink: 0;
}

.alert-content {
    flex: 1;
    font-size: 0.9rem;
    font-weight: 500;
}

.alert-dismiss {
    background: none;
    border: none;
    color: inherit;
    opacity: 0.7;
    cursor: pointer;
    padding: 0.25rem;
    border-radius: 4px;
    transition: var(--editar-transition);
}

.alert-dismiss:hover {
    opacity: 1;
    background: rgba(255, 255, 255, 0.1);
}

/* ======= Formulario Principal ======= */
.editar-equipo-form-container {
    background: var(--editar-bg-card);
    border: 1px solid var(--editar-border);
    border-radius: var(--editar-radius);
    overflow: hidden;
}

/* ======= Secciones del Formulario ======= */
.form-sections {
    display: flex;
    flex-direction: column;
}

.form-section {
    padding: 2rem;
    border-bottom: 1px solid var(--editar-border);
}

.form-section:last-child {
    border-bottom: none;
}

.section-header {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 2rem;
}

.section-icon {
    width: 40px;
    height: 40px;
    background: var(--editar-accent-subtle);
    border: 1px solid var(--editar-accent-border);
    border-radius: var(--editar-radius-small);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.section-icon i {
    font-size: 1rem;
    color: var(--editar-primary);
}

.section-content {
    flex: 1;
}

.section-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--editar-text-primary);
    margin-bottom: 0.25rem;
}

.section-description {
    font-size: 0.9rem;
    color: var(--editar-text-secondary);
    margin: 0;
    line-height: 1.5;
}

/* ======= Grid del Formulario ======= */
.form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
}

.form-field-full {
    grid-column: 1 / -1;
}

/* ======= Campos del Formulario ======= */
.form-field {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.form-label {
    display: flex;
    align-items: center;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--editar-text-primary);
    margin-bottom: 0;
}

.label-content {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.label-icon {
    color: var(--editar-secondary);
    font-size: 0.875rem;
}

.label-text {
    flex: 1;
}

.required-asterisk {
    color: #ef4444;
    margin-left: 0.25rem;
}

/* ======= Field Wrapper ======= */
.field-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

.field-wrapper input,
.field-wrapper textarea,
.field-wrapper select {
    flex: 1;
    background: var(--editar-bg-input);
    border: 1px solid var(--editar-border);
    border-radius: var(--editar-radius-small);
    padding: 0.875rem 1rem;
    font-size: 0.9rem;
    color: var(--editar-text-primary);
    transition: var(--editar-transition);
}

.field-wrapper input:focus,
.field-wrapper textarea:focus,
.field-wrapper select:focus {
    outline: none;
    border-color: var(--editar-primary);
    box-shadow: 0 0 0 3px rgba(247, 131, 92, 0.1);
    background: rgba(255, 255, 255, 0.04);
}

.field-wrapper textarea {
    min-height: 100px;
    resize: vertical;
}

.field-wrapper input::placeholder,
.field-wrapper textarea::placeholder {
    color: var(--editar-text-muted);
}

/* ======= Field Status ======= */
.field-status {
    position: absolute;
    right: 1rem;
    display: flex;
    align-items: center;
}

.field-valid-icon,
.field-invalid-icon {
    display: none;
    font-size: 1rem;
}

.field-valid-icon {
    color: #10b981;
}

.field-invalid-icon {
    color: #ef4444;
}

.field-wrapper.valid .field-valid-icon {
    display: block;
}

.field-wrapper.invalid .field-invalid-icon {
    display: block;
}

/* ======= Color Preview ======= */
.color-preview {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-left: 1rem;
    padding: 0.5rem;
    background: var(--editar-bg-elevated);
    border: 1px solid var(--editar-border);
    border-radius: 8px;
}

.color-swatch {
    width: 24px;
    height: 24px;
    border-radius: 4px;
    border: 1px solid var(--editar-border);
    flex-shrink: 0;
}

.color-value {
    font-size: 0.8rem;
    color: var(--editar-text-secondary);
    font-family: monospace;
}

/* ======= File Upload ======= */
.file-upload-container {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.file-upload-wrapper {
    position: relative;
}

.file-upload-wrapper input[type="file"] {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: 0;
    cursor: pointer;
    z-index: 2;
}

.file-upload-preview {
    position: relative;
    min-height: 200px;
    background: var(--editar-bg-input);
    border: 2px dashed var(--editar-border);
    border-radius: var(--editar-radius-small);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    transition: var(--editar-transition);
}

.file-upload-preview:hover {
    border-color: var(--editar-primary);
    background: var(--editar-accent-subtle);
}

.file-upload-preview img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: absolute;
    top: 0;
    left: 0;
}

.upload-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    padding: 2rem;
    text-align: center;
}

.upload-placeholder i {
    font-size: 3rem;
    color: var(--editar-text-muted);
}

.upload-text {
    font-size: 1rem;
    font-weight: 500;
    color: var(--editar-text-primary);
    margin: 0;
}

.upload-subtitle {
    font-size: 0.875rem;
    color: var(--editar-text-muted);
    margin: 0;
}

.current-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: var(--editar-primary);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 500;
}

.current-file-info {
    margin-top: 0.75rem;
}

.file-info-text {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--editar-text-muted);
    font-size: 0.85rem;
}

/* ======= Form Help y Errores ======= */
.form-help {
    font-size: 0.8rem;
    color: var(--editar-text-muted);
    line-height: 1.4;
}

.field-errors {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.error-text {
    font-size: 0.8rem;
    color: #ef4444;
    font-weight: 500;
}

/* ======= Sección de Comparación ======= */
.comparison-section {
    padding: 2rem;
    background: var(--editar-bg-elevated);
    border-top: 1px solid var(--editar-border);
}

.comparison-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 1.5rem;
}

.comparison-item {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.comparison-label {
    font-size: 1rem;
    font-weight: 600;
    color: var(--editar-text-primary);
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.comparison-label::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 50%;
    flex-shrink: 0;
}

.comparison-item:first-child .comparison-label::before {
    background: var(--editar-text-muted);
}

.comparison-item:last-child .comparison-label::before {
    background: var(--editar-primary);
}

/* ======= Team Preview Card ======= */
.team-preview-card {
    background: var(--editar-bg-card);
    border: 1px solid var(--editar-border);
    border-radius: var(--editar-radius-small);
    padding: 1.5rem;
    transition: var(--editar-transition);
}

.team-preview-card.new {
    border-color: var(--editar-primary);
    box-shadow: 0 0 0 1px rgba(247, 131, 92, 0.1);
}

.preview-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.preview-shield {
    width: 48px;
    height: 48px;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid var(--editar-border);
    flex-shrink: 0;
}

.preview-shield img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.preview-info {
    flex: 1;
}

.preview-name {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--editar-text-primary);
    margin-bottom: 0.25rem;
}

.preview-description {
    font-size: 0.875rem;
    color: var(--editar-text-secondary);
    margin: 0;
    line-height: 1.4;
}

.preview-colors {
    display: flex;
    gap: 0.75rem;
}

.color-sample {
    width: 40px;
    height: 40px;
    border-radius: 8px;
    border: 1px solid var(--editar-border);
    transition: var(--editar-transition);
}

/* ======= Botones de Acción ======= */
.form-actions {
    display: flex;
    gap: 1rem;
    padding: 2rem;
    background: var(--editar-bg-elevated);
    border-top: 1px solid var(--editar-border);
    justify-content: flex-end;
}

/* ======= Botones ======= */
.btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.875rem 1.25rem;
    border-radius: var(--editar-radius-small);
    font-size: 0.875rem;
    font-weight: 500;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: var(--editar-transition);
    font-family: inherit;
    white-space: nowrap;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.btn:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
}

.btn-primary {
    background: var(--editar-primary);
    color: white;
    border: 1px solid var(--editar-primary);
}

.btn-primary:hover {
    background: #e6743f;
    border-color: #e6743f;
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(247, 131, 92, 0.3);
    color: white;
    text-decoration: none;
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.05);
    color: var(--editar-text-secondary);
    border: 1px solid var(--editar-border);
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.08);
    color: var(--editar-text-primary);
    border-color: var(--editar-border-strong);
    transform: translateY(-2px);
    text-decoration: none;
}

/* ======= Submit Button Estados ======= */
.btn-submit {
    min-width: 160px;
}

.btn-content {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: var(--editar-transition);
}

.btn-spinner {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    opacity: 0;
    transition: var(--editar-transition);
}

.btn-submit.loading .btn-content {
    opacity: 0;
}

.btn-submit.loading .btn-spinner {
    opacity: 1;
}

.btn-submit:disabled {
    opacity: 0.7;
    cursor: not-allowed;
    transform: none !important;
}

/* ======= Responsive Design ======= */
@media (max-width: 768px) {
    .editar-equipo-container {
        padding: 1rem;
        gap: 1.5rem;
    }
    
    .editar-equipo-hero {
        padding: 1.5rem;
    }
    
    .hero-content {
        flex-direction: column;
        align-items: flex-start;
        gap: 1.5rem;
    }
    
    .current-team-info {
        gap: 1rem;
    }
    
    .current-shield {
        width: 56px;
        height: 56px;
    }
    
    .current-name {
        font-size: 1.5rem;
    }
    
    .form-section {
        padding: 1.5rem;
    }
    
    .section-header {
        flex-direction: column;
        gap: 0.75rem;
        margin-bottom: 1.5rem;
    }
    
    .form-grid {
        grid-template-columns: 1fr;
        gap: 1.25rem;
    }
    
    .comparison-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .form-actions {
        flex-direction: column-reverse;
        padding: 1.5rem;
    }
    
    .file-upload-preview {
        min-height: 150px;
    }
    
    .upload-placeholder {
        padding: 1.5rem;
    }
    
    .upload-placeholder i {
        font-size: 2.5rem;
    }
}

@media (max-width: 480px) {
    .editar-equipo-container {
        padding: 0.75rem;
    }
    
    .editar-equipo-hero {
        padding: 1.25rem;
    }
    
    .current-shield {
        width: 48px;
        height: 48px;
    }
    
    .current-name {
        font-size: 1.25rem;
    }
    
    .edit-icon {
        width: 40px;
        height: 40px;
    }
    
    .form-section {
        padding: 1.25rem;
    }
    
    .section-icon {
        width: 36px;
        height: 36px;
    }
    
    .field-wrapper input,
    .field-wrapper textarea,
    .field-wrapper select {
        padding: 0.75rem;
        font-size: 0.875rem;
    }
    
    .file-upload-preview {
        min-height: 120px;
    }
    
    .upload-placeholder {
        padding: 1rem;
        gap: 0.75rem;
    }
    
    .upload-placeholder i {
        font-size: 2rem;
    }
    
    .upload-text {
        font-size: 0.9rem;
    }
    
    .upload-subtitle {
        font-size: 0.8rem;
    }
    
    .preview-shield {
        width: 40px;
        height: 40px;
    }
    
    .preview-name {
        font-size: 1rem;
    }
    
    .preview-description {
        font-size: 0.8rem;
    }
    
    .color-sample {
        width: 32px;
        height: 32px;
    }
    
    .btn {
        padding: 0.75rem 1rem;
        font-size: 0.8rem;
    }
    
    .form-actions {
        padding: 1.25rem;
    }
}

/* ======= Animaciones ======= */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-in {
    animation: fadeInUp 0.6s ease forwards;
}

/* ======= Estados de Focus ======= */
.field-wrapper:focus-within {
    transform: translateY(-1px);
}

.team-preview-card:focus-within {
    outline: 2px solid var(--editar-primary);
    outline-offset: 2px;
}

/* ======= Loading States ======= */
.file-upload-preview.loading {
    position: relative;
    overflow: hidden;
}

.file-upload-preview.loading::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

/* ======= Accesibilidad ======= */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* ======= Estados especiales ======= */
.form-field.has-error .field-wrapper input,
.form-field.has-error .field-wrapper textarea,
.form-field.has-error .field-wrapper select {
    border-color: #ef4444;
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
}

.form-field.has-error .field-wrapper {
    animation: shake 0.3s ease-in-out;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

/* ======= Drag and Drop Estados ======= */
.file-upload-preview.drag-over {
    border-color: var(--editar-primary);
    background: var(--editar-accent-subtle);
    transform: scale(1.02);
}

/* ======= Color Input Styling ======= */
input[type="color"] {
    width: 40px;
    height: 40px;
    border: 1px solid var(--editar-border);
    border-radius: 8px;
    background: transparent;
    cursor: pointer;
    padding: 0;
}

input[type="color"]::-webkit-color-swatch-wrapper {
    padding: 0;
}

input[type="color"]::-webkit-color-swatch {
    border: none;
    border-radius: 6px;
}

/* ======= Placeholder personalizado para archivos ======= */
input[type="file"] {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

================
File: app/static/css/equipo/lista_equipo_styles.css
================
/* ======= Variables CSS para Lista de Equipos ======= */
:root {
    --seville-orange: #f7835c;
    --mint: #00d4b1;
    
    --equipos-primary: var(--seville-orange);
    --equipos-secondary: var(--mint);
    --equipos-accent-subtle: rgba(247, 131, 92, 0.06);
    --equipos-accent-border: rgba(247, 131, 92, 0.12);
    --equipos-mint-subtle: rgba(0, 212, 177, 0.06);
    --equipos-mint-border: rgba(0, 212, 177, 0.12);
    
    --equipos-text-primary: #ffffff;
    --equipos-text-secondary: #a8a8a8;
    --equipos-text-muted: #6b7280;
    --equipos-bg-primary: #0F172A;
    --equipos-bg-card: #1a1a2e;
    --equipos-bg-elevated: #242438;
    --equipos-border: rgba(255, 255, 255, 0.08);
    --equipos-border-strong: rgba(255, 255, 255, 0.12);
    --equipos-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    --equipos-shadow-strong: 0 8px 32px rgba(0, 0, 0, 0.25);
    --equipos-radius: 16px;
    --equipos-radius-small: 12px;
    --equipos-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ======= Container Principal ======= */
.equipos-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    gap: 3rem;
}

/* ======= Hero Section ======= */
.equipos-hero-section {
    background: var(--equipos-bg-card);
    border: 1px solid var(--equipos-border);
    border-radius: var(--equipos-radius);
    padding: 3rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 2rem;
}

.hero-content {
    display: flex;
    align-items: center;
    gap: 2rem;
    flex: 1;
}

.hero-icon {
    width: 72px;
    height: 72px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--equipos-border);
    border-radius: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.hero-icon i {
    font-size: 2rem;
    color: var(--equipos-primary);
}

.hero-text {
    flex: 1;
}

.hero-title {
    font-size: clamp(2rem, 4vw, 2.5rem);
    font-weight: 800;
    color: var(--equipos-text-primary);
    margin-bottom: 0.5rem;
    letter-spacing: -0.03em;
    line-height: 1.1;
}

.hero-subtitle {
    font-size: 1.125rem;
    color: var(--equipos-text-secondary);
    font-weight: 400;
    margin: 0;
}

.header-actions {
    flex-shrink: 0;
}

/* ======= Mensajes del Sistema ======= */
.messages-section {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.custom-alert {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    border-radius: var(--equipos-radius-small);
    border: 1px solid;
    transition: var(--equipos-transition);
}

.custom-alert.alert-success {
    background: rgba(16, 185, 129, 0.1);
    border-color: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.custom-alert.alert-error,
.custom-alert.alert-danger {
    background: rgba(239, 68, 68, 0.1);
    border-color: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.custom-alert.alert-warning {
    background: rgba(245, 158, 11, 0.1);
    border-color: rgba(245, 158, 11, 0.2);
    color: #f59e0b;
}

.alert-icon {
    flex-shrink: 0;
}

.alert-content {
    flex: 1;
    font-size: 0.9rem;
    font-weight: 500;
}

.alert-dismiss {
    background: none;
    border: none;
    color: inherit;
    opacity: 0.7;
    cursor: pointer;
    padding: 0.25rem;
    border-radius: 4px;
    transition: var(--equipos-transition);
}

.alert-dismiss:hover {
    opacity: 1;
    background: rgba(255, 255, 255, 0.1);
}

/* ======= Estadísticas ======= */
.stats-section {
    margin: -1rem 0;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
}

.stat-card {
    background: var(--equipos-bg-card);
    border: 1px solid var(--equipos-border);
    border-radius: var(--equipos-radius-small);
    padding: 2rem;
    display: flex;
    align-items: center;
    gap: 1.5rem;
    transition: var(--equipos-transition);
}

.stat-icon {
    width: 48px;
    height: 48px;
    background: var(--equipos-accent-subtle);
    border: 1px solid var(--equipos-accent-border);
    border-radius: var(--equipos-radius-small);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.stat-icon i {
    font-size: 1.25rem;
    color: var(--equipos-primary);
}

.stat-content {
    flex: 1;
}

.stat-number {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--equipos-text-primary);
    line-height: 1;
    margin-bottom: 0.25rem;
}

.stat-label {
    font-size: 0.875rem;
    color: var(--equipos-text-secondary);
    font-weight: 500;
}

/* ======= Section Header ======= */
.section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 2rem;
}

.section-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--equipos-text-primary);
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin: 0;
}

.section-title i {
    color: var(--equipos-primary);
}

.section-meta {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.equipos-count {
    font-size: 0.9rem;
    color: var(--equipos-text-secondary);
    background: rgba(255, 255, 255, 0.05);
    padding: 0.5rem 1rem;
    border-radius: 8px;
    border: 1px solid var(--equipos-border);
}

/* ======= Grid de Equipos ======= */
.equipos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 2rem;
}

/* ======= Equipo Card ======= */
.equipo-card {
    background: var(--equipos-bg-card);
    border: 1px solid var(--equipos-border);
    border-radius: var(--equipos-radius);
    overflow: hidden;
    box-shadow: var(--equipos-shadow);
    transition: var(--equipos-transition);
}

.equipo-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--equipos-shadow-strong);
}

/* ======= Imagen de Equipo ======= */
.equipo-image {
    position: relative;
    height: 220px;
    overflow: hidden;
}

.equipo-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: var(--equipos-transition);
}

.image-placeholder {
    width: 100%;
    height: 100%;
    background: var(--equipos-bg-elevated);
    display: flex;
    align-items: center;
    justify-content: center;
}

.image-placeholder i {
    font-size: 3rem;
    color: var(--equipos-text-muted);
}

.image-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(0, 0, 0, 0.7);
    padding: 1rem;
    backdrop-filter: blur(10px);
}

.equipo-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: white;
    margin: 0;
}

/* ======= Badge de Equipo ======= */
.equipo-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    background: rgba(247, 131, 92, 0.9);
    color: white;
    border-radius: 8px;
    font-size: 0.8rem;
    font-weight: 500;
    backdrop-filter: blur(10px);
}

/* ======= Contenido de Equipo ======= */
.equipo-content {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
}

/* ======= Header de Equipo ======= */
.equipo-header {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.escudo-container {
    width: 48px;
    height: 48px;
    flex-shrink: 0;
}

.escudo-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 8px;
    border: 1px solid var(--equipos-border);
}

.escudo-placeholder {
    width: 100%;
    height: 100%;
    background: var(--equipos-bg-elevated);
    border: 1px solid var(--equipos-border);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.escudo-placeholder i {
    font-size: 1.25rem;
    color: var(--equipos-text-muted);
}

.equipo-info {
    flex: 1;
}

.equipo-description {
    font-size: 0.875rem;
    color: var(--equipos-text-secondary);
    line-height: 1.5;
    margin: 0;
}

/* ======= Detalles de Equipo ======= */
.equipo-details {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    padding-top: 1rem;
    border-top: 1px solid var(--equipos-border);
}

.info-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.info-icon {
    width: 32px;
    height: 32px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--equipos-border);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.info-icon i {
    font-size: 0.875rem;
    color: var(--equipos-secondary);
}

.info-text {
    font-size: 0.9rem;
    color: var(--equipos-text-secondary);
    flex: 1;
}

/* ======= Acciones de Equipo ======= */
.equipo-actions {
    display: flex;
    gap: 0.75rem;
    padding-top: 1rem;
    border-top: 1px solid var(--equipos-border);
}

/* ======= Estado Vacío ======= */
.empty-state {
    text-align: center;
    padding: 4rem 2rem;
    background: var(--equipos-bg-card);
    border: 1px solid var(--equipos-border);
    border-radius: var(--equipos-radius);
}

.empty-icon {
    width: 100px;
    height: 100px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 2rem;
    border: 1px solid var(--equipos-border);
}

.empty-icon i {
    font-size: 2.5rem;
    color: var(--equipos-text-muted);
}

.empty-content {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: center;
    max-width: 500px;
    margin: 0 auto;
}

.empty-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--equipos-text-primary);
    margin: 0;
}

.empty-desc {
    font-size: 1rem;
    color: var(--equipos-text-secondary);
    margin: 0;
    line-height: 1.6;
}

.empty-actions {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
    flex-wrap: wrap;
    justify-content: center;
}

/* ======= Sugerencias ======= */
.suggestions {
    margin-top: 3rem;
}

.suggestions-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--equipos-text-primary);
    margin-bottom: 1.5rem;
}

.suggestions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
}

.suggestion-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--equipos-border);
    border-radius: var(--equipos-radius-small);
}

.suggestion-item i {
    font-size: 1.25rem;
    color: var(--equipos-secondary);
    flex-shrink: 0;
}

.suggestion-item span {
    font-size: 0.9rem;
    color: var(--equipos-text-secondary);
}

/* ======= Botones ======= */
.btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.875rem 1.25rem;
    border-radius: var(--equipos-radius-small);
    font-size: 0.875rem;
    font-weight: 500;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: var(--equipos-transition);
    font-family: inherit;
    white-space: nowrap;
    justify-content: center;
}

.btn:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
}

.btn-primary {
    background: var(--equipos-primary);
    color: white;
    border: 1px solid var(--equipos-primary);
}

.btn-primary:hover {
    background: #e6743f;
    border-color: #e6743f;
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(247, 131, 92, 0.3);
    color: white;
    text-decoration: none;
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.05);
    color: var(--equipos-text-secondary);
    border: 1px solid var(--equipos-border);
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.08);
    color: var(--equipos-text-primary);
    border-color: var(--equipos-border-strong);
    transform: translateY(-2px);
    text-decoration: none;
}

/* ======= Dropdown ======= */
.dropdown-menu {
    background: var(--equipos-bg-elevated);
    border: 1px solid var(--equipos-border);
    border-radius: var(--equipos-radius-small);
    padding: 0.5rem;
    box-shadow: var(--equipos-shadow-strong);
}

.dropdown-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    color: var(--equipos-text-secondary);
    text-decoration: none;
    border-radius: 8px;
    transition: var(--equipos-transition);
    font-size: 0.875rem;
}

.dropdown-item:hover {
    background: rgba(255, 255, 255, 0.05);
    color: var(--equipos-text-primary);
}

.dropdown-item.text-danger {
    color: #ef4444;
}

.dropdown-item.text-danger:hover {
    background: rgba(239, 68, 68, 0.1);
    color: #ef4444;
}

.dropdown-divider {
    border-color: var(--equipos-border);
    margin: 0.5rem 0;
}

/* ======= Responsive Design ======= */
@media (max-width: 1024px) {
    .equipos-grid {
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 1.5rem;
    }
    
    .equipos-hero-section {
        flex-direction: column;
        align-items: flex-start;
        gap: 2rem;
    }
    
    .stats-grid {
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 1rem;
    }
}

@media (max-width: 768px) {
    .equipos-container {
        padding: 1rem;
        gap: 2rem;
    }
    
    .equipos-hero-section {
        padding: 2rem;
    }
    
    .hero-content {
        flex-direction: column;
        text-align: center;
        gap: 1.5rem;
    }
    
    .hero-icon {
        width: 64px;
        height: 64px;
    }
    
    .hero-icon i {
        font-size: 1.75rem;
    }
    
    .equipos-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
    }
    
    .equipo-image {
        height: 200px;
    }
    
    .equipo-content {
        padding: 1.25rem;
    }
    
    .equipo-actions {
        flex-direction: column;
    }
    
    .stats-grid {
        grid-template-columns: 1fr;
    }
    
    .stat-card {
        padding: 1.5rem;
    }
    
    .suggestions-grid {
        grid-template-columns: 1fr;
    }
    
    .empty-actions {
        flex-direction: column;
        align-items: center;
    }
}

@media (max-width: 480px) {
    .equipos-container {
        padding: 0.75rem;
    }
    
    .equipos-hero-section {
        padding: 1.5rem;
    }
    
    .hero-icon {
        width: 56px;
        height: 56px;
    }
    
    .hero-icon i {
        font-size: 1.5rem;
    }
    
    .equipo-image {
        height: 180px;
    }
    
    .equipo-content {
        padding: 1rem;
        gap: 1rem;
    }
    
    .equipo-details {
        gap: 0.5rem;
    }
    
    .info-icon {
        width: 28px;
        height: 28px;
    }
    
    .info-text {
        font-size: 0.85rem;
    }
    
    .equipo-badge {
        top: 0.75rem;
        right: 0.75rem;
        padding: 0.375rem 0.625rem;
        font-size: 0.75rem;
    }
    
    .equipo-title {
        font-size: 1rem;
    }
    
    .empty-state {
        padding: 3rem 1.5rem;
    }
    
    .empty-icon {
        width: 80px;
        height: 80px;
    }
    
    .empty-icon i {
        font-size: 2rem;
    }
    
    .empty-title {
        font-size: 1.25rem;
    }
    
    .empty-desc {
        font-size: 0.9rem;
    }
    
    .btn {
        padding: 0.75rem 1rem;
        font-size: 0.8rem;
    }
    
    .stat-card {
        padding: 1.25rem;
        gap: 1rem;
    }
    
    .stat-icon {
        width: 40px;
        height: 40px;
    }
    
    .stat-number {
        font-size: 1.5rem;
    }
    
    .suggestion-item {
        padding: 0.75rem;
        gap: 0.5rem;
    }
    
    .suggestion-item i {
        font-size: 1rem;
    }
    
    .suggestion-item span {
        font-size: 0.85rem;
    }
}

/* ======= Animaciones ======= */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-in {
    animation: fadeInUp 0.6s ease forwards;
}

/* ======= Estados de carga ======= */
.btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none !important;
}

.btn:disabled:hover {
    transform: none !important;
    box-shadow: none !important;
}

.equipo-img[src=""] {
    background: var(--equipos-bg-elevated);
    display: flex;
    align-items: center;
    justify-content: center;
}

.equipo-img[src=""]:before {
    content: '\f03e';
    font-family: 'Font Awesome 5 Free';
    font-weight: 900;
    font-size: 3rem;
    color: var(--equipos-text-muted);
}

/* ======= Accesibilidad ======= */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* ======= Focus improvements ======= */
.equipo-card:focus-within {
    outline: 2px solid var(--equipos-primary);
    outline-offset: 2px;
}

/* ======= Loading states ======= */
.equipo-img.loading {
    background: var(--equipos-bg-elevated);
    position: relative;
    overflow: hidden;
}

.equipo-img.loading::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

/* ======= Modal Overrides ======= */
.modal-content {
    background: var(--equipos-bg-card) !important;
    border: 1px solid var(--equipos-border) !important;
}

.modal-header {
    border-bottom: 1px solid var(--equipos-border) !important;
}

.modal-footer {
    border-top: 1px solid var(--equipos-border) !important;
}

.modal-title {
    color: var(--equipos-text-primary) !important;
}

.modal-body {
    color: var(--equipos-text-secondary) !important;
}

.btn-close-white {
    filter: invert(1) grayscale(100%) brightness(200%);
}

================
File: app/static/css/global/base_styles.css
================
/* ======= Variables Base Elegantes ======= */
:root {
    /* Paleta de colores refinada */
    --seville-orange: #f7835c;
    --mint: #00d4b1;
    --seville-orange-dark: #e6673a;
    --seville-orange-light: #ffa384;
    --seville-orange-subtle: rgba(247, 131, 92, 0.08);
    --seville-orange-border: rgba(247, 131, 92, 0.12);
    --seville-orange-rgb: 247, 131, 92;
    
    --seville-secondary: #8a5cf7;
    --seville-accent: #f39c12;
    --seville-success: #10b981;
    --seville-warning: #f59e0b;
    --seville-danger: #ef4444;
    --seville-info: #3b82f6;
    
    /* Fondos con profundidad */
    --bg-canvas: #0f0f1a;
    --bg-surface: #1a1a2e;
    --bg-elevated: #242438;
    --bg-card: #1e1e32;
    --bg-overlay: rgba(0, 0, 0, 0.6);
    
    /* Textos con jerarquía clara */
    --text-primary: #ffffff;
    --text-secondary: #a8a8a8;
    --text-muted: #6b7280;
    --text-disabled: #4b5563;
    
    /* Bordes sutiles */
    --border-primary: rgba(255, 255, 255, 0.08);
    --border-secondary: rgba(255, 255, 255, 0.06);
    --border-accent: rgba(247, 131, 92, 0.15);
    
    /* Sombras elegantes */
    --shadow-subtle: 0 2px 8px rgba(0, 0, 0, 0.1);
    --shadow-elegant: 0 4px 20px rgba(0, 0, 0, 0.15);
    --shadow-dramatic: 0 8px 32px rgba(0, 0, 0, 0.24);
    --shadow-glow: 0 0 20px rgba(247, 131, 92, 0.2);
    
    /* Bordes redondeados */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 20px;
    --radius-2xl: 24px;
    
    /* Transiciones suaves */
    --transition-fast: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-elegant: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    
    /* Tipografía */
    --font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    --font-weight-light: 300;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-extrabold: 800;
    
    /* Gradientes sofisticados */
    --gradient-primary: linear-gradient(135deg, var(--seville-orange) 0%, var(--seville-orange-light) 100%);
    --gradient-secondary: linear-gradient(135deg, var(--seville-secondary) 0%, #a855f7 100%);
    --gradient-surface: linear-gradient(135deg, var(--bg-surface) 0%, var(--bg-elevated) 100%);
    
    /* Layout */
    --sidebar-width: 280px;
    --navbar-height: 72px;
}

/* ======= Reset Elegante ======= */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

*::before,
*::after {
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
    height: 100%;
}

body {
    font-family: var(--font-family);
    background: var(--bg-canvas);
    color: var(--text-primary);
    line-height: 1.6;
    font-weight: var(--font-weight-normal);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
    min-height: 100vh;
}

/* ======= Layout Principal ======= */
#base-main-content {
    margin-left: 0;
    margin-top: var(--navbar-height);
    min-height: calc(100vh - var(--navbar-height));
    transition: var(--transition-smooth);
    background: var(--bg-canvas);
}

@media (min-width: 992px) {
    #base-main-content {
        margin-left: var(--sidebar-width);
    }
}

/* ======= Top Navbar Elegante ======= */
#base-main-top-navbar {
    background: var(--bg-surface);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--border-primary);
    position: fixed;
    top: 0;
    left: var(--sidebar-width);
    right: 0;
    z-index: 1030;
    height: var(--navbar-height);
    transition: var(--transition-smooth);
}

@media (max-width: 991.98px) {
    #base-main-top-navbar {
        left: 0;
    }
}

#base-navbar-container {
    height: 100%;
    padding: 0 1.5rem;
    display: flex;
    align-items: center;
    gap: 1.5rem;
}

/* Toggle Button */
#base-main-navbar-toggle {
    background: var(--bg-elevated);
    border: 1px solid var(--border-primary);
    color: var(--text-secondary);
    border-radius: var(--radius-md);
    padding: 0.75rem;
    cursor: pointer;
    transition: var(--transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
}

#base-main-navbar-toggle:hover {
    background: var(--bg-card);
    border-color: var(--border-accent);
    color: var(--seville-orange);
    transform: scale(1.05);
}

/* Brand (móvil) */
#base-navbar-brand {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    text-decoration: none;
    color: var(--text-primary);
    font-weight: var(--font-weight-bold);
    font-size: 1.1rem;
}

#base-navbar-brand:hover {
    color: var(--seville-orange);
}

#base-navbar-brand .brand-logo {
    width: 36px;
    height: 36px;
    background: var(--gradient-primary);
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: var(--font-weight-bold);
    font-size: 0.9rem;
    box-shadow: var(--shadow-subtle);
}

/* Spacer para empujar contenido hacia la derecha */
#base-navbar-spacer {
    flex: 1;
}

/* User Section */
#base-navbar-user-section {
    display: flex;
    align-items: center;
    gap: 1rem;
}

#base-navbar-notifications {
    position: relative;
}

#base-notification-btn {
    background: var(--bg-elevated);
    border: 1px solid var(--border-primary);
    color: var(--text-secondary);
    border-radius: var(--radius-md);
    padding: 0.75rem;
    cursor: pointer;
    transition: var(--transition-fast);
    position: relative;
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
}

#base-notification-btn:hover {
    background: var(--bg-card);
    border-color: var(--border-accent);
    color: var(--seville-orange);
}

.notification-badge {
    position: absolute;
    top: -4px;
    right: -4px;
    background: var(--seville-danger);
    color: white;
    font-size: 0.7rem;
    font-weight: var(--font-weight-bold);
    padding: 0.2rem 0.4rem;
    border-radius: 10px;
    min-width: 18px;
    text-align: center;
    line-height: 1;
}

/* User Dropdown */
#base-navbar-user {
    background: var(--bg-elevated);
    border: 1px solid var(--border-primary);
    color: var(--text-primary);
    border-radius: var(--radius-lg);
    padding: 0.5rem 1rem;
    cursor: pointer;
    transition: var(--transition-fast);
    display: flex;
    align-items: center;
    gap: 0.75rem;
    text-decoration: none;
}

#base-navbar-user:hover {
    background: var(--bg-card);
    border-color: var(--border-accent);
    color: var(--text-primary);
    transform: translateY(-1px);
}

.user-avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    border: 2px solid var(--border-accent);
    object-fit: cover;
    transition: var(--transition-fast);
}

#base-navbar-user:hover .user-avatar {
    border-color: var(--mint);
    box-shadow: 0 0 0 2px var(--seville-orange-subtle);
}

.user-info {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
}

.user-name {
    font-size: 0.9rem;
    font-weight: var(--font-weight-semibold);
    line-height: 1.2;
}

.user-role {
    font-size: 0.75rem;
    color: var(--text-muted);
    line-height: 1;
}

.user-chevron {
    font-size: 0.7rem;
    color: var(--text-muted);
    transition: var(--transition-fast);
}

#base-navbar-user:hover .user-chevron {
    color: var(--seville-orange);
}

/* Dropdown Menu */
.dropdown-menu {
    background: var(--bg-elevated);
    border: 1px solid var(--border-primary);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-dramatic);
    margin-top: 0.5rem;
    padding: 0.5rem;
    min-width: 200px;
}

.dropdown-item {
    color: var(--text-secondary);
    padding: 0.75rem 1rem;
    border-radius: var(--radius-md);
    transition: var(--transition-fast);
    display: flex;
    align-items: center;
    font-size: 0.9rem;
}

.dropdown-item:hover {
    background: var(--bg-card);
    color: var(--seville-orange);
    transform: translateX(4px);
}

.dropdown-divider {
    border-color: var(--border-primary);
    margin: 0.5rem 0;
}

/* ======= Sidebar Elegante ======= */
#base-main-dashboard-sidebar {
    width: var(--sidebar-width);
    background: var(--bg-surface);
    border-right: 1px solid var(--border-primary);
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    z-index: 1050;
    transform: translateX(0);
    transition: var(--transition-smooth);
    overflow-y: auto;
    overflow-x: hidden;
}

@media (max-width: 991.98px) {
    #base-main-dashboard-sidebar {
        transform: translateX(-100%);
        z-index: 1055;
        box-shadow: var(--shadow-dramatic);
    }
    
    #base-main-dashboard-sidebar.show {
        transform: translateX(0);
    }
}

#base-sidebar-container {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    height: 100%;
    gap: 1.5rem;
}

/* Sidebar Brand */
#base-brand-section {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid var(--border-primary);
}

#base-brand-section .brand-logo {
    width: 48px;
    height: 48px;
    background: var(--gradient-primary);
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: var(--font-weight-bold);
    font-size: 1.1rem;
    box-shadow: var(--shadow-elegant);
}

#base-brand-section .brand-text {
    color: var(--text-primary);
    font-weight: var(--font-weight-bold);
    font-size: 1.25rem;
    text-decoration: none;
    transition: var(--transition-fast);
}

#base-brand-section .brand-text:hover {
    color: var(--seville-orange);
}

/* User Profile Card */
#base-user-profile {
    background: var(--gradient-surface);
    border: 1px solid var(--border-primary);
    border-radius: var(--radius-xl);
    padding: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: var(--transition-fast);
    position: relative;
    overflow: hidden;
}

#base-user-profile::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: var(--gradient-primary);
    opacity: 0;
    transition: var(--transition-fast);
}

#base-user-profile:hover::before {
    opacity: 1;
}

#base-user-profile:hover {
    border-color: var(--border-accent);
    box-shadow: var(--shadow-elegant);
    transform: translateY(-2px);
}

.user-avatar-sidebar {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    border: 3px solid var(--seville-orange);
    object-fit: cover;
    transition: var(--transition-fast);
    box-shadow: var(--shadow-subtle);
}

#base-user-profile:hover .user-avatar-sidebar {
    border-color: var(--mint);
    box-shadow: var(--shadow-glow);
}

#base-user-profile .user-info h6 {
    color: var(--text-primary);
    font-weight: var(--font-weight-semibold);
    font-size: 1rem;
    margin: 0 0 0.5rem 0;
    line-height: 1.2;
}

.user-position {
    background: var(--seville-orange-subtle);
    color: var(--seville-orange);
    font-size: 0.75rem;
    font-weight: var(--font-weight-medium);
    padding: 0.25rem 0.75rem;
    border-radius: var(--radius-sm);
    display: inline-block;
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.user-elo {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--seville-accent);
    font-size: 0.85rem;
    font-weight: var(--font-weight-semibold);
}

/* Navigation */
#base-nav-menu {
    flex: 1;
}

.nav-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.nav-link {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.25rem;
    color: var(--text-secondary);
    text-decoration: none;
    border-radius: var(--radius-lg);
    font-weight: var(--font-weight-medium);
    font-size: 0.9rem;
    transition: var(--transition-fast);
    position: relative;
    overflow: hidden;
}

.nav-link::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 0;
    background: var(--gradient-primary);
    transition: var(--transition-fast);
    border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
}

.nav-link i {
    width: 20px;
    text-align: center;
    font-size: 1rem;
    transition: var(--transition-fast);
}

.nav-link:hover {
    color: var(--text-primary);
    background: var(--bg-card);
    transform: translateX(8px);
}

.nav-link:hover::before {
    width: 4px;
}

.nav-link.active {
    color: var(--seville-orange);
    background: var(--seville-orange-subtle);
    border: 1px solid var(--border-accent);
    box-shadow: var(--shadow-subtle);
}

.nav-link.active::before {
    width: 4px;
}

.nav-link.active i {
    color: var(--seville-orange);
}

/* Logout Section */
#base-logout-section {
    padding-top: 1.5rem;
    border-top: 1px solid var(--border-primary);
}

.logout-btn {
    width: 100%;
    padding: 1rem;
    background: linear-gradient(135deg, var(--seville-danger) 0%, #dc2626 100%);
    color: white;
    border: none;
    border-radius: var(--radius-lg);
    font-weight: var(--font-weight-semibold);
    font-size: 0.9rem;
    cursor: pointer;
    transition: var(--transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    box-shadow: var(--shadow-subtle);
}

.logout-btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-elegant);
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
}

.logout-btn:active {
    transform: translateY(0);
}

/* ======= Sidebar Overlay (móvil) ======= */
#base-sidebar-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--bg-overlay);
    backdrop-filter: blur(4px);
    z-index: 1040;
    opacity: 0;
    visibility: hidden;
    transition: var(--transition-fast);
}

#base-sidebar-overlay.show {
    opacity: 1;
    visibility: visible;
}

body.sidebar-open {
    overflow: hidden;
 }
 
 /* ======= Responsive Elegante ======= */
 @media (max-width: 991.98px) {
    #base-main-content {
        margin-left: 0;
        padding: 1rem;
    }
    
    #base-navbar-container {
        padding: 0 1rem;
    }
    
    .user-info {
        display: none;
    }
    
    #base-navbar-user {
        padding: 0.5rem;
    }
 }
 
 @media (max-width: 768px) {
    #base-navbar-container {
        gap: 1rem;
    }
    
    #base-navbar-notifications {
        display: none;
    }
    
    #base-sidebar-container {
        padding: 1rem;
        gap: 1rem;
    }
    
    #base-user-profile {
        padding: 1rem;
        flex-direction: column;
        text-align: center;
    }
    
    .user-avatar-sidebar {
        width: 56px;
        height: 56px;
    }
 }
 
 @media (max-width: 575.98px) {
    #base-main-content {
        padding: 0.75rem;
    }
    
    #base-navbar-container {
        padding: 0 0.75rem;
        gap: 0.75rem;
    }
    
    #base-navbar-user {
        padding: 0.4rem;
    }
    
    .user-avatar {
        width: 32px;
        height: 32px;
    }
 }
 
 /* ======= Estados de Focus (Accesibilidad) ======= */
 #base-main-navbar-toggle:focus,
 #base-notification-btn:focus,
 #base-navbar-user:focus,
 .nav-link:focus,
 .logout-btn:focus {
    outline: 2px solid var(--seville-orange);
    outline-offset: 2px;
 }
 
 /* ======= Animaciones Elegantes ======= */
 @keyframes slideInFromLeft {
    from {
        opacity: 0;
        transform: translateX(-30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
 }
 
 @keyframes slideInFromRight {
    from {
        opacity: 0;
        transform: translateX(30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
 }
 
 @keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
 }
 
 @keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 var(--seville-orange-subtle);
    }
    70% {
        box-shadow: 0 0 0 10px transparent;
    }
    100% {
        box-shadow: 0 0 0 0 transparent;
    }
 }
 
 .fade-in {
    animation: fadeInUp 0.6s ease-out;
 }
 
 .slide-in-left {
    animation: slideInFromLeft 0.4s ease-out;
 }
 
 .slide-in-right {
    animation: slideInFromRight 0.4s ease-out;
 }
 
 /* ======= Utilidades de Compatibilidad ======= */
 .gradient-text {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
 }
 
 .btn-primary {
    background: var(--gradient-primary);
    border: none;
    color: white;
    font-weight: var(--font-weight-semibold);
    padding: 0.75rem 1.5rem;
    border-radius: var(--radius-lg);
    transition: var(--transition-fast);
    box-shadow: var(--shadow-subtle);
 }
 
 .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-elegant);
    color: white;
 }
 
 .btn-secondary {
    background: var(--bg-elevated);
    border: 1px solid var(--border-primary);
    color: var(--text-primary);
    font-weight: var(--font-weight-medium);
    padding: 0.75rem 1.5rem;
    border-radius: var(--radius-lg);
    transition: var(--transition-fast);
 }
 
 .btn-secondary:hover {
    background: var(--bg-card);
    border-color: var(--border-accent);
    color: var(--seville-orange);
    transform: translateY(-1px);
 }
 
 .btn-outline-primary {
    background: transparent;
    border: 1px solid var(--seville-orange);
    color: var(--seville-orange);
    font-weight: var(--font-weight-medium);
    padding: 0.75rem 1.5rem;
    border-radius: var(--radius-lg);
    transition: var(--transition-fast);
 }
 
 .btn-outline-primary:hover {
    background: var(--seville-orange);
    border-color: var(--seville-orange);
    color: white;
    transform: translateY(-1px);
    box-shadow: var(--shadow-subtle);
 }
 
 /* ======= Cards Elegantes ======= */
 .card-elegant {
    background: var(--gradient-surface);
    border: 1px solid var(--border-primary);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-elegant);
    transition: var(--transition-smooth);
    overflow: hidden;
    position: relative;
 }
 
 .card-elegant::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: var(--gradient-primary);
    opacity: 0;
    transition: var(--transition-fast);
 }
 
 .card-elegant:hover::before {
    opacity: 1;
 }
 
 .card-elegant:hover {
    border-color: var(--border-accent);
    transform: translateY(-4px);
    box-shadow: var(--shadow-dramatic);
 }
 
 /* ======= Badges y Tags ======= */
 .badge-elegant {
    background: var(--seville-orange-subtle);
    color: var(--seville-orange);
    font-size: 0.75rem;
    font-weight: var(--font-weight-semibold);
    padding: 0.4rem 0.8rem;
    border-radius: var(--radius-md);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border: 1px solid var(--border-accent);
 }
 
 .badge-success {
    background: rgba(16, 185, 129, 0.1);
    color: var(--seville-success);
    border-color: rgba(16, 185, 129, 0.2);
 }
 
 .badge-warning {
    background: rgba(245, 158, 11, 0.1);
    color: var(--seville-warning);
    border-color: rgba(245, 158, 11, 0.2);
 }
 
 .badge-danger {
    background: rgba(239, 68, 68, 0.1);
    color: var(--seville-danger);
    border-color: rgba(239, 68, 68, 0.2);
 }
 
 /* ======= Loading States ======= */
 .loading-skeleton {
    background: linear-gradient(90deg, var(--bg-elevated) 25%, var(--bg-card) 50%, var(--bg-elevated) 75%);
    background-size: 200% 100%;
    animation: loading 1.5s infinite;
    border-radius: var(--radius-md);
 }
 
 @keyframes loading {
    0% {
        background-position: 200% 0;
    }
    100% {
        background-position: -200% 0;
    }
 }
 
 /* ======= Scrollbar Personalizada ======= */
 ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
 }
 
 ::-webkit-scrollbar-track {
    background: var(--bg-surface);
 }
 
 ::-webkit-scrollbar-thumb {
    background: var(--border-primary);
    border-radius: 3px;
    transition: var(--transition-fast);
 }
 
 ::-webkit-scrollbar-thumb:hover {
    background: var(--seville-orange);
 }
 
 /* Firefox */
 * {
    scrollbar-width: thin;
    scrollbar-color: var(--border-primary) var(--bg-surface);
 }
 
 /* ======= Print Styles ======= */
 @media print {
    #base-main-top-navbar,
    #base-main-dashboard-sidebar,
    #base-sidebar-overlay {
        display: none !important;
    }
    
    #base-main-content {
        margin: 0 !important;
        padding: 0 !important;
    }
    
    body {
        background: white !important;
        color: black !important;
    }
 }
 
 /* ======= Modo Alto Contraste ======= */
 @media (prefers-contrast: high) {
    :root {
        --border-primary: rgba(255, 255, 255, 0.3);
        --border-secondary: rgba(255, 255, 255, 0.2);
        --text-secondary: #d1d5db;
        --text-muted: #9ca3af;
    }
 }
 
 /* ======= Reducir Movimiento ======= */
 @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
 }

================
File: app/static/css/partidos/buscar_partidos_styles.css
================
/* ======= Variables CSS para Buscar Partidos ======= */
:root {
    --seville-orange: #f7835c;
    --mint: #00d4b1;
    
    --partidos-primary: var(--seville-orange);
    --partidos-secondary: var(--mint);
    --partidos-accent-subtle: rgba(247, 131, 92, 0.06);
    --partidos-accent-border: rgba(247, 131, 92, 0.12);
    --partidos-mint-subtle: rgba(0, 212, 177, 0.06);
    --partidos-mint-border: rgba(0, 212, 177, 0.12);
    
    --partidos-text-primary: #ffffff;
    --partidos-text-secondary: #a8a8a8;
    --partidos-text-muted: #6b7280;
    --partidos-bg-primary: #0F172A;
    --partidos-bg-card: #1a1a2e;
    --partidos-bg-elevated: #242438;
    --partidos-border: rgba(255, 255, 255, 0.08);
    --partidos-border-strong: rgba(255, 255, 255, 0.12);
    --partidos-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    --partidos-shadow-strong: 0 8px 32px rgba(0, 0, 0, 0.25);
    --partidos-radius: 16px;
    --partidos-radius-small: 12px;
    --partidos-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ======= Container Principal ======= */
#buscar-partidos-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    gap: 3rem;
}

/* ======= Hero Section ======= */
#buscar-hero-section {
    background: var(--partidos-bg-card);
    border: 1px solid var(--partidos-border);
    border-radius: var(--partidos-radius);
    padding: 3rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 2rem;
}

.hero-content {
    display: flex;
    align-items: center;
    gap: 2rem;
    flex: 1;
}

.hero-icon {
    width: 72px;
    height: 72px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--partidos-border);
    border-radius: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.hero-icon i {
    font-size: 2rem;
    color: var(--partidos-primary);
}

.hero-text {
    flex: 1;
}

.hero-title {
    font-size: clamp(2rem, 4vw, 2.5rem);
    font-weight: 800;
    color: var(--partidos-text-primary);
    margin-bottom: 0.5rem;
    letter-spacing: -0.03em;
    line-height: 1.1;
}

.hero-subtitle {
    font-size: 1.125rem;
    color: var(--partidos-text-secondary);
    font-weight: 400;
    margin: 0;
}

.header-actions {
    flex-shrink: 0;
}

/* ======= Mensajes del Sistema ======= */
#buscar-messages-section {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.custom-alert {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    border-radius: var(--partidos-radius-small);
    border: 1px solid;
    transition: var(--partidos-transition);
}

.custom-alert.alert-success {
    background: rgba(16, 185, 129, 0.1);
    border-color: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.custom-alert.alert-error,
.custom-alert.alert-danger {
    background: rgba(239, 68, 68, 0.1);
    border-color: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.custom-alert.alert-warning {
    background: rgba(245, 158, 11, 0.1);
    border-color: rgba(245, 158, 11, 0.2);
    color: #f59e0b;
}

.alert-icon {
    flex-shrink: 0;
}

.alert-content {
    flex: 1;
    font-size: 0.9rem;
    font-weight: 500;
}

.alert-dismiss {
    background: none;
    border: none;
    color: inherit;
    opacity: 0.7;
    cursor: pointer;
    padding: 0.25rem;
    border-radius: 4px;
    transition: var(--partidos-transition);
}

.alert-dismiss:hover {
    opacity: 1;
    background: rgba(255, 255, 255, 0.1);
}

/* ======= Estadísticas ======= */
#buscar-stats-section {
    margin: -1rem 0;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
}

.stat-card {
    background: var(--partidos-bg-card);
    border: 1px solid var(--partidos-border);
    border-radius: var(--partidos-radius-small);
    padding: 2rem;
    display: flex;
    align-items: center;
    gap: 1.5rem;
    transition: var(--partidos-transition);
}

.stat-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--partidos-shadow);
    border-color: var(--partidos-accent-border);
}

.stat-icon {
    width: 48px;
    height: 48px;
    background: var(--partidos-accent-subtle);
    border: 1px solid var(--partidos-accent-border);
    border-radius: var(--partidos-radius-small);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.stat-icon i {
    font-size: 1.25rem;
    color: var(--partidos-primary);
}

.stat-content {
    flex: 1;
}

.stat-number {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--partidos-text-primary);
    line-height: 1;
    margin-bottom: 0.25rem;
}

.stat-label {
    font-size: 0.875rem;
    color: var(--partidos-text-secondary);
    font-weight: 500;
}

/* ======= Section Header ======= */
.section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 2rem;
}

.section-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--partidos-text-primary);
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin: 0;
}

.section-title i {
    color: var(--partidos-primary);
}

.section-meta {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.partidos-count {
    font-size: 0.9rem;
    color: var(--partidos-text-secondary);
    background: rgba(255, 255, 255, 0.05);
    padding: 0.5rem 1rem;
    border-radius: 8px;
    border: 1px solid var(--partidos-border);
}

/* ======= Grid de Partidos ======= */
.partidos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
    gap: 2rem;
}

/* ======= Partido Card ======= */
.partido-card {
    background: var(--partidos-bg-card);
    border: 1px solid var(--partidos-border);
    border-radius: var(--partidos-radius);
    overflow: hidden;
    box-shadow: var(--partidos-shadow);
    transition: var(--partidos-transition);
    position: relative;
}

.partido-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--partidos-shadow-strong);
    border-color: var(--partidos-accent-border);
}

.partido-card.partido-owner {
    border-left: 4px solid var(--partidos-primary);
}

.partido-card.partido-joined {
    border-left: 4px solid var(--partidos-secondary);
}

/* ======= Partido Header ======= */
.partido-header {
    padding: 1.5rem 1.5rem 0;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 1rem;
}

.partido-status {
    flex-shrink: 0;
}

.status-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    border-radius: 8px;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.status-badge.status-owner {
    background: rgba(247, 131, 92, 0.1);
    color: var(--partidos-primary);
    border: 1px solid var(--partidos-accent-border);
}

.status-badge.status-joined {
    background: rgba(0, 212, 177, 0.1);
    color: var(--partidos-secondary);
    border: 1px solid var(--partidos-mint-border);
}

.status-badge.status-available {
    background: rgba(16, 185, 129, 0.1);
    color: #10b981;
    border: 1px solid rgba(16, 185, 129, 0.2);
}

.status-badge.status-full {
    background: rgba(239, 68, 68, 0.1);
    color: #ef4444;
    border: 1px solid rgba(239, 68, 68, 0.2);
}

.status-badge.status-closed {
    background: rgba(107, 114, 128, 0.1);
    color: var(--partidos-text-muted);
    border: 1px solid rgba(107, 114, 128, 0.2);
}

.partido-capacity {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex-shrink: 0;
}

.capacity-text {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--partidos-text-secondary);
    min-width: 40px;
}

.capacity-bar {
    width: 60px;
    height: 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    overflow: hidden;
}

.capacity-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--partidos-secondary), var(--partidos-primary));
    border-radius: 3px;
    transition: var(--partidos-transition);
}

/* ======= Partido Content ======= */
.partido-content {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.partido-title {
    margin: 0;
}

.partido-link {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--partidos-text-primary);
    text-decoration: none;
    transition: var(--partidos-transition);
}

.partido-link:hover {
    color: var(--partidos-primary);
}

.partido-details {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.info-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
}

.info-icon {
    width: 36px;
    height: 36px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--partidos-border);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.info-icon i {
    font-size: 0.875rem;
    color: var(--partidos-secondary);
}

.info-text {
    flex: 1;
    min-width: 0;
}

.info-label {
    font-size: 0.75rem;
    color: var(--partidos-text-muted);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 0.25rem;
}

.info-value {
    font-size: 0.9rem;
    color: var(--partidos-text-secondary);
    font-weight: 500;
    word-break: break-word;
}

/* ======= Partido Actions ======= */
.partido-actions {
    padding: 0 1.5rem 1.5rem;
    border-top: 1px solid var(--partidos-border);
    margin-top: auto;
    padding-top: 1.5rem;
}

.join-form {
    width: 100%;
}

/* ======= Estado Vacío ======= */
.empty-state {
    text-align: center;
    padding: 4rem 2rem;
    background: var(--partidos-bg-card);
    border: 1px solid var(--partidos-border);
    border-radius: var(--partidos-radius);
}

.empty-icon {
    width: 100px;
    height: 100px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 2rem;
    border: 1px solid var(--partidos-border);
}

.empty-icon i {
    font-size: 2.5rem;
    color: var(--partidos-text-muted);
}

.empty-content {
    display: flex;
    flex-direction: column;
    gap: 1rem;
   align-items: center;
   max-width: 500px;
   margin: 0 auto;
}

.empty-title {
   font-size: 1.5rem;
   font-weight: 600;
   color: var(--partidos-text-primary);
   margin: 0;
}

.empty-desc {
   font-size: 1rem;
   color: var(--partidos-text-secondary);
   margin: 0;
   line-height: 1.6;
}

.empty-actions {
   display: flex;
   gap: 1rem;
   margin-top: 1rem;
   flex-wrap: wrap;
   justify-content: center;
}

/* ======= Paginación ======= */
#buscar-pagination {
   margin-top: 3rem;
}

.pagination-content {
   display: flex;
   align-items: center;
   justify-content: center;
   gap: 1rem;
   padding: 2rem;
   background: var(--partidos-bg-card);
   border: 1px solid var(--partidos-border);
   border-radius: var(--partidos-radius);
}

.page-link {
   display: flex;
   align-items: center;
   gap: 0.5rem;
   padding: 0.75rem 1rem;
   background: rgba(255, 255, 255, 0.05);
   border: 1px solid var(--partidos-border);
   border-radius: var(--partidos-radius-small);
   color: var(--partidos-text-secondary);
   text-decoration: none;
   font-size: 0.875rem;
   font-weight: 500;
   transition: var(--partidos-transition);
}

.page-link:hover {
   background: rgba(255, 255, 255, 0.08);
   border-color: var(--partidos-accent-border);
   color: var(--partidos-primary);
   transform: translateY(-2px);
}

.page-info {
   display: flex;
   align-items: center;
   gap: 0.5rem;
   padding: 0.75rem 1.5rem;
   background: var(--partidos-accent-subtle);
   border: 1px solid var(--partidos-accent-border);
   border-radius: var(--partidos-radius-small);
   font-size: 0.875rem;
   font-weight: 600;
}

.current-page {
   color: var(--partidos-primary);
}

.page-separator {
   color: var(--partidos-text-muted);
   margin: 0 0.25rem;
}

.total-pages {
   color: var(--partidos-text-secondary);
}

/* ======= Botones ======= */
.btn {
   display: inline-flex;
   align-items: center;
   gap: 0.5rem;
   padding: 0.875rem 1.25rem;
   border-radius: var(--partidos-radius-small);
   font-size: 0.875rem;
   font-weight: 500;
   text-decoration: none;
   border: none;
   cursor: pointer;
   transition: var(--partidos-transition);
   font-family: inherit;
   white-space: nowrap;
   justify-content: center;
   width: 100%;
}

.btn:focus {
   outline: none;
   box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
}

.btn-primary {
   background: var(--partidos-primary);
   color: white;
   border: 1px solid var(--partidos-primary);
}

.btn-primary:hover {
   background: #e6743f;
   border-color: #e6743f;
   transform: translateY(-2px);
   box-shadow: 0 8px 20px rgba(247, 131, 92, 0.3);
   color: white;
   text-decoration: none;
}

.btn-secondary {
   background: rgba(255, 255, 255, 0.05);
   color: var(--partidos-text-secondary);
   border: 1px solid var(--partidos-border);
}

.btn-secondary:hover {
   background: rgba(255, 255, 255, 0.08);
   color: var(--partidos-text-primary);
   border-color: var(--partidos-border-strong);
   transform: translateY(-2px);
   text-decoration: none;
}

.btn-disabled {
   background: rgba(107, 114, 128, 0.1);
   color: var(--partidos-text-muted);
   border: 1px solid rgba(107, 114, 128, 0.2);
   cursor: not-allowed;
   opacity: 0.6;
}

.btn-disabled:hover {
   transform: none;
   box-shadow: none;
}

/* ======= Responsive Design ======= */
@media (max-width: 1024px) {
   .partidos-grid {
       grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
       gap: 1.5rem;
   }
   
   #buscar-hero-section {
       flex-direction: column;
       align-items: flex-start;
       gap: 2rem;
   }
   
   .stats-grid {
       grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
       gap: 1rem;
   }
}

@media (max-width: 768px) {
   #buscar-partidos-container {
       padding: 1rem;
       gap: 2rem;
   }
   
   #buscar-hero-section {
       padding: 2rem;
   }
   
   .hero-content {
       flex-direction: column;
       text-align: center;
       gap: 1.5rem;
   }
   
   .hero-icon {
       width: 64px;
       height: 64px;
   }
   
   .hero-icon i {
       font-size: 1.75rem;
   }
   
   .partidos-grid {
       grid-template-columns: 1fr;
       gap: 1.5rem;
   }
   
   .section-header {
       flex-direction: column;
       align-items: flex-start;
       gap: 1rem;
   }
   
   .partido-content {
       padding: 1.25rem;
   }
   
   .stats-grid {
       grid-template-columns: 1fr;
   }
   
   .stat-card {
       padding: 1.5rem;
   }
   
   .empty-actions {
       flex-direction: column;
       align-items: center;
   }
   
   .pagination-content {
       flex-wrap: wrap;
       gap: 0.75rem;
   }
   
   .page-link {
       font-size: 0.8rem;
       padding: 0.625rem 0.875rem;
   }
}

@media (max-width: 480px) {
   #buscar-partidos-container {
       padding: 0.75rem;
   }
   
   #buscar-hero-section {
       padding: 1.5rem;
   }
   
   .hero-icon {
       width: 56px;
       height: 56px;
   }
   
   .hero-icon i {
       font-size: 1.5rem;
   }
   
   .partido-header {
       padding: 1rem 1rem 0;
       flex-direction: column;
       align-items: flex-start;
       gap: 1rem;
   }
   
   .partido-capacity {
       align-self: stretch;
       justify-content: space-between;
   }
   
   .capacity-bar {
       flex: 1;
       max-width: 120px;
   }
   
   .partido-content {
       padding: 1rem;
       gap: 1rem;
   }
   
   .partido-actions {
       padding: 0 1rem 1rem;
   }
   
   .info-item {
       gap: 0.75rem;
   }
   
   .info-icon {
       width: 32px;
       height: 32px;
   }
   
   .info-text {
       font-size: 0.85rem;
   }
   
   .info-label {
       font-size: 0.7rem;
   }
   
   .info-value {
       font-size: 0.85rem;
   }
   
   .status-badge {
       padding: 0.375rem 0.625rem;
       font-size: 0.75rem;
       gap: 0.375rem;
   }
   
   .partido-link {
       font-size: 1.125rem;
   }
   
   .empty-state {
       padding: 3rem 1.5rem;
   }
   
   .empty-icon {
       width: 80px;
       height: 80px;
   }
   
   .empty-icon i {
       font-size: 2rem;
   }
   
   .empty-title {
       font-size: 1.25rem;
   }
   
   .empty-desc {
       font-size: 0.9rem;
   }
   
   .btn {
       padding: 0.75rem 1rem;
       font-size: 0.8rem;
   }
   
   .stat-card {
       padding: 1.25rem;
       gap: 1rem;
   }
   
   .stat-icon {
       width: 40px;
       height: 40px;
   }
   
   .stat-number {
       font-size: 1.5rem;
   }
   
   .pagination-content {
       padding: 1.5rem;
       gap: 0.5rem;
   }
   
   .page-info {
       padding: 0.625rem 1rem;
       font-size: 0.8rem;
   }
}

/* ======= Animaciones ======= */
@keyframes fadeInUp {
   from {
       opacity: 0;
       transform: translateY(30px);
   }
   to {
       opacity: 1;
       transform: translateY(0);
   }
}

@keyframes slideInLeft {
   from {
       opacity: 0;
       transform: translateX(-30px);
   }
   to {
       opacity: 1;
       transform: translateX(0);
   }
}

@keyframes pulse {
   0%, 100% {
       opacity: 1;
   }
   50% {
       opacity: 0.5;
   }
}

.animate-in {
   animation: fadeInUp 0.6s ease forwards;
}

.partido-card {
   opacity: 0;
   transform: translateY(30px);
}

.partido-card.animate-in {
   opacity: 1;
   transform: translateY(0);
}

/* ======= Estados de carga ======= */
.btn:disabled {
   opacity: 0.6;
   cursor: not-allowed;
   transform: none !important;
}

.btn:disabled:hover {
   transform: none !important;
   box-shadow: none !important;
}

.loading-spinner {
   animation: pulse 1.5s ease-in-out infinite;
}

/* ======= Accesibilidad ======= */
@media (prefers-reduced-motion: reduce) {
   * {
       animation-duration: 0.01ms !important;
       animation-iteration-count: 1 !important;
       transition-duration: 0.01ms !important;
   }
}

/* ======= Focus improvements ======= */
.partido-card:focus-within {
   outline: 2px solid var(--partidos-primary);
   outline-offset: 2px;
}

.partido-link:focus {
   outline: 2px solid var(--partidos-primary);
   outline-offset: 2px;
   border-radius: 4px;
}

/* ======= Hover effects ======= */
.partido-card:hover .partido-link {
   color: var(--partidos-primary);
}

.partido-card:hover .info-icon {
   background: var(--partidos-accent-subtle);
   border-color: var(--partidos-accent-border);
}

.partido-card:hover .info-icon i {
   color: var(--partidos-primary);
}

/* ======= Loading states ======= */
.partido-card.loading {
   position: relative;
   overflow: hidden;
}

.partido-card.loading::after {
   content: '';
   position: absolute;
   top: 0;
   left: -100%;
   width: 100%;
   height: 100%;
   background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
   animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
   0% {
       left: -100%;
   }
   100% {
       left: 100%;
   }
}

/* ======= Utilities ======= */
.text-truncate {
   overflow: hidden;
   text-overflow: ellipsis;
   white-space: nowrap;
}

.visually-hidden {
   position: absolute;
   width: 1px;
   height: 1px;
   padding: 0;
   margin: -1px;
   overflow: hidden;
   clip: rect(0, 0, 0, 0);
   white-space: nowrap;
   border: 0;
}

/* ======= Print styles ======= */
@media print {
   #buscar-partidos-container {
       padding: 0;
       gap: 1rem;
   }
   
   .partidos-grid {
       grid-template-columns: 1fr;
       gap: 1rem;
   }
   
   .partido-card {
       break-inside: avoid;
       box-shadow: none;
       border: 1px solid #000;
   }
   
   .btn {
       display: none;
   }
   
   .pagination-section {
       display: none;
   }
}

================
File: app/static/css/partidos/mis_partidos_styles.css
================
/* ======= Variables CSS para Mis Partidos ======= */
:root {
    --seville-orange: #f7835c;
    --mint: #00d4b1;
    
    --partidos-primary: var(--seville-orange);
    --partidos-secondary: var(--mint);
    --partidos-accent-subtle: rgba(247, 131, 92, 0.06);
    --partidos-accent-border: rgba(247, 131, 92, 0.12);
    --partidos-mint-subtle: rgba(0, 212, 177, 0.06);
    --partidos-mint-border: rgba(0, 212, 177, 0.12);
    
    --partidos-text-primary: #ffffff;
    --partidos-text-secondary: #a8a8a8;
    --partidos-text-muted: #6b7280;
    --partidos-bg-primary: #0F172A;
    --partidos-bg-card: #1a1a2e;
    --partidos-bg-elevated: #242438;
    --partidos-border: rgba(255, 255, 255, 0.08);
    --partidos-border-strong: rgba(255, 255, 255, 0.12);
    --partidos-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    --partidos-shadow-strong: 0 8px 32px rgba(0, 0, 0, 0.25);
    --partidos-radius: 16px;
    --partidos-radius-small: 12px;
    --partidos-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ======= Reset y Base ======= */
body {
    background-color: var(--partidos-bg-primary);
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    color: var(--partidos-text-primary);
    line-height: 1.6;
}

/* ======= Container Principal ======= */
.mis-partidos-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    gap: 3rem;
}

/* ======= Hero Section ======= */
.partidos-hero-section {
    background: var(--partidos-bg-card);
    border: 1px solid var(--partidos-border);
    border-radius: var(--partidos-radius);
    padding: 3rem;
    position: relative;
    overflow: hidden;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 2rem;
}



.hero-content {
    position: relative;
    z-index: 2;
    display: flex;
    align-items: center;
    gap: 2rem;
    flex: 1;
}

.hero-icon {
    width: 72px;
    height: 72px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--partidos-border);
    border-radius: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.hero-icon i {
    font-size: 2rem;
    color: var(--partidos-primary);
}

.hero-text {
    flex: 1;
}

.hero-title {
    font-size: clamp(2rem, 4vw, 2.5rem);
    font-weight: 800;
    color: var(--partidos-text-primary);
    margin-bottom: 0.5rem;
    letter-spacing: -0.03em;
    line-height: 1.1;
}

.hero-subtitle {
    font-size: 1.125rem;
    color: var(--partidos-text-secondary);
    font-weight: 400;
    margin: 0;
}

.hero-actions {
    position: relative;
    z-index: 2;
}

/* ======= Mensajes del Sistema ======= */
.messages-section {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.custom-alert {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    border-radius: var(--partidos-radius-small);
    border: 1px solid;
    transition: var(--partidos-transition);
}

.custom-alert.alert-success {
    background: rgba(16, 185, 129, 0.1);
    border-color: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.custom-alert.alert-error,
.custom-alert.alert-danger {
    background: rgba(239, 68, 68, 0.1);
    border-color: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.custom-alert.alert-warning {
    background: rgba(245, 158, 11, 0.1);
    border-color: rgba(245, 158, 11, 0.2);
    color: #f59e0b;
}

.alert-icon {
    flex-shrink: 0;
}

.alert-content {
    flex: 1;
    font-size: 0.9rem;
    font-weight: 500;
}

.alert-dismiss {
    background: none;
    border: none;
    color: inherit;
    opacity: 0.7;
    cursor: pointer;
    padding: 0.25rem;
    border-radius: 4px;
    transition: var(--partidos-transition);
}

.alert-dismiss:hover {
    opacity: 1;
    background: rgba(255, 255, 255, 0.1);
}

/* ======= Secciones ======= */
.proximos-section,
.historial-section {
    background: var(--partidos-bg-card);
    border: 1px solid var(--partidos-border);
    border-radius: var(--partidos-radius);
    padding: 2rem;
    box-shadow: var(--partidos-shadow);
}

.section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 2rem;
    flex-wrap: wrap;
    gap: 1rem;
}

.section-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--partidos-text-primary);
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin: 0;
}

.section-title i {
    color: var(--partidos-primary);
}

.section-meta {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.partidos-count {
    font-size: 0.9rem;
    color: var(--partidos-text-secondary);
    background: rgba(255, 255, 255, 0.05);
    padding: 0.5rem 1rem;
    border-radius: 8px;
    border: 1px solid var(--partidos-border);
}

/* ======= Grid de Partidos ======= */
.partidos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
    gap: 1.5rem;
}

/* ======= Partido Card ======= */
.partido-card {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--partidos-border);
    border-radius: var(--partidos-radius-small);
    padding: 1.5rem;
    transition: var(--partidos-transition);
    opacity: 0;
    transform: translateY(20px);
    position: relative;
}

.partido-card.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.partido-card.creator-card {
    border-color: var(--partidos-accent-border);
    background: var(--partidos-accent-subtle);
}

.partido-card.creator-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: var(--partidos-primary);
}

/* ======= Partido Header ======= */
.partido-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1.25rem;
    gap: 1rem;
}

.partido-info {
    flex: 1;
    min-width: 0;
}

.partido-title {
    margin: 0 0 0.5rem 0;
}

.partido-link {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--partidos-text-primary);
    text-decoration: none;
    transition: var(--partidos-transition);
}

.partido-link:hover {
    color: var(--partidos-primary);
}

.partido-meta {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.partido-date {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    color: var(--partidos-text-secondary);
}

.partido-date i {
    color: var(--partidos-secondary);
}

.creator-badge {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    background: var(--partidos-accent-subtle);
    border: 1px solid var(--partidos-accent-border);
    border-radius: 8px;
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--partidos-primary);
    flex-shrink: 0;
}

/* ======= Partido Details ======= */
.partido-details {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-bottom: 1.25rem;
}

.detail-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}


.detail-icon {
    width: 32px;
    height: 32px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--partidos-border);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    color: var(--partidos-secondary);
 }
 
 .detail-text {
    font-size: 0.875rem;
    color: var(--partidos-text-secondary);
    flex: 1;
 }
 
 /* ======= Progreso de Jugadores ======= */
 .jugadores-progress {
    margin-bottom: 1.25rem;
 }
 
 .progress-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.5rem;
 }
 
 .progress-label {
    font-size: 0.875rem;
    color: var(--partidos-text-secondary);
    font-weight: 500;
 }
 
 .progress-count {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--partidos-text-primary);
 }
 
 .progress-bar-container {
    height: 8px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
    overflow: hidden;
    cursor: pointer;
    transition: var(--partidos-transition);
 }
 
 .progress-bar-container:hover {
    background: rgba(255, 255, 255, 0.15);
 }
 
 .progress-bar {
    height: 100%;
    position: relative;
 }
 
 .progress-fill {
    height: 100%;
    background: var(--partidos-primary);
    transition: width 0.8s ease;
    border-radius: 4px;
 }
 
 .progress-fill.full {
    background: var(--partidos-secondary);
 }
 
 /* ======= Estados del Partido ======= */
 .partido-estados {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1.25rem;
 }
 
 .estado-badge {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    border-radius: 8px;
    font-size: 0.8rem;
    font-weight: 500;
 }
 
 .estado-abierto {
    background: rgba(16, 185, 129, 0.1);
    border: 1px solid rgba(16, 185, 129, 0.2);
    color: #10b981;
 }
 
 .estado-cerrado {
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.2);
    color: #ef4444;
 }
 
 .plazas-badge {
    padding: 0.375rem 0.75rem;
    background: var(--partidos-mint-subtle);
    border: 1px solid var(--partidos-mint-border);
    border-radius: 6px;
    font-size: 0.75rem;
    color: var(--partidos-secondary);
    font-weight: 500;
 }
 
 /* ======= Countdown ======= */
 .partido-countdown {
    margin-bottom: 1.25rem;
    padding: 0.75rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--partidos-border);
    border-radius: var(--partidos-radius-small);
 }
 
 .countdown-container {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    justify-content: center;
 }
 
 .countdown-container i {
    color: var(--partidos-primary);
 }
 
 .countdown-text {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--partidos-text-primary);
 }
 
 .text-warning {
    color: #f59e0b;
 }
 
 /* ======= Acciones del Partido ======= */
 .partido-actions {
    display: flex;
    gap: 0.75rem;
    align-items: center;
 }
 
 .dropdown {
    position: relative;
 }
 
 .dropdown-menu {
    position: absolute;
    top: 100%;
    right: 0;
    background: var(--partidos-bg-elevated);
    border: 1px solid var(--partidos-border);
    border-radius: var(--partidos-radius-small);
    box-shadow: var(--partidos-shadow-strong);
    min-width: 180px;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: var(--partidos-transition);
    z-index: 100;
    margin-top: 0.5rem;
 }
 
 .dropdown.open .dropdown-menu {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
 }
 
 .dropdown-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    color: var(--partidos-text-secondary);
    text-decoration: none;
    font-size: 0.875rem;
    transition: var(--partidos-transition);
    border: none;
    background: none;
    width: 100%;
    text-align: left;
 }
 
 .dropdown-item:hover {
    background: rgba(255, 255, 255, 0.05);
    color: var(--partidos-text-primary);
 }
 
 .dropdown-item.danger {
    color: #ef4444;
 }
 
 .dropdown-item.danger:hover {
    background: rgba(239, 68, 68, 0.1);
    color: #ef4444;
 }
 
 .dropdown-divider {
    height: 1px;
    background: var(--partidos-border);
    margin: 0.5rem 0;
    border: none;
 }
 
 /* ======= Historial ======= */
 .historial-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
 }
 
 .historial-item {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    padding: 1.5rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--partidos-border);
    border-radius: var(--partidos-radius-small);
    text-decoration: none;
    color: inherit;
    transition: var(--partidos-transition);
    opacity: 0;
    transform: translateY(15px);
    position: relative;
 }
 
 .historial-item.animate-in {
    opacity: 1;
    transform: translateY(0);
 }
 
 .historial-item:hover {
    background: rgba(255, 255, 255, 0.04);
    border-color: var(--partidos-border-strong);
 }
 
 .historial-main {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    flex: 1;
    min-width: 0;
 }
 
 .historial-info {
    flex: 1;
    min-width: 0;
 }
 
 .historial-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--partidos-text-primary);
    margin: 0 0 0.5rem 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
 }
 
 .historial-meta {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    color: var(--partidos-text-muted);
 }
 
 .historial-separator {
    color: var(--partidos-text-muted);
 }
 
 .historial-fecha {
    flex-shrink: 0;
 }
 
 .fecha-display {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: var(--partidos-accent-subtle);
    border: 1px solid var(--partidos-accent-border);
    border-radius: var(--partidos-radius-small);
    padding: 0.75rem;
    min-width: 60px;
 }
 
 .fecha-dia {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--partidos-primary);
    line-height: 1;
 }
 
 .fecha-mes {
    font-size: 0.7rem;
    color: var(--partidos-text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
 }
 
 .fecha-ano {
    font-size: 0.7rem;
    color: var(--partidos-text-muted);
 }
 
 /* ======= Resultado ======= */
 .historial-resultado {
    flex-shrink: 0;
 }
 
 .resultado-container {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    background: var(--partidos-mint-subtle);
    border: 1px solid var(--partidos-mint-border);
    border-radius: 8px;
 }
 
 .resultado-container i {
    color: var(--partidos-secondary);
 }
 
 .resultado-text {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--partidos-text-primary);
 }
 
 .estado-container {
    display: flex;
    align-items: center;
 }
 
 .estado-badge-historial {
    padding: 0.5rem 0.75rem;
    border-radius: 8px;
    font-size: 0.8rem;
    font-weight: 500;
 }
 
 .estado-programado {
    background: rgba(59, 130, 246, 0.1);
    border: 1px solid rgba(59, 130, 246, 0.2);
    color: #3b82f6;
 }
 
 .estado-en_curso {
    background: rgba(245, 158, 11, 0.1);
    border: 1px solid rgba(245, 158, 11, 0.2);
    color: #f59e0b;
 }
 
 .estado-cancelado {
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.2);
    color: #ef4444;
 }
 
 /* ======= Badges del Historial ======= */
 .historial-badges {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    align-items: flex-end;
 }
 
 .historial-badge {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.375rem 0.625rem;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 500;
 }
 
 .badge-creador {
    background: var(--partidos-accent-subtle);
    border: 1px solid var(--partidos-accent-border);
    color: var(--partidos-primary);
 }
 
 .badge-pendiente {
    background: rgba(245, 158, 11, 0.1);
    border: 1px solid rgba(245, 158, 11, 0.2);
    color: #f59e0b;
 }
 
 /* ======= Indicadores ======= */
 .link-indicator {
    flex-shrink: 0;
    color: var(--partidos-text-muted);
    transition: var(--partidos-transition);
 }
 
 .historial-item:hover .link-indicator {
    color: var(--partidos-primary);
    transform: translateX(4px);
 }
 
 .action-indicator {
    position: absolute;
    top: 1rem;
    right: 1rem;
    width: 12px;
    height: 12px;
    background: #f59e0b;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: pulse 2s infinite;
 }
 
 .action-indicator i {
    font-size: 0.5rem;
    color: white;
 }
 
 @keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.7);
    }
    70% {
        box-shadow: 0 0 0 10px rgba(245, 158, 11, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(245, 158, 11, 0);
    }
 }
 
 /* ======= Footer del Historial ======= */
 .historial-footer {
    margin-top: 2rem;
    text-align: center;
 }
 
 /* ======= Empty State ======= */
 .empty-state {
    text-align: center;
    padding: 4rem 2rem;
    opacity: 0;
    transform: translateY(20px);
    transition: var(--partidos-transition);
 }
 
 .empty-state.animate-in {
    opacity: 1;
    transform: translateY(0);
 }
 
 .empty-icon {
    width: 100px;
    height: 100px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 2rem;
    border: 1px solid var(--partidos-border);
 }
 
 .empty-icon i {
    font-size: 2.5rem;
    color: var(--partidos-text-muted);
 }
 
 .empty-content {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: center;
    max-width: 500px;
    margin: 0 auto;
 }
 
 .empty-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--partidos-text-primary);
    margin: 0;
 }
 
 .empty-desc {
    font-size: 1rem;
    color: var(--partidos-text-secondary);
    margin: 0;
    line-height: 1.6;
 }
 
 .empty-actions {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
    flex-wrap: wrap;
    justify-content: center;
 }
 
 /* ======= Botones ======= */
 .btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.875rem 1.25rem;
    border-radius: var(--partidos-radius-small);
    font-size: 0.875rem;
    font-weight: 500;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: var(--partidos-transition);
    font-family: inherit;
    white-space: nowrap;
    justify-content: center;
 }
 
 .btn:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
 }
 
 .btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
 }
 
 .btn-primary {
    background: var(--partidos-primary);
    color: white;
    border: 1px solid var(--partidos-primary);
 }
 
 .btn-primary:hover:not(:disabled) {
    background: #e6743f;
    border-color: #e6743f;
    transform: translateY(-1px);
 }
 
 .btn-secondary {
    background: rgba(255, 255, 255, 0.05);
    color: var(--partidos-text-secondary);
    border: 1px solid var(--partidos-border);
 }
 
 .btn-secondary:hover:not(:disabled) {
    background: rgba(255, 255, 255, 0.08);
    color: var(--partidos-text-primary);
    border-color: var(--partidos-border-strong);
    transform: translateY(-1px);
 }
 
 .btn-outline {
    background: transparent;
    color: var(--partidos-text-muted);
    border: 1px solid var(--partidos-border);
 }
 
 .btn-outline:hover:not(:disabled) {
    background: rgba(255, 255, 255, 0.05);
    color: var(--partidos-text-primary);
    border-color: var(--partidos-border-strong);
 }
 
 /* ======= Responsive Design ======= */
 @media (max-width: 1024px) {
    .partidos-grid {
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 1.25rem;
    }
    
    .historial-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
    }
    
    .historial-main {
        width: 100%;
    }
    
    .historial-badges {
        align-items: flex-start;
        flex-direction: row;
        flex-wrap: wrap;
    }
    
    .link-indicator {
        position: absolute;
        top: 1rem;
        right: 1rem;
    }
 }
 
 @media (max-width: 768px) {
    .mis-partidos-container {
        padding: 1rem;
        gap: 2rem;
    }
    
    .partidos-hero-section {
        flex-direction: column;
        align-items: flex-start;
        padding: 2rem;
        gap: 1.5rem;
    }
    
    .hero-content {
        flex-direction: column;
        text-align: center;
        gap: 1.5rem;
        width: 100%;
    }
    
    .hero-icon {
        width: 64px;
        height: 64px;
    }
    
    .hero-icon i {
        font-size: 1.75rem;
    }
    
    .partidos-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
    }
    
    .proximos-section,
    .historial-section {
        padding: 1.5rem;
    }
    
    .partido-card {
        padding: 1.25rem;
    }
    
    .partido-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
    }
    
    .creator-badge {
        align-self: flex-end;
    }
    
    .partido-actions {
        flex-direction: column;
        align-items: stretch;
    }
    
    .historial-item {
        padding: 1.25rem;
    }
    
    .empty-state {
        padding: 3rem 1.5rem;
    }
    
    .empty-actions {
        flex-direction: column;
        align-items: stretch;
    }
 }
 
 @media (max-width: 480px) {
    .mis-partidos-container {
        padding: 0.75rem;
    }
    
    .partidos-hero-section {
        padding: 1.5rem;
    }
    
    .hero-icon {
        width: 56px;
        height: 56px;
    }
    
    .hero-icon i {
        font-size: 1.5rem;
    }
    
    .partido-card {
        padding: 1rem;
    }
    
    .detail-icon {
        width: 28px;
        height: 28px;
    }
    
    .detail-text {
        font-size: 0.8rem;
    }
    
    .fecha-display {
        padding: 0.5rem;
        min-width: 50px;
    }
    
    .fecha-dia {
        font-size: 1rem;
    }
    
    .proximos-section,
    .historial-section {
        padding: 1.25rem;
    }
    
    .section-title {
        font-size: 1.25rem;
    }
    
    .empty-state {
        padding: 2rem 1rem;
    }
    
    .empty-icon {
        width: 80px;
        height: 80px;
    }
    
    .empty-icon i {
        font-size: 2rem;
    }
    
    .empty-title {
        font-size: 1.25rem;
    }
    
    .empty-desc {
        font-size: 0.9rem;
    }
    
    .btn {
        padding: 0.75rem 1rem;
        font-size: 0.8rem;
    }
 }
 
 /* ======= Animaciones ======= */
 @keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
 }
 
 .animate-in {
    animation: fadeInUp 0.6s ease forwards;
 }
 
 /* ======= Accesibilidad ======= */
 @media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
 }
 
 /* ======= Loading states ======= */
 .progress-fill.loading {
    background: repeating-linear-gradient(
        90deg,
        var(--partidos-primary),
        var(--partidos-primary) 10px,
        rgba(247, 131, 92, 0.3) 10px,
        rgba(247, 131, 92, 0.3) 20px
    );
    background-size: 40px 100%;
    animation: loading-stripe 1s linear infinite;
 }
 
 @keyframes loading-stripe {
    0% {
        background-position: 0 0;
    }
    100% {
        background-position: 40px 0;
    }
 }
 
 /* ======= Focus improvements ======= */
 .partido-link:focus,
 .historial-item:focus {
    outline: 2px solid var(--partidos-primary);
    outline-offset: 2px;
 }
 
 .dropdown-item:focus {
    background: rgba(255, 255, 255, 0.05);
    color: var(--partidos-text-primary);
    outline: none;
 }

================
File: app/static/css/partidos/resultado_partido_styles.css
================
/* ======= Variables CSS para Resultado Partido ======= */
:root {
    --seville-orange: #f7835c;
    --mint: #00d4b1;
    
    --resultado-primary: var(--seville-orange);
    --resultado-secondary: var(--mint);
    --resultado-accent-subtle: rgba(247, 131, 92, 0.06);
    --resultado-accent-border: rgba(247, 131, 92, 0.12);
    --resultado-mint-subtle: rgba(0, 212, 177, 0.06);
    --resultado-mint-border: rgba(0, 212, 177, 0.12);
    
    --resultado-text-primary: #ffffff;
    --resultado-text-secondary: #a8a8a8;
    --resultado-text-muted: #6b7280;
    --resultado-bg-primary: #0F172A;
    --resultado-bg-card: #1a1a2e;
    --resultado-bg-elevated: #242438;
    --resultado-border: rgba(255, 255, 255, 0.08);
    --resultado-border-strong: rgba(255, 255, 255, 0.12);
    --resultado-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    --resultado-shadow-strong: 0 8px 32px rgba(0, 0, 0, 0.25);
    --resultado-radius: 16px;
    --resultado-radius-small: 12px;
    --resultado-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ======= Container Principal ======= */
#resultado-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    gap: 2.5rem;
}

/* ======= Hero Section ======= */
#resultado-hero-section {
    background: var(--resultado-bg-card);
    border: 1px solid var(--resultado-border);
    border-radius: var(--resultado-radius);
    padding: 3rem;
    text-align: center;
}

.hero-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
}

.hero-icon {
    width: 80px;
    height: 80px;
    background: var(--resultado-accent-subtle);
    border: 1px solid var(--resultado-accent-border);
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.hero-icon i {
    font-size: 2.25rem;
    color: var(--resultado-primary);
}

.hero-text {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.hero-title {
    font-size: clamp(1.75rem, 4vw, 2.25rem);
    font-weight: 700;
    color: var(--resultado-text-primary);
    margin: 0;
    letter-spacing: -0.02em;
    line-height: 1.2;
}

.hero-subtitle {
    font-size: 1.1rem;
    color: var(--resultado-text-secondary);
    font-weight: 400;
    margin: 0;
}



/* ======= Equipos Section ======= */
#resultado-equipos-section {
    background: var(--resultado-bg-card);
    border: 1px solid var(--resultado-border);
    border-radius: var(--resultado-radius);
    padding: 2rem;
}

.equipos-enfrentamiento {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 2rem;
    align-items: center;
}

.equipo-card {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--resultado-border);
    border-radius: var(--resultado-radius-small);
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    text-align: center;
    transition: var(--resultado-transition);
}

.equipo-card.equipo-local {
    border-left: 4px solid var(--resultado-primary);
}

.equipo-card.equipo-visitante {
    border-right: 4px solid var(--resultado-secondary);
}

.equipo-icon {
    width: 48px;
    height: 48px;
    background: var(--resultado-accent-subtle);
    border: 1px solid var(--resultado-accent-border);
    border-radius: var(--resultado-radius-small);
    display: flex;
    align-items: center;
    justify-content: center;
}

.equipo-visitante .equipo-icon {
    background: var(--resultado-mint-subtle);
    border-color: var(--resultado-mint-border);
}

.equipo-icon i {
    font-size: 1.25rem;
    color: var(--resultado-primary);
}

.equipo-visitante .equipo-icon i {
    color: var(--resultado-secondary);
}

.equipo-info {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.equipo-nombre {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--resultado-text-primary);
    margin: 0;
    line-height: 1.2;
}

.equipo-label {
    font-size: 0.8rem;
    color: var(--resultado-text-muted);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.vs-separator {
    display: flex;
    justify-content: center;
    align-items: center;
}

.vs-circle {
    width: 60px;
    height: 60px;
    background: var(--resultado-bg-elevated);
    border: 2px solid var(--resultado-border);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.vs-text {
    font-size: 1rem;
    font-weight: 700;
    color: var(--resultado-text-primary);
    letter-spacing: 1px;
}

/* ======= Warning No Equipos ======= */
.no-equipos-warning {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem;
    background: rgba(245, 158, 11, 0.1);
    border: 1px solid rgba(245, 158, 11, 0.2);
    border-radius: var(--resultado-radius-small);
    color: #f59e0b;
}

.warning-icon {
    flex-shrink: 0;
}

.warning-icon i {
    font-size: 1.5rem;
}

.warning-content {
    flex: 1;
}

.warning-title {
    font-size: 1rem;
    font-weight: 600;
    margin: 0 0 0.5rem 0;
}

.warning-text {
    font-size: 0.9rem;
    margin: 0;
    line-height: 1.4;
    opacity: 0.9;
}

/* ======= Form Section ======= */
#resultado-form-section {
    background: var(--resultado-bg-card);
    border: 1px solid var(--resultado-border);
    border-radius: var(--resultado-radius);
    overflow: hidden;
}

.form-container {
    display: flex;
    flex-direction: column;
}

.form-header {
    padding: 2rem 2rem 1rem;
    border-bottom: 1px solid var(--resultado-border);
    text-align: center;
}

.form-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--resultado-text-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    margin: 0 0 0.5rem 0;
}

.form-title i {
    color: var(--resultado-primary);
}

.form-subtitle {
    font-size: 0.95rem;
    color: var(--resultado-text-secondary);
    margin: 0;
}

.form-body {
    padding: 2rem;
}

.resultado-form {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.form-fields {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

/* ======= Form Controls ======= */
.form-group {
    margin-bottom: 0;
}

.form-label {
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--resultado-text-secondary);
    margin-bottom: 0.5rem;
    display: block;
}

.form-control {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--resultado-border);
    border-radius: var(--resultado-radius-small);
    color: var(--resultado-text-primary);
    font-size: 1rem;
    padding: 0.875rem 1rem;
    transition: var(--resultado-transition);
    width: 100%;
}

.form-control:focus {
    background: rgba(255, 255, 255, 0.08);
    border-color: var(--resultado-accent-border);
    box-shadow: 0 0 0 3px var(--resultado-accent-subtle);
    outline: none;
}

.form-control::placeholder {
    color: var(--resultado-text-muted);
}

.form-control.is-invalid {
    border-color: #ef4444;
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
}

.invalid-feedback {
    color: #ef4444;
    font-size: 0.85rem;
    margin-top: 0.5rem;
    display: block;
}

/* ======= Form Actions ======= */
.form-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    padding-top: 1rem;
    border-top: 1px solid var(--resultado-border);
}

.btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.875rem 1.5rem;
    border-radius: var(--resultado-radius-small);
    font-size: 0.9rem;
    font-weight: 500;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: var(--resultado-transition);
    font-family: inherit;
    white-space: nowrap;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.btn:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
}

.btn-primary {
    background: var(--resultado-primary);
    color: white;
    border: 1px solid var(--resultado-primary);
}

.btn-primary:hover:not(:disabled) {
    background: #e6743f;
    border-color: #e6743f;
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(247, 131, 92, 0.3);
    color: white;
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.05);
    color: var(--resultado-text-secondary);
    border: 1px solid var(--resultado-border);
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.08);
    color: var(--resultado-text-primary);
    border-color: var(--resultado-border-strong);
    transform: translateY(-2px);
    text-decoration: none;
}

.btn-save.loading {
    cursor: not-allowed;
    opacity: 0.8;
}

.btn-loader {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    opacity: 0;
    transition: var(--resultado-transition);
}

.btn-save.loading .btn-loader {
    opacity: 1;
}

.spinner {
    width: 20px;
    height: 20px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top: 2px solid white;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* ======= Info Section ======= */
#resultado-info-section {
    margin-top: 1rem;
}

.info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
}

.info-card {
    background: var(--resultado-bg-card);
    border: 1px solid var(--resultado-border);
    border-radius: var(--resultado-radius-small);
    padding: 1.5rem;
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    transition: var(--resultado-transition);
    opacity: 0;
    transform: translateY(20px);
}

.info-card.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.info-card-icon {
    width: 44px;
    height: 44px;
    background: var(--resultado-accent-subtle);
    border: 1px solid var(--resultado-accent-border);
    border-radius: var(--resultado-radius-small);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.info-card-icon i {
    font-size: 1.1rem;
    color: var(--resultado-primary);
}

.info-card-content {
    flex: 1;
}

.info-card-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--resultado-text-primary);
    margin: 0 0 0.5rem 0;
}

.info-card-description {
    font-size: 0.875rem;
    color: var(--resultado-text-secondary);
    margin: 0;
    line-height: 1.5;
}

/* ======= Responsive Design ======= */
@media (max-width: 768px) {
    #resultado-container {
        padding: 1rem;
        gap: 2rem;
    }
    
    #resultado-hero-section {
        padding: 2rem 1.5rem;
    }
    
    .hero-icon {
        width: 64px;
        height: 64px;
    }
    
    .hero-icon i {
        font-size: 1.75rem;
    }
    
    .hero-title {
        font-size: 1.75rem;
    }
    
    .hero-subtitle {
        font-size: 1rem;
    }
    
    #resultado-partido-info {
        padding: 1.5rem;
    }
    
    #resultado-equipos-section {
        padding: 1.5rem;
    }
    
    .equipos-enfrentamiento {
        grid-template-columns: 1fr;
        gap: 1.5rem;
        text-align: center;
    }
    
    .vs-separator {
        order: 2;
    }
    
    .equipo-visitante {
        order: 3;
    }
    
    .form-body {
        padding: 1.5rem;
    }
    
    .form-header {
        padding: 1.5rem 1.5rem 1rem;
    }
    
    .form-actions {
        flex-direction: column;
    }
    
    .info-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .info-card {
        padding: 1.25rem;
    }
}

@media (max-width: 480px) {
    #resultado-container {
        padding: 0.75rem;
    }
    
    #resultado-hero-section {
        padding: 1.5rem 1rem;
    }
    
    .hero-content {
        gap: 1rem;
    }
    
    .hero-icon {
        width: 56px;
        height: 56px;
    }
    
    .hero-icon i {
        font-size: 1.5rem;
    }
    
    .hero-title {
        font-size: 1.5rem;
    }
    
    .hero-subtitle {
        font-size: 0.9rem;
    }
    
    #resultado-partido-info,
    #resultado-equipos-section {
        padding: 1.25rem;
    }
    
    .partido-details {
        gap: 1.25rem;
    }
    
    .info-item {
        gap: 0.75rem;
    }
    
    .info-icon {
        width: 36px;
        height: 36px;
    }
    
    .info-icon i {
        font-size: 0.8rem;
    }
    
    .info-value {
        font-size: 0.9rem;
    }
    
    .equipo-card {
        padding: 1.25rem;
    }
    
    .equipo-icon {
        width: 40px;
        height: 40px;
   }
   
   .equipo-icon i {
       font-size: 1rem;
   }
   
   .equipo-nombre {
       font-size: 1rem;
   }
   
   .vs-circle {
       width: 50px;
       height: 50px;
   }
   
   .vs-text {
       font-size: 0.9rem;
   }
   
   .form-body {
       padding: 1.25rem;
   }
   
   .form-header {
       padding: 1.25rem 1.25rem 1rem;
   }
   
   .form-title {
       font-size: 1.125rem;
   }
   
   .form-subtitle {
       font-size: 0.875rem;
   }
   
   .form-control {
       padding: 0.75rem 0.875rem;
       font-size: 0.9rem;
   }
   
   .btn {
       padding: 0.75rem 1.25rem;
       font-size: 0.85rem;
   }
   
   .info-card {
       padding: 1rem;
       gap: 0.875rem;
   }
   
   .info-card-icon {
       width: 38px;
       height: 38px;
   }
   
   .info-card-icon i {
       font-size: 1rem;
   }
   
   .info-card-title {
       font-size: 0.9rem;
   }
   
   .info-card-description {
       font-size: 0.8rem;
   }
   
   .warning-icon i {
       font-size: 1.25rem;
   }
   
   .warning-title {
       font-size: 0.9rem;
   }
   
   .warning-text {
       font-size: 0.8rem;
   }
   
   .no-equipos-warning {
       padding: 1.25rem;
       gap: 0.875rem;
   }
}

/* ======= Animaciones ======= */
@keyframes fadeInUp {
   from {
       opacity: 0;
       transform: translateY(30px);
   }
   to {
       opacity: 1;
       transform: translateY(0);
   }
}

@keyframes slideInLeft {
   from {
       opacity: 0;
       transform: translateX(-30px);
   }
   to {
       opacity: 1;
       transform: translateX(0);
   }
}

@keyframes slideInRight {
   from {
       opacity: 0;
       transform: translateX(30px);
   }
   to {
       opacity: 1;
       transform: translateX(0);
   }
}

.animate-in {
   animation: fadeInUp 0.6s ease forwards;
}

/* ======= Estados de carga ======= */
.btn:disabled {
   opacity: 0.6;
   cursor: not-allowed;
   transform: none !important;
}

.btn:disabled:hover {
   transform: none !important;
   box-shadow: none !important;
}

.loading-state {
   position: relative;
   overflow: hidden;
}

.loading-state::after {
   content: '';
   position: absolute;
   top: 0;
   left: -100%;
   width: 100%;
   height: 100%;
   background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
   animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
   0% {
       left: -100%;
   }
   100% {
       left: 100%;
   }
}

/* ======= Accesibilidad ======= */
@media (prefers-reduced-motion: reduce) {
   * {
       animation-duration: 0.01ms !important;
       animation-iteration-count: 1 !important;
       transition-duration: 0.01ms !important;
   }
}

/* ======= Focus improvements ======= */
.form-control:focus {
   outline: none;
}

.btn:focus-visible {
   outline: 2px solid var(--resultado-primary);
   outline-offset: 2px;
}

.equipo-card:focus-within {
   border-color: var(--resultado-accent-border);
   box-shadow: 0 0 0 2px var(--resultado-accent-subtle);
}

/* ======= Hover effects mejorados ======= */
.info-card:hover {
   transform: translateY(-2px);
   box-shadow: var(--resultado-shadow);
   border-color: var(--resultado-accent-border);
}

.info-card:hover .info-card-icon {
   background: var(--resultado-accent-border);
}

.info-card:hover .info-card-icon i {
   transform: scale(1.1);
}

/* ======= Estados de validación ======= */
.form-group.has-error .form-control {
   border-color: #ef4444;
   box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
}

.form-group.has-success .form-control {
   border-color: #10b981;
   box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
}

/* ======= Utilities ======= */
.text-center {
   text-align: center;
}

.text-left {
   text-align: left;
}

.text-right {
   text-align: right;
}

.d-none {
   display: none;
}

.d-block {
   display: block;
}

.d-flex {
   display: flex;
}

.align-items-center {
   align-items: center;
}

.justify-content-center {
   justify-content: center;
}

.justify-content-between {
   justify-content: space-between;
}

.flex-column {
   flex-direction: column;
}

.flex-wrap {
   flex-wrap: wrap;
}

.gap-1 {
   gap: 0.5rem;
}

.gap-2 {
   gap: 1rem;
}

.gap-3 {
   gap: 1.5rem;
}

.mt-1 {
   margin-top: 0.5rem;
}

.mt-2 {
   margin-top: 1rem;
}

.mt-3 {
   margin-top: 1.5rem;
}

.mb-1 {
   margin-bottom: 0.5rem;
}

.mb-2 {
   margin-bottom: 1rem;
}

.mb-3 {
   margin-bottom: 1.5rem;
}

.p-1 {
   padding: 0.5rem;
}

.p-2 {
   padding: 1rem;
}

.p-3 {
   padding: 1.5rem;
}

/* ======= Print styles ======= */
@media print {
   #resultado-container {
       padding: 0;
       gap: 1rem;
   }
   
   .btn {
       display: none;
   }
   
   .form-actions {
       display: none;
   }
   
   .info-card {
       break-inside: avoid;
       box-shadow: none;
       border: 1px solid #000;
   }
   
   .hero-icon,
   .info-icon,
   .equipo-icon,
   .info-card-icon {
       background: #f0f0f0 !important;
       border-color: #ccc !important;
   }
   
   * {
       color: #000 !important;
       background: #fff !important;
   }
}

/* ======= Custom Crispy Forms Styles ======= */
.crispy-form .form-group {
   margin-bottom: 1.5rem;
}

.crispy-form .form-control {
   background: rgba(255, 255, 255, 0.05);
   border: 1px solid var(--resultado-border);
   color: var(--resultado-text-primary);
}

.crispy-form .form-control:focus {
   background: rgba(255, 255, 255, 0.08);
   border-color: var(--resultado-accent-border);
   box-shadow: 0 0 0 3px var(--resultado-accent-subtle);
}

.crispy-form label {
   color: var(--resultado-text-secondary);
   font-weight: 500;
   margin-bottom: 0.5rem;
}

.crispy-form .help-text {
   color: var(--resultado-text-muted);
   font-size: 0.85rem;
   margin-top: 0.25rem;
}

.crispy-form .form-text {
   color: var(--resultado-text-muted);
   font-size: 0.85rem;
}

/* ======= Form Row Layout ======= */
.form-row {
   display: flex;
   gap: 1rem;
   margin-bottom: 1.5rem;
}

.form-row .form-group {
   flex: 1;
   margin-bottom: 0;
}

@media (max-width: 576px) {
   .form-row {
       flex-direction: column;
       gap: 0;
   }
   
   .form-row .form-group {
       margin-bottom: 1.5rem;
   }
   
   .form-row .form-group:last-child {
       margin-bottom: 0;
   }
}

/* ======= Success States ======= */
.success-message {
   background: rgba(16, 185, 129, 0.1);
   border: 1px solid rgba(16, 185, 129, 0.2);
   color: #10b981;
   padding: 1rem 1.5rem;
   border-radius: var(--resultado-radius-small);
   margin-bottom: 1.5rem;
   display: flex;
   align-items: center;
   gap: 0.75rem;
}

.success-message i {
   font-size: 1.125rem;
}

/* ======= Error States ======= */
.error-message {
   background: rgba(239, 68, 68, 0.1);
   border: 1px solid rgba(239, 68, 68, 0.2);
   color: #ef4444;
   padding: 1rem 1.5rem;
   border-radius: var(--resultado-radius-small);
   margin-bottom: 1.5rem;
   display: flex;
   align-items: center;
   gap: 0.75rem;
}

.error-message i {
   font-size: 1.125rem;
}

/* ======= Loading Skeleton ======= */
.skeleton {
   background: linear-gradient(90deg, var(--resultado-bg-elevated) 25%, var(--resultado-bg-card) 50%, var(--resultado-bg-elevated) 75%);
   background-size: 200% 100%;
   animation: loading 1.5s infinite;
   border-radius: var(--resultado-radius-small);
}

@keyframes loading {
   0% {
       background-position: 200% 0;
   }
   100% {
       background-position: -200% 0;
   }
}

.skeleton-text {
   height: 1rem;
   margin-bottom: 0.5rem;
}

.skeleton-title {
   height: 1.5rem;
   margin-bottom: 1rem;
}

.skeleton-button {
   height: 2.5rem;
   width: 120px;
}

================
File: app/templates/auth/registration.html
================
{% load static %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro - FieldConnect</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="{% static 'css/auth/registration_styles.css' %}" rel="stylesheet">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="{% url 'landing' %}">FieldConnect</a>
            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <i class="fas fa-bars text-white"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="navbar-nav ms-auto">
                    <a class="nav-link-auth" href="{% url 'login' %}">
                        <i class="fas fa-sign-in-alt"></i>
                        Iniciar sesión
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Register Section -->
    <section class="register-section">
        <!-- Background Elements -->
        <div class="register-bg-pattern"></div>
        
        <!-- Hero Image -->
        <div class="register-hero-image d-none d-xl-block">
            <img src="https://sportrenders.com/wp-content/uploads/2023/06/David-Beckham-Image-PNG-Render-Manchester-United-Futbol-Sport-Renders.png" alt="David Beckham" loading="lazy">
            <div class="register-image-glow"></div>
        </div>
        
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-10 col-lg-8">
                    <div class="register-card fade-in">
                        <div class="register-card-header">
                            <h1 class="register-title">Crea tu cuenta</h1>
                            
                            <p class="register-subtitle">
                                Únete a la comunidad y empieza a disfrutar del fútbol como antes
                            </p>
                        </div>
                        
                        <form method="post" enctype="multipart/form-data" class="register-form">
                            {% csrf_token %}
                            
                            <div class="form-grid">
                                {{ form | crispy }}
                            </div>
                            
                            <button type="submit" class="btn btn-register">
                                <i class="fas fa-user-plus"></i>
                                Crear cuenta
                            </button>
                            
                            <div class="register-footer">
                                <p>¿Ya tienes una cuenta? 
                                    <a href="{% url 'login' %}" class="register-link">Inicia sesión</a>
                                </p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="register-footer-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                    <p class="footer-text">© 2025 FieldConnect. Simple por diseño.</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <p class="footer-text">
                        Reviviendo el fútbol callejero 
                        <i class="fas fa-futbol gradient-text mx-1"></i>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script>
        // Scroll animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });
    </script>
</body>
</html>

================
File: app/templates/components/svg/logo.html
================
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="35" x="0" y="35" viewBox="0 0 497 497" style="enable-background:new 0 0 512 512" xml:space="preserve" class="">
    <g transform="matrix(0.9800000000000006,0,0,0.9800000000000006,4.96999999999997,4.970010070800811)">
        <path fill="#b8b4b3" d="M441.231 91.644 338.209 16.701C310.38 5.923 280.134 0 248.5 0l55.991 488.75h7.687c60.503-15.995 111.961-54.229 145.096-105.435l39.35-121.196c.244-4.51.376-9.049.376-13.619 0-59.484-20.911-114.078-55.769-156.856z" opacity="1" data-original="#b8b4b3" class=""></path>
        <path fill="#d0cdcd" d="M467 248.5C467 111.257 369.174 0 248.5 0c-31.634 0-61.88 5.923-89.709 16.701L55.769 91.643C20.911 134.422 0 189.016 0 248.5c0 4.57.132 9.11.376 13.619l39.35 121.196c33.135 51.206 84.592 89.44 145.096 105.435h119.669C398.035 460.626 467 363.729 467 248.5z" opacity="1" data-original="#d0cdcd" class=""></path>
        <path fill="#e7e6e6" d="m248.5 248.5-30 109.25 30 109.25c97.103 0 179.396-63.348 207.846-150.967L352.423 248.5z" opacity="1" data-original="#e7e6e6" class=""></path>
        <path fill="#f7f7f7" d="M40.654 316.033C69.104 403.652 151.397 467 248.5 467V248.5H144.577z" opacity="1" data-original="#f7f7f7"></path>
        <path fill="#ffffff" d="M376.931 71.73H120.069C65.488 111.454 30 175.828 30 248.5c0 23.571 3.748 46.264 10.654 67.533L248.5 248.5l207.846 67.533C463.252 294.764 467 272.071 467 248.5c0-72.672-35.488-137.046-90.069-176.77z" opacity="1" data-original="#ffffff" class=""></path>
        <path fill="#e7e6e6" d="M376.931 71.73C340.879 45.491 296.502 30 248.5 30s-92.379 15.491-128.431 41.73L248.5 248.5z" opacity="1" data-original="#e7e6e6" class=""></path>
        <path fill="#026353" d="M248.5 497c22.014 0 43.354-2.876 63.678-8.25l2.311-3.297z" opacity="1" data-original="#292827" class=""></path>
        <path fill="#00d4b1" d="m248.5 407-93.679 38.944 30.001 42.807c20.325 5.373 41.664 8.25 63.678 8.25 23.001 0 45.167-4.053 65.989-11.546l27.69-39.51z" opacity="1" data-original="#464342" class=""></path>
        <path fill="#026353" d="m465.661 220.994-39.234 171.767 30.847-9.445c22.818-35.262 36.944-76.669 39.35-121.196z" opacity="1" data-original="#292827" class=""></path>
        <path fill="#00d4b1" d="m465.661 220.994-.432-.574-65.986 77.06 8.089 101.128 19.095-5.847C451.968 352.087 467 302.291 467 248.5c0-9.299-.464-18.473-1.339-27.506z" opacity="1" data-original="#464342" class=""></path>
        <path fill="#026353" d="m338.209 16.701-6.175 2.123 108.545 111.125.652-38.306c-27.029-33.17-62.446-59.228-103.022-74.942z" opacity="1" data-original="#292827" class=""></path>
        <g fill="#464342">
            <path d="m332.034 18.824-43.267 14.878 52.897 86.569 98.678 23.557.236-13.878c-23.807-49.789-62.151-89.277-108.544-111.126zM155.336 120.271l52.897-86.569-49.442-17.001C118.215 32.415 82.798 58.473 55.769 91.643l.889 52.185zM97.758 297.479l-65.986-77.06-31.396 41.7c2.405 44.527 16.532 85.934 39.35 121.196l49.943 15.292zM248.5 347l93.679-68.062-35.782-110.126H190.603l-35.782 110.126z" fill="#00d4b1" opacity="1" data-original="#464342" class=""></path>
        </g>
    </g>
</svg>

================
File: app/templates/components/landing_nav.html
================
<!-- Navbar con espaciador para mantener la posición de los botones -->
<nav class="navbar navbar-expand-lg navbar-dark sticky-top py-3" style="background-color: #0a0a0a;">
    <div class="container-fluid px-4">
        <!-- Logo y Marca -->
        <a class="navbar-brand d-flex align-items-center" href="{% url 'landing'%}">
            {% include 'components/svg/logo.html' %}
            <span class="fw-bold fs-4">XXX</span>
        </a>
        
        <!-- Toggle para móviles -->
        <button class="navbar-toggler border-success" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <!-- Contenedor con estructura fija -->
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <!-- División en tres partes con flexbox -->
            <div class="d-flex justify-content-between align-items-center w-100">
                <!-- Primera parte: espacio vacío a la izquierda -->
                <div class="flex-grow-1 d-lg-block d-none" style="width: 160px;"></div>
                
                <!-- Segunda parte: enlaces -->
                <ul class="navbar-nav" id="enlaces">
                    <li class="nav-item px-2">
                        <a class="nav-link fs-5 active" href="#inicio">Inicio</a>
                    </li>
                    <li class="nav-item px-2">
                        <a class="nav-link fs-5" href="#caracteristicas">Características</a>
                    </li>
                    <li class="nav-item px-2">
                        <a class="nav-link fs-5" href="#como-funciona">Cómo Funciona</a>
                    </li>
                </ul>
                
                <!-- Elemento espaciador invisible que toma el lugar de los enlaces cuando se ocultan -->
                <div id="enlaces-placeholder" class="flex-grow-1 d-none"></div>
                
                <!-- Tercera parte: botones de login siempre a la derecha -->
                <div class="d-flex gap-3">
                    <a href="{% url 'login' %}" class="btn btn-outline-success px-4" id="btn-login">
                        <i class="fas fa-sign-in-alt me-2"></i>Acceder
                    </a>
                    <a href="{% url 'registro' %}" class="btn btn-success px-4" id="btn-reg">
                        <i class="fas fa-user-plus me-2"></i>Registrarse
                    </a>
                </div>
            </div>
        </div>
    </div>
</nav>
<script>
    document.addEventListener('DOMContentLoaded', function() {
    
    const enlaces = document.getElementById('enlaces');
    const enlacesPlaceholder = document.getElementById('enlaces-placeholder');
    const botonLogin = document.getElementById('btn-login');
    const botonReg = document.getElementById('btn-reg');
    
    const currentPath = window.location.pathname;
    
    if (currentPath.includes('/login') || currentPath.includes('/registro')) {

        enlaces.style.display = 'none';

        enlacesPlaceholder.classList.remove('d-none');

    }else if (currentPath.includes('/login')) {

        botonLogin.style.display = 'none';

    }else if (currentPath.includes('/registro')) {

        botonReg.style.display = 'none';

    } else {
        
        enlacesPlaceholder.classList.remove('d-none');
    }

    
});
</script>

================
File: app/templates/global/landing_page.html
================
{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeRabona - Conecta. Juega. Simple.</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="{% static 'css/global/landing_styles.css' %}" rel="stylesheet">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">De Rabona</a>
            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <i class="fas fa-bars text-white"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="navbar-nav me-auto">
                    <a class="nav-link" href="#inicio">Inicio</a>
                    <a class="nav-link" href="#features">Features</a>
                    <a class="nav-link" href="#stats">Stats</a>
                </div>
                <div class="navbar-nav ms-auto">
                    <a class="nav-link-auth" href="{% url 'login' %}">
                        <i class="fas fa-sign-in-alt"></i>
                        Iniciar sesión
                    </a>
                    <a class="nav-btn-register" href="{% url 'registro' %}">
                        <i class="fas fa-user-plus"></i>
                        Registrarse
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero -->
    <section id="inicio" class="hero">
        <!-- Hero Image - Clean Integration -->
        <div class="hero-image d-none d-md-block">
            <img src="https://sportrenders.com/wp-content/uploads/2023/07/Messi-FC-Barcelona-Image-PNG-Render-Futbol-Sport-Renders-1.png" alt="Ronaldo" loading="lazy">
        </div>
        
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="hero-content">
                        
                        <h1 class="hero-title">
                            Conecta.
                            Juega.<br>
                            <span class="gradient-text">Gana.</span>
                            
                        </h1>
                        
                        <p class="hero-subtitle">
                            El fútbol de los 90 con la<span class="gradient-text"> tecnología</span> del presente<br>
                        </p>
                        
                        <div class="hero-actions">
                            <a href="#register" class="btn btn-primary">
                                <i class="fas fa-play"></i>
                                Comenzar
                            </a>
                            <a href="#features" class="btn btn-secondary">
                                Ver más
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features -->
    <section id="features" class="features">
        <div class="container">
            <div class="section-header fade-in">
                <h2 class="section-title">Simple. Directo. Efectivo.</h2>
                <p class="section-subtitle">
                    Todo lo que necesitas para organizar partidos, nada más.
                </p>
            </div>
            
            <div class="features-grid">
                <div class="feature-card fade-in">
                    <div class="feature-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <h3 class="feature-title">Encuentra partidos</h3>
                    <p class="feature-description">
                        Localiza partidos cerca de ti en segundos. Filtros simples, resultados precisos.
                    </p>
                </div>
                
                <div class="feature-card fade-in">
                    <div class="feature-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3 class="feature-title">Conecta jugadores</h3>
                    <p class="feature-description">
                        Únete a partidos o crea los tuyos. Comunicación directa, confirmación instantánea.
                    </p>
                </div>
                
                <div class="feature-card fade-in">
                    <div class="feature-icon">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <h3 class="feature-title">Organiza fácil</h3>
                    <p class="feature-description">
                        Programa, invita, confirma. Todo en unos pocos toques. Sin llamadas infinitas.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats -->
    <section id="stats" class="stats">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-item fade-in">
                    <span class="stat-number">12K+</span>
                    <div class="stat-label">Jugadores activos</div>
                </div>
                <div class="stat-item fade-in">
                    <span class="stat-number">3.2K+</span>
                    <div class="stat-label">Partidos semanales</div>
                </div>
                <div class="stat-item fade-in">
                    <span class="stat-number">450+</span>
                    <div class="stat-label">Canchas activas</div>
                </div>
                <div class="stat-item fade-in">
                    <span class="stat-number">4.8</span>
                    <div class="stat-label">Rating promedio</div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="cta">
        <div class="container">
            <div class="cta-content fade-in">
                <h2 class="cta-title">¿Listo para jugar?</h2>
                <p class="cta-subtitle">
                    Únete a la comunidad más simple y directa para organizar partidos de fútbol.
                </p>
                <a href="#register" class="btn btn-primary">
                    <i class="fas fa-user-plus"></i>
                    Crear cuenta gratis
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4 mb-lg-0">
                    <div class="footer-brand">FieldConnect</div>
                    <p class="footer-description">
                        La forma más simple de conectar con el fútbol que amas.
                    </p>
                </div>
                <div class="col-lg-2 col-6 mb-4 mb-lg-0">
                    <div class="footer-links">
                        <a href="#">Producto</a>
                        <a href="#">Features</a>
                        <a href="#">Precios</a>
                    </div>
                </div>
                <div class="col-lg-2 col-6 mb-4 mb-lg-0">
                    <div class="footer-links">
                        <a href="#">Empresa</a>
                        <a href="#">Blog</a>
                        <a href="#">Contacto</a>
                    </div>
                </div>
                <div class="col-lg-2 col-6 mb-4 mb-lg-0">
                    <div class="footer-links">
                        <a href="#">Legal</a>
                        <a href="#">Privacidad</a>
                        <a href="#">Términos</a>
                    </div>
                </div>
                <div class="col-lg-2 col-6">
                    <div class="footer-links">
                        <a href="#">Soporte</a>
                        <a href="#">FAQ</a>
                        <a href="#">Ayuda</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 DeRabona. Conectando jugadores desde el barrio hasta el estadio.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script>
        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    const navHeight = document.querySelector('.navbar').offsetHeight;
                    window.scrollTo({
                        top: target.offsetTop - navHeight,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Scroll animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });

        // Counter animation
        const animateCounters = () => {
            const counters = document.querySelectorAll('.stat-number');
            counters.forEach(counter => {
                const target = parseFloat(counter.textContent.replace(/[^\d.]/g, ''));
                let current = 0;
                const increment = target / 50;
                
                const updateCounter = () => {
                    if (current < target) {
                        current += increment;
                        if (counter.textContent.includes('.')) {
                            counter.textContent = current.toFixed(1);
                        } else {
                            counter.textContent = Math.floor(current).toLocaleString() + 
                                (counter.textContent.includes('K') ? 'K+' : 
                                 counter.textContent.includes('+') ? '+' : '');
                        }
                        requestAnimationFrame(updateCounter);
                    } else {
                        counter.textContent = counter.textContent; // restore original
                    }
                };
                updateCounter();
            });
        };

        // Trigger counter animation when stats section is visible
        const statsObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    animateCounters();
                    statsObserver.unobserve(entry.target);
                }
            });
        });

        const statsSection = document.querySelector('#stats');
        if (statsSection) {
            statsObserver.observe(statsSection);
        }
    </script>
</body>
</html>

================
File: app/templates/partidos/crear_partidos.html
================
{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block title %}{{ titulo_pagina|default:"Crear Partido" }} - De Rabona{% endblock %}

{% block extra_css %}
<link href="{% static 'css/partidos/crear_partido_styles.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="crear-partido-container">
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <div class="hero-icon">
                <i class="fas fa-plus-circle"></i>
            </div>
            <div class="hero-text">
                <h1 class="hero-title">{{ titulo_pagina|default:"Crear Nuevo Partido" }}</h1>
                <p class="hero-subtitle">Organiza un partido y encuentra jugadores para completar tu equipo</p>
            </div>
        </div>
    </section>

    <!-- Form Section -->
    <section class="form-section">
        <div class="form-container">
            <div class="form-header">
                <h2 class="form-title">Detalles del Partido</h2>
                <p class="form-subtitle">Completa la información necesaria para tu partido</p>
            </div>
            
            <div class="form-body">
                <form method="post" enctype="multipart/form-data" class="partido-form" id="partidoForm">
                    {% csrf_token %}
                    
                    <div class="form-fields">
                        {{ form | crispy }}
                    </div>
                    
                    <div class="form-actions">
                        <a href="{% url 'buscar_partidos' %}" class="btn btn-secondary">
                            <i class="fas fa-arrow-left"></i>
                            <span>Cancelar</span>
                        </a>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-check"></i>
                            <span class="btn-text">Crear Partido</span>
                            <div class="btn-loader">
                                <div class="spinner"></div>
                            </div>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Tips Section -->
    <section class="tips-section">
        <div class="tips-container">
            <div class="tips-header">
                <h3 class="tips-title">Consejos para organizar un buen partido</h3>
                <div class="title-accent"></div>
            </div>
            
            <div class="tips-grid">
                <div class="tip-card">
                    <div class="tip-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="tip-content">
                        <h4 class="tip-title">Planifica con tiempo</h4>
                        <p class="tip-description">Crea el partido con al menos 24-48 horas de anticipación para dar tiempo a los jugadores a organizarse.</p>
                    </div>
                </div>
                
                <div class="tip-card">
                    <div class="tip-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <div class="tip-content">
                        <h4 class="tip-title">Elige una buena ubicación</h4>
                        <p class="tip-description">Selecciona una cancha accesible y bien ubicada. Verifica que tenga estacionamiento y transporte público cercano.</p>
                    </div>
                </div>
                
                <div class="tip-card">
                    <div class="tip-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="tip-content">
                        <h4 class="tip-title">Define el nivel</h4>
                        <p class="tip-description">Especifica claramente el nivel de juego para que se unan jugadores con habilidades similares y el partido sea equilibrado.</p>
                    </div>
                </div>
                
                <div class="tip-card">
                    <div class="tip-icon">
                        <i class="fas fa-comment-dots"></i>
                    </div>
                    <div class="tip-content">
                        <h4 class="tip-title">Comunica las reglas</h4>
                        <p class="tip-description">Incluye información sobre el tipo de juego, duración, si hay árbitro, y cualquier regla especial que aplicará.</p>
                    </div>
                </div>
                
                <div class="tip-card">
                    <div class="tip-icon">
                        <i class="fas fa-euro-sign"></i>
                    </div>
                    <div class="tip-content">
                        <h4 class="tip-title">Costos transparentes</h4>
                        <p class="tip-description">Si hay algún costo por la cancha o servicios, especifícalo claramente desde el inicio para evitar malentendidos.</p>
                    </div>
                </div>
                
                <div class="tip-card">
                    <div class="tip-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="tip-content">
                        <h4 class="tip-title">Seguridad primero</h4>
                        <p class="tip-description">Asegúrate de que la cancha esté en buenas condiciones y recuerda a los jugadores usar equipo de protección apropiado.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('partidoForm');
    const submitBtn = document.querySelector('.btn-primary');
    const btnText = document.querySelector('.btn-text');
    const btnLoader = document.querySelector('.btn-loader');
    
    // Animaciones de entrada
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.classList.add('animate-in');
                }, index * 100);
                observer.unobserve(entry.target);
            }
        });
    }, observerOptions);

    // Observar elementos para animación
    document.querySelectorAll('.tip-card, .form-container').forEach(el => {
        observer.observe(el);
    });
    
    // Manejo del formulario
    if (form && submitBtn) {
        form.addEventListener('submit', function(e) {
            // Validación básica
            const requiredFields = form.querySelectorAll('[required]');
            let isValid = true;
            
            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    isValid = false;
                    field.classList.add('is-invalid');
                } else {
                    field.classList.remove('is-invalid');
                }
            });
            
            if (!isValid) {
                e.preventDefault();
                const firstError = form.querySelector('.is-invalid');
                if (firstError) {
                    firstError.scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'center' 
                    });
                }
                return;
            }
            
            // Estado de carga
            submitBtn.disabled = true;
            submitBtn.classList.add('loading');
            btnText.style.opacity = '0';
            btnLoader.style.opacity = '1';
        });
        
        // Limpiar errores al escribir
        const formFields = form.querySelectorAll('input, select, textarea');
        formFields.forEach(field => {
            field.addEventListener('input', function() {
                this.classList.remove('is-invalid');
            });
        });
    }
});
</script>
{% endblock %}

================
File: app/templates/registration/registro.html
================
{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block base %}
<!-- Navbar -->
{% include "components/landing_nav.html" %}

<!-- Auth Section - Register con diseño mejorado -->
<section class="py-5 position-relative overflow-hidden" style="background-color: #1a202c; min-height: calc(100vh - 84px);">
    <!-- Patrón de fondo sutil -->
    <div class="position-absolute top-0 start-0 w-100 h-100" style="background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAwIiBoZWlnaHQ9IjEwMDAiIHZpZXdCb3g9IjAgMCAxMDAwIDEwMDAiPjxyZWN0IHdpZHRoPSI4MDAiIGhlaWdodD0iNTAwIiB4PSIxMDAiIHk9IjI1MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDQwLDE2Nyw2OSwwLjA1KSIgc3Ryb2tlLXdpZHRoPSIyIi8+PGNpcmNsZSBjeD0iNTAwIiBjeT0iNTAwIiByPSI4MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDQwLDE2Nyw2OSwwLjA1KSIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3Qgd2lkdGg9IjE4MCIgaGVpZ2h0PSIzMDAiIHg9IjEwMCIgeT0iMzUwIiBmaWxsPSJub25lIiBzdHJva2U9InJnYmEoNDAsMTY3LDY5LDAuMDUpIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB3aWR0aD0iMTgwIiBoZWlnaHQ9IjMwMCIgeD0iNzIwIiB5PSIzNTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSg0MCwxNjcsNjksMC4wNSkiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg=='); background-size: cover; background-position: center; z-index: 1; opacity: 0.1;"></div>
    
    <!-- Elementos decorativos flotantes -->
    <div class="position-absolute top-0 start-0 w-100 h-100" style="z-index: 1; opacity: 0.07;">
        <div class="position-absolute" style="top: 10%; left: 5%;">
            <i class="fas fa-futbol fa-5x text-success" style="filter: drop-shadow(0 0 10px rgba(40,167,69,0.3));"></i>
        </div>
        <div class="position-absolute" style="top: 80%; left: 25%;">
            <i class="fas fa-trophy fa-3x text-success" style="filter: drop-shadow(0 0 10px rgba(40,167,69,0.3));"></i>
        </div>
        <div class="position-absolute" style="bottom: 15%; right: 10%;">
            <i class="fas fa-futbol fa-4x text-success" style="filter: drop-shadow(0 0 10px rgba(40,167,69,0.3));"></i>
        </div>
    </div>
    
    <!-- Imagen de Beckham con mejoras visuales -->
    <div class="position-absolute h-100 w-100 end-0 d-none d-xl-block" style="width: 25%; z-index: 1; opacity: 0.8;">
        <img src="https://sportrenders.com/wp-content/uploads/2023/06/David-Beckham-Image-PNG-Render-Manchester-United-Futbol-Sport-Renders.png" alt="David Beckham" class="h-100 w-100" style="object-fit: contain; object-position: right center; filter: drop-shadow(0 0 30px rgba(40,167,69,0.2));">
        
        <!-- Resplandor detrás de la imagen -->
        <div class="position-absolute top-50 end-0 translate-middle-y" style="width: 300px; height: 600px; background: radial-gradient(ellipse at center, rgba(40,167,69,0.15) 0%, rgba(40,167,69,0) 70%); filter: blur(30px); z-index: -1;"></div>
    </div>
    
    <div class="container position-relative" style="z-index: 2;">
        <div class="row justify-content-center">
            <div class="col-md-10 col-lg-8">
                <!-- Formulario de registro mejorado -->
                <div class="card border-0 shadow-lg" style="background: linear-gradient(145deg, #2d3748, #1e2533); border-radius: 1rem; overflow: hidden; box-shadow: 0 15px 35px rgba(0,0,0,0.3);">
                    <div class="card-body p-4 p-md-5">
                        <h2 class="text-center text-white fw-bold mb-2">Crea tu cuenta</h2>
                        <div class="d-flex justify-content-center mb-4">
                            <div class="bg-success" style="height: 3px; width: 60px; border-radius: 3px;"></div>
                        </div>
                        <p class="text-white-50 text-center mb-4">Únete a la comunidad y empieza a disfrutar del fútbol como antes</p>
                        
                        <!-- Implementando crispy_forms -->
                        <form method="post" enctype="multipart/form-data">
                            {% csrf_token %}
                            
                            <div class="row">
                                {{ form | crispy }}
                            </div>
                            
                            <button type="submit" class="btn btn-success w-100 py-3 mb-4" style="border-radius: 0.5rem; box-shadow: 0 8px 15px rgba(40,167,69,0.3);">
                                <i class="fas fa-user-plus me-2"></i>Crear cuenta
                            </button>
                            
                            <div class="text-center text-white-50">
                                <p class="mb-0">¿Ya tienes una cuenta? <a href="{% url 'login' %}" class="text-success fw-bold">Inicia sesión</a></p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Footer mejorado -->
<footer class="py-4" style="background-color: #0a0a0a;">
    <div class="container">
        <!-- Footer Bottom / Copyright -->
        <div class="pt-2">
            <div class="row align-items-center">
                <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                    <p class="text-white-50 small mb-0">© 2025 FútbolConnect. Todos los derechos reservados.</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <p class="text-white-50 small mb-0">Reviviendo el fútbol callejero <i class="fas fa-futbol text-success mx-1"></i></p>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- Estilos para campos de formulario -->
<style>
    /* Estilos para los campos de formulario */
    .form-control, .form-select {
        background-color: rgba(255,255,255,0.05) !important;
        border: 1px solid rgba(255,255,255,0.1) !important;
        color: white !important;
        border-radius: 0.5rem !important;
        padding: 0.75rem 1rem !important;
        transition: all 0.3s ease !important;
    }
    
    .form-control:focus, .form-select:focus {
        background-color: rgba(255,255,255,0.1) !important;
        border-color: rgba(40,167,69,0.5) !important;
        box-shadow: 0 0 0 0.25rem rgba(40,167,69,0.25) !important;
    }
    
    .form-control::placeholder {
        color: rgba(255,255,255,0.5) !important;
    }
    
    /* Estilos para etiquetas de formulario */
    .form-label {
        color: rgba(255,255,255,0.8) !important;
        font-weight: 500 !important;
    }
    
    /* Estilos para mensajes de ayuda */
    .form-text {
        color: rgba(255,255,255,0.5) !important;
    }
    
    /* Botones de envío */
    .btn-success {
        background-color: #28a745 !important;
        border-color: #28a745 !important;
        transition: all 0.3s ease !important;
    }
    
    .btn-success:hover {
        transform: translateY(-3px) !important;
        box-shadow: 0 10px 25px rgba(40,167,69,0.4) !important;
    }
</style>
{% endblock %}

================
File: app/views/equipo_views.py
================
from django.views.generic import CreateView,UpdateView, ListView, DetailView
from django.contrib.auth.mixins import LoginRequiredMixin

from django.shortcuts import render, redirect, get_object_or_404
from django.urls import reverse_lazy, reverse
from django.contrib import messages
from django.db.models import Q
from app.forms.equipo_forms import EquipoPermanenteForm
from app.models.equipo import Equipo
from app.models.user import User
#from django.contrib.auth import get_user_model; User = get_user_model()

class CrearEquipoPermanenteView(LoginRequiredMixin, CreateView):
    model = Equipo
    form_class = EquipoPermanenteForm
    template_name = 'equipos/crear_equipo_permanente.html'

    def get_form_kwargs(self):
        kwargs = super().get_form_kwargs()
        kwargs['user'] = self.request.user # Pasar usuario al form para filtrar miembros_iniciales
        return kwargs

    def form_valid(self, form):
        form.instance.capitan = self.request.user
        form.instance.tipo_equipo = 'PERMANENTE'
        form.instance.activo = True
        
        self.object = form.save() 
        self.object.jugadores.add(self.request.user) # El capitán es miembro

        miembros_iniciales = form.cleaned_data.get('miembros_iniciales')
        if miembros_iniciales:
            self.object.jugadores.add(*miembros_iniciales)
        
        messages.success(self.request, f"¡Equipo '{self.object.nombre_equipo}' creado con éxito!")
        return redirect(self.get_success_url())

    def get_success_url(self):
        return reverse('detalle_equipo', kwargs={'pk': self.object.id_equipo})

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['titulo_pagina'] = "Crear Nuevo Equipo Permanente"
        return context

class MisEquiposListView(LoginRequiredMixin, ListView):
    model = Equipo
    template_name = 'equipos/mis_equipos_lista.html'
    context_object_name = 'equipos_list'
    paginate_by = 12

    def get_queryset(self):
        return Equipo.objects.filter(
            tipo_equipo='PERMANENTE',
            activo=True
        ).filter(
            Q(capitan=self.request.user) | Q(jugadores=self.request.user)
        ).distinct().order_by('-fecha_creacion')

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['titulo_pagina'] = "Mis Equipos"
        return context

class DetalleEquipoView(LoginRequiredMixin, DetailView):
    model = Equipo
    template_name = 'equipos/detalle_equipo.html'
    context_object_name = 'equipo'
    pk_url_kwarg = 'pk' # Coincide con <uuid:pk> en tu URL

    def get_queryset(self):
        return super().get_queryset().filter(tipo_equipo='PERMANENTE', activo=True)

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        equipo = self.get_object()
        context['titulo_pagina'] = f"Perfil del Equipo: {equipo.nombre_equipo}"
        context['es_capitan'] = (equipo.capitan == self.request.user)
        context['es_miembro'] = self.request.user in equipo.jugadores.all()
        # Aquí podrías añadir próximos partidos del equipo, historial, etc.
        # context['proximos_partidos_equipo'] = Partido.objects.filter(
        #     Q(equipo_local=equipo) | Q(equipo_visitante=equipo),
        #     estado='PROGRAMADO',
        #     fecha__gte=django_timezone.now()
        # ).order_by('fecha')[:5]
        return context

class EditarEquipoPermanenteView(LoginRequiredMixin, UpdateView):
    model = Equipo
    form_class = EquipoPermanenteForm
    template_name = 'equipos/editar_equipo_permanente.html'
    pk_url_kwarg = 'pk'

    def get_queryset(self):
        # Solo el capitán puede editar su equipo permanente y activo
        return super().get_queryset().filter(
            capitan=self.request.user, 
            tipo_equipo='PERMANENTE', 
            activo=True
        )
    
    def get_form_kwargs(self):
        kwargs = super().get_form_kwargs()
        kwargs['user'] = self.request.user # Para el __init__ del form si es necesario
        # Para pre-rellenar miembros_iniciales en edición (si lo quieres permitir)
        # Si 'miembros_iniciales' es solo para la creación, no necesitas esto.
        # Si quieres permitir editar la lista de miembros aquí, el campo debería llamarse
        # 'jugadores' y usar un widget adecuado. Por ahora, EquipoPermanenteForm
        # tiene 'miembros_iniciales' que es más para la creación.
        # Para editar miembros, usualmente se hace en una sección separada de "Gestionar Miembros".
        return kwargs

    def form_valid(self, form):
        # La lógica de añadir/quitar jugadores al editar es más compleja
        # que solo usar form.cleaned_data.get('miembros_iniciales').
        # Por ahora, este form solo edita los campos básicos del equipo.
        # La gestión de miembros (añadir/quitar) se haría en otra vista/lógica.
        messages.success(self.request, f"Equipo '{form.instance.nombre_equipo}' actualizado con éxito.")
        return super().form_valid(form)
    
    def get_success_url(self):
        return reverse_lazy('detalle_equipo', kwargs={'pk': self.object.pk})

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['titulo_pagina'] = f"Editar Equipo: {self.object.nombre_equipo}"
        return context

================
File: app/views/user_views.py
================
from django.contrib import messages
from django.urls import reverse_lazy
from django.views.generic import TemplateView,CreateView,UpdateView
from django.contrib.auth.mixins import LoginRequiredMixin

from app.forms.user_forms import UserRegisterForm, UserUpdateProfilelForm
from app.models.user import User


#REGISTRO
class UserRegister(CreateView):
    form_class = UserRegisterForm
    template_name = 'auth/registration.html'
    success_url = reverse_lazy('home')

    def form_valid(self, form):
        
        return super().form_valid(form)
    
    


#PERFIL
class Perfil(LoginRequiredMixin, TemplateView):
    model = User
    template_name = 'perfil/perfil.html'

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        return context

class UserUpdateProfile(LoginRequiredMixin, UpdateView):

    model = User
    form_class = UserUpdateProfilelForm
    template_name = 'perfil/update_profile.html'
    success_url = reverse_lazy('perfil')

    def get_object(self, queryset=None):
        return self.request.user
    
    def form_valid(self, form):

        messages.success(self.request, '¡Tu perfil ha sido actualizado con éxito!')

        return super().form_valid(form)
    
    def form_invalid(self, form):

        messages.error(self.request, 'No ha sido posible actuliazar tu perfil, revisa los campos que has querido actulizar por que debe haber un error.')

        return super().form_invalid(form)

================
File: app/admin.py
================
from django.contrib import admin
from .models import *
from django.contrib.auth.admin import UserAdmin

# Register your models here.


admin.site.register(Equipo)
admin.site.register(Partido)
admin.site.register(Cancha)
admin.site.register(Resultado)
admin.site.register(Inscripcion)
admin.site.register(HistorialELO)


class MyAdmin(UserAdmin):
    model = User

    list_display = ("email", "username", "nombre", "calificacion", "posicion")
    search_fields = ("email", "nombre", "posicion")

    ordering = ("-calificacion",)

    fieldsets = UserAdmin.fieldsets + (
        ('Información Personal', {
            "fields": (
                "nombre", "fecha_nacimiento", "genero", "posicion",
                "ubicacion", "imagen_perfil"
            )
        }),
        ('📊 Estadísticas', {
            "fields": (
                "partidos_jugados", "victorias", "derrotas", "empates", "calificacion"
            )
        }),
    )

    add_fieldsets = UserAdmin.add_fieldsets + (
        ('Información adicional', {
            "fields": (
                "nombre", "fecha_nacimiento", "genero", "posicion",
                "ubicacion", "imagen_perfil"
            )
        }),
        ('📊 Estadísticas', {
            "fields": (
                "partidos_jugados", "victorias", "derrotas", "empates", "calificacion"
            )
        }),
    )



# Registra el Admin
admin.site.register(User, MyAdmin)

================
File: app/models/equipo.py
================
import uuid
from django.db import models

from app.models.user import User


class Equipo(models.Model):

    TIPO_EQUIPO_CHOICES = [
        ('PARTIDO', 'Equipo para un partido'),
        ('PERMANENTE', 'Equipo permanente'),
    ]
    
    id_equipo = models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False)
    nombre_equipo = models.CharField(max_length=100)
    capitan = models.ForeignKey("app.User", on_delete=models.CASCADE, related_name='get_user_captain_equipo')
    jugadores = models.ManyToManyField("app.User", related_name='get_jugadores_equipo')
    fecha_creacion = models.DateTimeField(auto_now_add=True)
    descripcion = models.TextField(blank=True, null=True) 
    team_shield = models.ImageField(upload_to='images/team_shields/', null=True, blank=True) 
    team_banner = models.ImageField(upload_to='images/team_banners/', null=True, blank=True) 
    tipo_equipo = models.CharField(max_length=10, choices=TIPO_EQUIPO_CHOICES)
    activo = models.BooleanField(default=True)

    partidos_jugados_permanente = models.PositiveIntegerField(default=0)
    victorias_permanente = models.PositiveIntegerField(default=0)

    partido_asociado = models.ForeignKey("app.Partido", on_delete=models.CASCADE, null=True, blank=True, related_name='get_partido_equipos')
    
    def __str__(self):
        return self.nombre_equipo
    
    def calificacion_promedio(self):
        jugadores = self.jugadores.all()
        if not jugadores.exists():
            return 1000.0
        return sum(j.calificacion for j in jugadores) / jugadores.count()
    
    def clean(self):
        super().clean()
        if self.tipo_equipo == 'PARTIDO' and not self.partido_asociado:
            # Un equipo de tipo PARTIDO debería siempre tener un partido_asociado.
            pass 
        if self.tipo_equipo == 'PERMANENTE' and self.partido_asociado:

            self.partido_asociado = None 

    def save(self, *args, **kwargs):
        if self.tipo_equipo == 'PERMANENTE':
            self.partido_asociado = None
        super().save(*args, **kwargs)

================
File: app/static/css/canchas/canchas_lista_styles.css
================
/* ======= Variables CSS para Lista de Canchas ======= */
:root {
    --seville-orange: #f7835c;
    --mint: #00d4b1;
    
    --canchas-primary: var(--seville-orange);
    --canchas-secondary: var(--mint);
    --canchas-accent-subtle: rgba(247, 131, 92, 0.06);
    --canchas-accent-border: rgba(247, 131, 92, 0.12);
    --canchas-mint-subtle: rgba(0, 212, 177, 0.06);
    --canchas-mint-border: rgba(0, 212, 177, 0.12);
    
    --canchas-text-primary: #ffffff;
    --canchas-text-secondary: #a8a8a8;
    --canchas-text-muted: #6b7280;
    --canchas-bg-primary: #0F172A;
    --canchas-bg-card: #1a1a2e;
    --canchas-bg-elevated: #242438;
    --canchas-border: rgba(255, 255, 255, 0.08);
    --canchas-border-strong: rgba(255, 255, 255, 0.12);
    --canchas-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    --canchas-shadow-strong: 0 8px 32px rgba(0, 0, 0, 0.25);
    --canchas-radius: 16px;
    --canchas-radius-small: 12px;
    --canchas-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ======= Reset y Base ======= */
body {
    background-color: var(--canchas-bg-primary);
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    color: var(--canchas-text-primary);
    line-height: 1.6;
}

/* ======= Container Principal ======= */
.canchas-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    gap: 3rem;
}

/* ======= Hero Section ======= */
.canchas-hero-section {
    background: var(--canchas-bg-card);
    border: 1px solid var(--canchas-border);
    border-radius: var(--canchas-radius);
    padding: 3rem;
    position: relative;
    overflow: hidden;
    opacity: 0;
    transform: translateY(30px);
    transition: var(--canchas-transition);
}

.canchas-hero-section.animate-in {
    opacity: 1;
    transform: translateY(0);
}


.hero-content {
    position: relative;
    z-index: 2;
    display: flex;
    align-items: center;
    gap: 2rem;
    margin-bottom: 2.5rem;
}

.hero-icon {
    width: 72px;
    height: 72px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--canchas-border);
    border-radius: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.hero-icon i {
    font-size: 2rem;
    color: var(--canchas-primary);
}

.hero-text {
    flex: 1;
}

.hero-title {
    font-size: clamp(2rem, 4vw, 2.5rem);
    font-weight: 800;
    color: var(--canchas-text-primary);
    margin-bottom: 0.5rem;
    letter-spacing: -0.03em;
    line-height: 1.1;
}

.hero-subtitle {
    font-size: 1.125rem;
    color: var(--canchas-text-secondary);
    font-weight: 400;
    margin: 0;
}

/* ======= Header Actions ======= */
.header-actions {
    position: relative;
    z-index: 2;
    display: flex;
    gap: 1.5rem;
    align-items: center;
    flex-wrap: wrap;
}

/* ======= Search Form ======= */
.search-form {
    flex: 1;
    min-width: 300px;
}

.search-container {
    display: flex;
    align-items: center;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--canchas-border);
    border-radius: var(--canchas-radius-small);
    overflow: hidden;
    transition: var(--canchas-transition);
}

.search-container.search-focused {
    border-color: var(--canchas-primary);
    box-shadow: 0 0 0 3px rgba(247, 131, 92, 0.1);
}

.search-icon {
    padding: 0 1rem;
    color: var(--canchas-text-muted);
}

.search-input {
    flex: 1;
    padding: 0.875rem 0;
    background: transparent;
    border: none;
    color: var(--canchas-text-primary);
    font-size: 0.9rem;
    outline: none;
}

.search-input::placeholder {
    color: var(--canchas-text-muted);
}

.search-btn {
    padding: 0.875rem 1.25rem;
    background: var(--canchas-primary);
    color: white;
    border: none;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--canchas-transition);
}

.search-btn:hover {
    background: #e6743f;
}

/* ======= Mensajes del Sistema ======= */
.messages-section {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.custom-alert {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    border-radius: var(--canchas-radius-small);
    border: 1px solid;
    transition: var(--canchas-transition);
}

.custom-alert.alert-success {
    background: rgba(16, 185, 129, 0.1);
    border-color: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.custom-alert.alert-error,
.custom-alert.alert-danger {
    background: rgba(239, 68, 68, 0.1);
    border-color: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.custom-alert.alert-warning {
    background: rgba(245, 158, 11, 0.1);
    border-color: rgba(245, 158, 11, 0.2);
    color: #f59e0b;
}

.alert-icon {
    flex-shrink: 0;
}

.alert-content {
    flex: 1;
    font-size: 0.9rem;
    font-weight: 500;
}

.alert-dismiss {
    background: none;
    border: none;
    color: inherit;
    opacity: 0.7;
    cursor: pointer;
    padding: 0.25rem;
    border-radius: 4px;
    transition: var(--canchas-transition);
}

.alert-dismiss:hover {
    opacity: 1;
    background: rgba(255, 255, 255, 0.1);
}

/* ======= Section Header ======= */
.section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 2rem;
}

.section-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--canchas-text-primary);
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.section-title i {
    color: var(--canchas-primary);
}

.section-meta {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.canchas-count {
    font-size: 0.9rem;
    color: var(--canchas-text-secondary);
    background: rgba(255, 255, 255, 0.05);
    padding: 0.5rem 1rem;
    border-radius: 8px;
    border: 1px solid var(--canchas-border);
}

/* ======= Grid de Canchas ======= */
.canchas-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 2rem;
}

/* ======= Cancha Card ======= */
.cancha-card {
    background: var(--canchas-bg-card);
    border: 1px solid var(--canchas-border);
    border-radius: var(--canchas-radius);
    overflow: hidden;
    box-shadow: var(--canchas-shadow);
    transition: var(--canchas-transition);
    opacity: 0;
    transform: translateY(20px);
}

.cancha-card.animate-in {
    opacity: 1;
    transform: translateY(0);
}

/* ======= Imagen de Cancha ======= */
.cancha-image {
    position: relative;
    height: 220px;
    overflow: hidden;
}

.cancha-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: var(--canchas-transition);
}

.cancha-card:hover .cancha-img {
    transform: scale(1.05);
}

.image-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(0, 0, 0, 0.7);
    padding: 1rem;
    backdrop-filter: blur(10px);
}

.cancha-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: white;
    margin: 0;
}

/* ======= Badge de Propiedad ======= */
.propiedad-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    border-radius: 8px;
    font-size: 0.8rem;
    font-weight: 500;
    backdrop-filter: blur(10px);
}

.badge-privada {
    background: rgba(239, 68, 68, 0.9);
    color: white;
}

.badge-publica {
    background: rgba(16, 185, 129, 0.9);
    color: white;
}

/* ======= Contenido de Cancha ======= */
.cancha-content {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
}

/* ======= Info Items ======= */
.cancha-info {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.info-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.info-icon {
    width: 32px;
    height: 32px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--canchas-border);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    color: var(--canchas-secondary);
}

.info-text {
    font-size: 0.9rem;
    color: var(--canchas-text-secondary);
    flex: 1;
}

/* ======= Descripción ======= */
.cancha-descripcion {
    border-top: 1px solid var(--canchas-border);
    padding-top: 1rem;
}

.descripcion-text {
    font-size: 0.875rem;
    color: var(--canchas-text-muted);
    line-height: 1.5;
    margin: 0;
}

/* ======= Acciones de Cancha ======= */
.cancha-actions {
    display: flex;
    gap: 0.75rem;
    padding-top: 1rem;
    border-top: 1px solid var(--canchas-border);
}

/* ======= Estado Vacío ======= */
.empty-state {
    grid-column: 1 / -1;
    text-align: center;
    padding: 4rem 2rem;
    background: var(--canchas-bg-card);
    border: 1px solid var(--canchas-border);
    border-radius: var(--canchas-radius);
    opacity: 0;
    transform: translateY(20px);
    transition: var(--canchas-transition);
}

.empty-state.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.empty-icon {
    width: 100px;
    height: 100px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 2rem;
    border: 1px solid var(--canchas-border);
}

.empty-icon i {
    font-size: 2.5rem;
    color: var(--canchas-text-muted);
}

.empty-content {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: center;
    max-width: 500px;
    margin: 0 auto;
}

.empty-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--canchas-text-primary);
    margin: 0;
}

.empty-desc {
    font-size: 1rem;
    color: var(--canchas-text-secondary);
    margin: 0;
    line-height: 1.6;
}

.empty-actions {
    margin-top: 1rem;
}

/* ======= Paginación ======= */
.pagination-section {
    margin-top: 3rem;
}

.pagination-nav {
    display: flex;
    justify-content: center;
}

.pagination {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background: var(--canchas-bg-card);
    border: 1px solid var(--canchas-border);
    border-radius: var(--canchas-radius-small);
    padding: 0.5rem;
}

.page-numbers {
    display: flex;
    gap: 0.25rem;
}

.page-link {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--canchas-text-secondary);
    text-decoration: none;
    transition: var(--canchas-transition);
    min-width: 40px;
    justify-content: center;
}

.page-link:hover {
    color: var(--canchas-text-primary);
    background: rgba(255, 255, 255, 0.05);
}

.page-link.active {
    background: var(--canchas-primary);
    color: white;
}

.page-nav {
    min-width: auto;
    padding: 0.75rem 1.25rem;
}

/* ======= Botones ======= */
.btn {
   display: inline-flex;
   align-items: center;
   gap: 0.5rem;
   padding: 0.875rem 1.25rem;
   border-radius: var(--canchas-radius-small);
   font-size: 0.875rem;
   font-weight: 500;
   text-decoration: none;
   border: none;
   cursor: pointer;
   transition: var(--canchas-transition);
   font-family: inherit;
   white-space: nowrap;
   justify-content: center;
}

.btn:focus {
   outline: none;
   box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
}

.btn-primary {
   background: var(--canchas-primary);
   color: white;
   border: 1px solid var(--canchas-primary);
}

.btn-primary:hover {
   background: #e6743f;
   border-color: #e6743f;
   transform: translateY(-2px);
   box-shadow: 0 8px 20px rgba(247, 131, 92, 0.3);
}

.btn-secondary {
   background: rgba(255, 255, 255, 0.05);
   color: var(--canchas-text-secondary);
   border: 1px solid var(--canchas-border);
}

.btn-secondary:hover {
   background: rgba(255, 255, 255, 0.08);
   color: var(--canchas-text-primary);
   border-color: var(--canchas-border-strong);
   transform: translateY(-2px);
}

/* ======= Responsive Design ======= */
@media (max-width: 1024px) {
   .canchas-grid {
       grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
       gap: 1.5rem;
   }
   
   .header-actions {
       flex-direction: column;
       align-items: stretch;
       gap: 1rem;
   }
   
   .search-form {
       min-width: auto;
   }
}

@media (max-width: 768px) {
   .canchas-container {
       padding: 1rem;
       gap: 2rem;
   }
   
   .canchas-hero-section {
       padding: 2rem;
   }
   
   .hero-content {
       flex-direction: column;
       text-align: center;
       gap: 1.5rem;
       margin-bottom: 2rem;
   }
   
   .hero-icon {
       width: 64px;
       height: 64px;
   }
   
   .hero-icon i {
       font-size: 1.75rem;
   }
   
   .canchas-grid {
       grid-template-columns: 1fr;
       gap: 1.5rem;
   }
   
   .section-header {
       flex-direction: column;
       align-items: flex-start;
       gap: 1rem;
   }
   
   .cancha-image {
       height: 200px;
   }
   
   .cancha-content {
       padding: 1.25rem;
   }
   
   .cancha-actions {
       flex-direction: column;
   }
   
   .pagination {
       flex-wrap: wrap;
       gap: 0.25rem;
   }
   
   .page-nav {
       padding: 0.5rem 0.75rem;
       font-size: 0.8rem;
   }
   
   .page-numbers {
       order: -1;
       flex-basis: 100%;
       justify-content: center;
       margin-bottom: 0.5rem;
   }
}

@media (max-width: 480px) {
   .canchas-container {
       padding: 0.75rem;
   }
   
   .canchas-hero-section {
       padding: 1.5rem;
   }
   
   .hero-icon {
       width: 56px;
       height: 56px;
   }
   
   .hero-icon i {
       font-size: 1.5rem;
   }
   
   .search-container {
       flex-direction: column;
   }
   
   .search-input {
       padding: 0.75rem 1rem;
       border-bottom: 1px solid var(--canchas-border);
   }
   
   .search-btn {
       padding: 0.75rem;
       border-radius: 0;
   }
   
   .cancha-image {
       height: 180px;
   }
   
   .cancha-content {
       padding: 1rem;
       gap: 1rem;
   }
   
   .cancha-info {
       gap: 0.5rem;
   }
   
   .info-icon {
       width: 28px;
       height: 28px;
   }
   
   .info-text {
       font-size: 0.85rem;
   }
   
   .propiedad-badge {
       top: 0.75rem;
       right: 0.75rem;
       padding: 0.375rem 0.625rem;
       font-size: 0.75rem;
   }
   
   .cancha-title {
       font-size: 1rem;
   }
   
   .empty-state {
       padding: 3rem 1.5rem;
   }
   
   .empty-icon {
       width: 80px;
       height: 80px;
   }
   
   .empty-icon i {
       font-size: 2rem;
   }
   
   .empty-title {
       font-size: 1.25rem;
   }
   
   .empty-desc {
       font-size: 0.9rem;
   }
   
   .btn {
       padding: 0.75rem 1rem;
       font-size: 0.8rem;
   }
   
   .pagination {
       padding: 0.375rem;
   }
   
   .page-link {
       padding: 0.5rem 0.75rem;
       font-size: 0.8rem;
       min-width: 36px;
   }
   
   .page-nav {
       padding: 0.5rem;
   }
   
   .page-nav span {
       display: none;
   }
}

/* ======= Animaciones ======= */
@keyframes fadeInUp {
   from {
       opacity: 0;
       transform: translateY(30px);
   }
   to {
       opacity: 1;
       transform: translateY(0);
   }
}

@keyframes slideInLeft {
   from {
       opacity: 0;
       transform: translateX(-30px);
   }
   to {
       opacity: 1;
       transform: translateX(0);
   }
}

.animate-in {
   animation: fadeInUp 0.6s ease forwards;
}

/* ======= Estados de carga ======= */
.btn:disabled {
   opacity: 0.6;
   cursor: not-allowed;
   transform: none !important;
}

.btn:disabled:hover {
   transform: none !important;
   box-shadow: none !important;
}

.cancha-img[src=""] {
   background: var(--canchas-bg-elevated);
   display: flex;
   align-items: center;
   justify-content: center;
}

.cancha-img[src=""]:before {
   content: '\f03e';
   font-family: 'Font Awesome 5 Free';
   font-weight: 900;
   font-size: 3rem;
   color: var(--canchas-text-muted);
}

/* ======= Accesibilidad ======= */
@media (prefers-reduced-motion: reduce) {
   * {
       animation-duration: 0.01ms !important;
       animation-iteration-count: 1 !important;
       transition-duration: 0.01ms !important;
   }
}

/* ======= Efectos especiales sin degradados ======= */
.cancha-card::before {
   content: '';
   position: absolute;
   top: 0;
   left: 0;
   width: 100%;
   height: 3px;
   background: var(--canchas-primary);
   opacity: 0;
   transition: var(--canchas-transition);
}

.cancha-card:hover::before {
   opacity: 1;
}

.search-container::before {
   content: '';
   position: absolute;
   bottom: 0;
   left: 0;
   width: 0;
   height: 2px;
   background: var(--canchas-primary);
   transition: var(--canchas-transition);
}

.search-container.search-focused::before {
   width: 100%;
}

/* ======= Mejoras visuales adicionales ======= */
.cancha-card:hover .info-icon {
   background: var(--canchas-mint-subtle);
   border-color: var(--canchas-mint-border);
   color: var(--canchas-secondary);
}

.cancha-card:hover .cancha-title {
   color: var(--canchas-primary);
}

.pagination .page-link.active {
   box-shadow: 0 4px 12px rgba(247, 131, 92, 0.3);
}

.btn-primary:active {
   transform: translateY(0);
   box-shadow: 0 4px 12px rgba(247, 131, 92, 0.2);
}

.btn-secondary:active {
   transform: translateY(0);
   box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
}

/* ======= Loading states ======= */
.cancha-img.loading {
   background: var(--canchas-bg-elevated);
   position: relative;
   overflow: hidden;
}

.cancha-img.loading::after {
   content: '';
   position: absolute;
   top: 0;
   left: -100%;
   width: 100%;
   height: 100%;
   background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
   animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
   0% {
       left: -100%;
   }
   100% {
       left: 100%;
   }
}

/* ======= Micro-interactions ======= */
.info-item:hover .info-icon {
   transform: scale(1.1);
   background: var(--canchas-accent-subtle);
   border-color: var(--canchas-accent-border);
}

.propiedad-badge:hover {
   transform: scale(1.05);
}

.alert-dismiss:active {
   transform: scale(0.95);
}

/* ======= Focus improvements ======= */
.search-input:focus {
   color: var(--canchas-text-primary);
}

.cancha-card:focus-within {
   outline: 2px solid var(--canchas-primary);
   outline-offset: 2px;
}

.page-link:focus {
   box-shadow: 0 0 0 3px rgba(247, 131, 92, 0.2);
}

================
File: app/static/css/global/estadisticas_styles.css
================
/* ======= Variables CSS para Estadísticas ======= */
:root {
    --seville-orange: #f7835c;
    --mint: #00d4b1;
    
    --stats-primary: var(--seville-orange);
    --stats-secondary: var(--mint);
    --stats-accent-subtle: rgba(247, 131, 92, 0.06);
    --stats-accent-border: rgba(247, 131, 92, 0.12);
    --stats-mint-subtle: rgba(0, 212, 177, 0.06);
    --stats-mint-border: rgba(0, 212, 177, 0.12);
    
    --stats-text-primary: #ffffff;
    --stats-text-secondary: #a8a8a8;
    --stats-text-muted: #6b7280;
    --stats-bg-primary: #0F172A;
    --stats-bg-card: #1a1a2e;
    --stats-bg-elevated: #242438;
    --stats-border: rgba(255, 255, 255, 0.08);
    --stats-border-strong: rgba(255, 255, 255, 0.12);
    --stats-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    --stats-shadow-strong: 0 8px 32px rgba(0, 0, 0, 0.25);
    --stats-radius: 16px;
    --stats-radius-small: 12px;
    --stats-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    
    --stats-gold: #ffd700;
    --stats-silver: #c0c0c0;
    --stats-bronze: #cd7f32;
}

/* ======= Reset y Base ======= */
body {
    background-color: var(--stats-bg-primary);
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    color: var(--stats-text-primary);
    line-height: 1.6;
}

/* ======= Container Principal ======= */
.estadisticas-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    gap: 3rem;
}

/* ======= Hero Section ======= */
.stats-hero-section {
    background: linear-gradient(135deg, var(--stats-bg-card) 0%, var(--stats-bg-elevated) 100%);
    border: 1px solid var(--stats-border);
    border-radius: var(--stats-radius);
    padding: 3rem;
    position: relative;
    overflow: hidden;
    opacity: 0;
    transform: translateY(30px);
    transition: var(--stats-transition);
}

.stats-hero-section.animate-in {
    opacity: 1;
    transform: translateY(0);
}


.hero-content {
    position: relative;
    z-index: 2;
    display: flex;
    align-items: center;
    gap: 2rem;
    margin-bottom: 2.5rem;
}

.hero-icon {
    width: 72px;
    height: 72px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--stats-border);
    border-radius: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.hero-icon i {
    font-size: 2rem;
    color: var(--stats-primary);
}

.hero-text {
    flex: 1;
}

.hero-title {
    font-size: clamp(2rem, 4vw, 2.5rem);
    font-weight: 800;
    color: var(--stats-text-primary);
    margin-bottom: 0.5rem;
    letter-spacing: -0.03em;
    line-height: 1.1;
}

.hero-subtitle {
    font-size: 1.125rem;
    color: var(--stats-text-secondary);
    font-weight: 400;
    margin: 0;
}

/* ======= Filtro de Período ======= */
.period-filter {
    position: relative;
    z-index: 2;
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.filter-label {
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--stats-text-secondary);
}

.period-buttons {
    display: flex;
    gap: 0.5rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--stats-border);
    border-radius: var(--stats-radius-small);
    padding: 0.25rem;
}

.btn-period {
    padding: 0.75rem 1.25rem;
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--stats-text-secondary);
    text-decoration: none;
    transition: var(--stats-transition);
    position: relative;
    overflow: hidden;
}

.btn-period:hover {
    color: var(--stats-text-primary);
    background: rgba(255, 255, 255, 0.05);
}

.btn-period.active {
    color: white;
    background: var(--stats-primary);
    box-shadow: 0 4px 12px rgba(247, 131, 92, 0.3);
}

.period-indicator {
    position: relative;
    z-index: 2;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    color: var(--stats-text-secondary);
    background: var(--stats-mint-subtle);
    border: 1px solid var(--stats-mint-border);
    border-radius: var(--stats-radius-small);
    padding: 0.75rem 1rem;
}

.period-indicator i {
    color: var(--stats-secondary);
}

/* ======= Mensajes del Sistema ======= */
.messages-section {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.custom-alert {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    border-radius: var(--stats-radius-small);
    border: 1px solid;
    position: relative;
    overflow: hidden;
}

.custom-alert.alert-success {
    background: rgba(16, 185, 129, 0.1);
    border-color: rgba(16, 185, 129, 0.2);
    color: #10b981;
}

.custom-alert.alert-error,
.custom-alert.alert-danger {
    background: rgba(239, 68, 68, 0.1);
    border-color: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

.custom-alert.alert-warning {
    background: rgba(245, 158, 11, 0.1);
    border-color: rgba(245, 158, 11, 0.2);
    color: #f59e0b;
}

.alert-icon {
    flex-shrink: 0;
}

.alert-content {
    flex: 1;
    font-size: 0.9rem;
    font-weight: 500;
}

.alert-dismiss {
    background: none;
    border: none;
    color: inherit;
    opacity: 0.7;
    cursor: pointer;
    padding: 0.25rem;
    border-radius: 4px;
    transition: var(--stats-transition);
}

.alert-dismiss:hover {
    opacity: 1;
    background: rgba(255, 255, 255, 0.1);
}

/* ======= Secciones ======= */
.section-header {
    text-align: center;
    margin-bottom: 3rem;
}

.section-title {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--stats-text-primary);
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
}

.section-title i {
    color: var(--stats-primary);
}

.title-accent {
    width: 80px;
    height: 3px;
    background: linear-gradient(90deg, var(--stats-primary) 0%, var(--stats-secondary) 100%);
    margin: 0 auto;
    border-radius: 2px;
}

/* ======= Rankings Grid ======= */
.rankings-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 2rem;
}

.tv-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 2rem;
}

/* ======= Cards Base ======= */
.ranking-card,
.data-card,
.info-card {
    background: var(--stats-bg-card);
    border: 1px solid var(--stats-border);
    border-radius: var(--stats-radius);
    overflow: hidden;
    box-shadow: var(--stats-shadow);
    opacity: 0;
    transform: translateY(20px);
    transition: var(--stats-transition);
    position: relative;
}

.ranking-card.animate-in,
.data-card.animate-in,
.info-card.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.ranking-card:hover,
.data-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--stats-shadow-strong);
    border-color: var(--stats-border-strong);
}

/* ======= Card Headers ======= */
.card-header {
    padding: 1.5rem;
    border-bottom: 1px solid var(--stats-border);
    background: rgba(255, 255, 255, 0.02);
}

.header-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.5rem;
}

.card-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--stats-text-primary);
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.card-title i {
    color: var(--stats-primary);
}

.card-subtitle {
    font-size: 0.85rem;
    color: var(--stats-text-muted);
    margin: 0;
}

/* ======= Ranking Badges ======= */
.ranking-badge {
    font-size: 0.75rem;
    font-weight: 600;
    padding: 0.375rem 0.75rem;
    border-radius: 8px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.elo-badge {
    background: var(--stats-accent-subtle);
    color: var(--stats-primary);
    border: 1px solid var(--stats-accent-border);
}

.activity-badge {
    background: var(--stats-mint-subtle);
    color: var(--stats-secondary);
    border: 1px solid var(--stats-mint-border);
}

.teams-badge {
    background: rgba(139, 69, 19, 0.1);
    color: #8b4513;
    border: 1px solid rgba(139, 69, 19, 0.2);
}

.venues-badge {
    background: rgba(34, 197, 94, 0.1);
    color: #22c55e;
    border: 1px solid rgba(34, 197, 94, 0.2);
}

/* ======= Card Body ======= */
.card-body {
    padding: 1.5rem;
}

/* ======= Players List ======= */
.players-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.player-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--stats-border);
    border-radius: var(--stats-radius-small);
    transition: var(--stats-transition);
    opacity: 0;
    transform: translateX(-20px);
}

.player-item.animate-in {
    opacity: 1;
    transform: translateX(0);
}

.player-rank {
    flex-shrink: 0;
}

.rank-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    font-weight: 700;
    font-size: 0.875rem;
    border: 2px solid var(--stats-border);
    background: rgba(255, 255, 255, 0.05);
    color: var(--stats-text-primary);
}

.rank-number.rank-1 {
    background: linear-gradient(135deg, var(--stats-gold), #daa520);
    border-color: var(--stats-gold);
    color: #000;
    box-shadow: 0 4px 12px rgba(255, 215, 0, 0.3);
}

.rank-number.rank-2 {
    background: linear-gradient(135deg, var(--stats-silver), #a0a0a0);
    border-color: var(--stats-silver);
    color: #000;
    box-shadow: 0 4px 12px rgba(192, 192, 192, 0.3);
}

.rank-number.rank-3 {
    background: linear-gradient(135deg, var(--stats-bronze), #a0522d);
    border-color: var(--stats-bronze);
    color: #fff;
    box-shadow: 0 4px 12px rgba(205, 127, 50, 0.3);
}

.player-avatar {
    flex-shrink: 0;
}

.player-avatar img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid var(--stats-border);
}

.player-info {
    flex: 1;
    min-width: 0;
}

.player-name {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--stats-text-primary);
    margin: 0 0 0.25rem 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.player-position {
    font-size: 0.8rem;
    color: var(--stats-text-muted);
    margin: 0;
}

.player-stat {
    text-align: center;
    flex-shrink: 0;
}

.stat-value {
    display: block;
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--stats-primary);
    line-height: 1;
}

.stat-unit {
    font-size: 0.75rem;
    color: var(--stats-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* ======= Teams List ======= */
.teams-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.team-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--stats-border);
    border-radius: var(--stats-radius-small);
    transition: var(--stats-transition);
    opacity: 0;
    transform: translateY(15px);
}

.team-item.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.team-rank {
    flex-shrink: 0;
}

.rank-badge {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border-radius: 6px;
    font-weight: 600;
    font-size: 0.8rem;
    background: rgba(255, 255, 255, 0.1);
    color: var(--stats-text-primary);
}

.rank-badge.rank-1 {
    background: var(--stats-gold);
    color: #000;
}

.rank-badge.rank-2 {
    background: var(--stats-silver);
    color: #000;
}

.rank-badge.rank-3 {
    background: var(--stats-bronze);
    color: #fff;
}

.team-avatar {
    flex-shrink: 0;
}

.team-avatar img {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    object-fit: cover;
    border: 1px solid var(--stats-border);
}

.team-shield-placeholder {
    width: 36px;
    height: 36px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--stats-border);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--stats-text-muted);
}

.team-info {
    flex: 1;
    min-width: 0;
}

.team-name {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--stats-text-primary);
    margin: 0 0 0.25rem 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.team-meta {
    font-size: 0.75rem;
    color: var(--stats-text-muted);
    margin: 0;
}

.team-stats {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex-shrink: 0;
}

.stat-group {
    text-align: center;
}

.stat-number {
    display: block;
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--stats-text-primary);
    line-height: 1;
}

.stat-label {
    font-size: 0.7rem;
    color: var(--stats-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.stat-separator {
    color: var(--stats-text-muted);
    font-weight: 300;
}

/* ======= Venues List ======= */
.venues-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.venue-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--stats-border);
    border-radius: var(--stats-radius-small);
    transition: var(--stats-transition);
    opacity: 0;
    transform: translateY(15px);
}

.venue-item.animate-in {
    opacity: 1;
    transform: translateY(0);
}

.venue-rank {
    flex-shrink: 0;
}

.venue-icon {
    flex-shrink: 0;
    width: 36px;
    height: 36px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--stats-border);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--stats-secondary);
}

.venue-info {
    flex: 1;
    min-width: 0;
}

.venue-name {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--stats-text-primary);
    margin: 0 0 0.25rem 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.venue-meta {
    font-size: 0.75rem;
    color: var(--stats-text-muted);
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.venue-stats {
    flex-shrink: 0;
}

/* ======= Empty State ======= */
.empty-state {
    text-align: center;
    padding: 3rem 1.5rem;
}

.empty-icon {
    width: 80px;
    height: 80px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.5rem;
    border: 1px solid var(--stats-border);
}

.empty-icon i {
    font-size: 2rem;
    color: var(--stats-text-muted);
}

.empty-content {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    align-items: center;
}

.empty-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--stats-text-primary);
    margin: 0;
}

.empty-desc {
    font-size: 0.9rem;
    color: var(--stats-text-muted);
    margin: 0;
}

/* ======= Card Footer ======= */
.card-footer {
    padding: 1rem 1.5rem;
    border-top: 1px solid var(--stats-border);
    background: rgba(255, 255, 255, 0.01);
    text-align: center;
}

/* ======= Info Section ======= */
.info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
}

.info-item {
    display: flex;
    gap: 1rem;
    padding: 1.5rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid var(--stats-border);
    border-radius: var(--stats-radius-small);
    transition: var(--stats-transition);
}

.info-item:hover {
    background: rgba(255, 255, 255, 0.04);
    border-color: var(--stats-border-strong);
}

.info-icon {
    flex-shrink: 0;
    width: 40px;
    height: 40px;
    background: var(--stats-accent-subtle);
    border: 1px solid var(--stats-accent-border);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--stats-primary);
}

.info-text {
    flex: 1;
}

.info-text h4 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--stats-text-primary);
    margin: 0 0 0.5rem 0;
}

.info-text p {
    font-size: 0.875rem;
    color: var(--stats-text-secondary);
    margin: 0;
    line-height: 1.5;
}

/* ======= Botones ======= */
.btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.25rem;
    border-radius: var(--stats-radius-small);
    font-size: 0.875rem;
    font-weight: 500;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: var(--stats-transition);
    font-family: inherit;
    white-space: nowrap;
}

.btn:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
}

.btn-primary {
    background: var(--stats-primary);
    color: white;
    border: 1px solid var(--stats-primary);
}

.btn-primary:hover {
    background: #e6743f;
    border-color: #e6743f;
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(247, 131, 92, 0.3);
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.05);
    color: var(--stats-text-secondary);
    border: 1px solid var(--stats-border);
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.08);
    color: var(--stats-text-primary);
    border-color: var(--stats-border-strong);
    transform: translateY(-2px);
}

/* ======= Responsive Design ======= */
@media (max-width: 1024px) {
    .rankings-grid,
    .tv-grid {
        grid-template-columns: 1fr;
    }
    
    .info-grid {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    }
}

@media (max-width: 768px) {
    .estadisticas-container {
        padding: 1rem;
        gap: 2rem;
    }
    
    .stats-hero-section {
        padding: 2rem;
    }
    
    .hero-content {
        flex-direction: column;
        text-align: center;
        gap: 1.5rem;
        margin-bottom: 2rem;
    }
    
    .hero-icon {
        width: 64px;
        height: 64px;
    }
    
    .hero-icon i {
        font-size: 1.75rem;
    }
    
    .period-filter {
        flex-direction: column;
        align-items: stretch;
        gap: 1rem;
    }
    
    .period-buttons {
        justify-content: center;
    }
    
    .card-header,
    .card-body,
    .card-footer {
        padding: 1.25rem;
    }
    
    .rankings-grid,
    .tv-grid {
        gap: 1.5rem;
    }
    
    .info-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .info-item {
        padding: 1.25rem;
    }
}

@media (max-width: 480px) {
    .estadisticas-container {
        padding: 0.75rem;
    }
    
    .stats-hero-section {
        padding: 1.5rem;
    }
    
    .hero-icon {
        width: 56px;
        height: 56px;
    }
    
    .hero-icon i {
        font-size: 1.5rem;
    }
    
    .period-buttons {
        flex-direction: column;
        gap: 0.25rem;
    }
    
    .btn-period {
        padding: 0.625rem 1rem;
        text-align: center;
    }
    
    .player-item,
    .team-item,
    .venue-item {
        padding: 0.875rem;
        gap: 0.75rem;
    }
    
    .player-avatar img {
        width: 36px;
        height: 36px;
    }
    
    .team-avatar img,
    .team-shield-placeholder,
    .venue-icon {
        width: 32px;
        height: 32px;
    }
    
    .rank-number {
        width: 28px;
        height: 28px;
        font-size: 0.8rem;
    }
    
    .card-header,
    .card-body,
    .card-footer {
        padding: 1rem;
    }
    
    .info-item {
        padding: 1rem;
        gap: 0.75rem;
    }
    
    .info-icon {
        width: 36px;
        height: 36px;
    }
}

/* ======= Animaciones ======= */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.animate-in {
    animation: fadeInUp 0.6s ease forwards;
}

/* ======= Estados de carga y accesibilidad ======= */
.btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none !important;
}

.btn:disabled:hover {
    transform: none !important;
    box-shadow: none !important;
}

@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* ======= Efectos especiales ======= */
.ranking-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, var(--stats-primary) 0%, var(--stats-secondary) 100%);
    opacity: 0;
    transition: var(--stats-transition);
}

.ranking-card:hover::before {
    opacity: 1;
}

.elo-ranking::before {
    background: linear-gradient(90deg, var(--stats-primary) 0%, var(--stats-gold) 100%);
}

.activity-ranking::before {
    background: linear-gradient(90deg, var(--stats-secondary) 0%, var(--stats-primary) 100%);
}

================
File: app/templates/canchas/detalle_cancha.html
================
{% extends 'base.html' %}
{% load static %}

{% block title %}{{ cancha.nombre_cancha }} - Detalle de Cancha - De Rabona{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/canchas/canchas_detalle_styles.css' %}">
{% endblock %}

{% block content %}
<div class="detalle-container">
    <!-- Breadcrumb Section -->
    <div class="breadcrumb-section">
        <nav class="breadcrumb-nav" aria-label="breadcrumb">
            <div class="breadcrumb">
                <a href="{% url 'home' %}" class="breadcrumb-item">
                    <i class="fas fa-home"></i>
                    <span>Inicio</span>
                </a>
                <div class="breadcrumb-separator">
                    <i class="fas fa-chevron-right"></i>
                </div>
                <a href="{% url 'canchas_lista' %}" class="breadcrumb-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Canchas</span>
                </a>
                <div class="breadcrumb-separator">
                    <i class="fas fa-chevron-right"></i>
                </div>
                <span class="breadcrumb-item active">{{ cancha.nombre_cancha }}</span>
            </div>
        </nav>
    </div>

    <!-- Hero Section -->
    <div class="cancha-hero-section">
        <!-- Imagen Principal -->
        <div class="hero-image-container">
            <img src="{% if cancha.imagen %}{{ cancha.imagen.url }}{% else %}{% static 'images/cancha_default_large.jpg' %}{% endif %}" 
                 alt="{{ cancha.nombre_cancha }}" 
                 class="hero-image">
            
            <!-- Badge de Disponibilidad -->
            <div class="availability-badge {% if cancha.disponible %}badge-available{% else %}badge-unavailable{% endif %}">
                <i class="fas {% if cancha.disponible %}fa-check-circle{% else %}fa-times-circle{% endif %}"></i>
                <span>{% if cancha.disponible %}Disponible{% else %}No Disponible{% endif %}</span>
            </div>
        </div>

        <!-- Contenido Hero -->
        <div class="hero-content">
            <!-- Título y Badge de Propiedad -->
            <div class="title-section">
                <h1 class="cancha-title">
                    <i class="fas fa-futbol"></i>
                    <span>{{ cancha.nombre_cancha }}</span>
                </h1>
                
                <div class="propiedad-badge {% if cancha.propiedad == 'PRIVADA' %}badge-privada{% else %}badge-publica{% endif %}">
                    <i class="fas {% if cancha.propiedad == 'PRIVADA' %}fa-lock{% else %}fa-building{% endif %}"></i>
                    <span>{{ cancha.get_propiedad_display }}</span>
                </div>
            </div>

            <!-- Grid de Información -->
            <div class="info-grid">
                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <div class="info-content">
                        <h3 class="info-title">Ubicación</h3>
                        <p class="info-text">{{ cancha.ubicacion }}</p>
                    </div>
                </div>

                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-futbol"></i>
                    </div>
                    <div class="info-content">
                        <h3 class="info-title">Tipo</h3>
                        <p class="info-text">{{ cancha.get_tipo_display }}</p>
                    </div>
                </div>

                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-layer-group"></i>
                    </div>
                    <div class="info-content">
                        <h3 class="info-title">Superficie</h3>
                        <p class="info-text">{{ cancha.get_superficie_display }}</p>
                    </div>
                </div>

                {% if cancha.costo_partido is not None %}
                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-euro-sign"></i>
                    </div>
                    <div class="info-content">
                        <h3 class="info-title">Costo</h3>
                        <p class="info-text">
                            {% if cancha.costo_partido > 0 %}
                                {{ cancha.costo_partido|floatformat:2 }}€
                            {% else %}
                                Gratis
                            {% endif %}
                        </p>
                    </div>
                </div>
                {% endif %}
            </div>

            <!-- Descripción -->
            {% if cancha.descripcion %}
            <div class="descripcion-section">
                <h3 class="descripcion-title">
                    <i class="fas fa-info-circle"></i>
                    <span>Descripción</span>
                </h3>
                <div class="descripcion-content">
                    <p>{{ cancha.descripcion|linebreaksbr }}</p>
                </div>
            </div>
            {% endif %}

            <!-- Botones de Acción -->
            <div class="action-section">
                {% if cancha.propiedad == 'PRIVADA' and cancha.disponible %}
                <button class="btn btn-primary" onclick="contactarReserva()">
                    <i class="fas fa-calendar-plus"></i>
                    <span>Contactar para Reservar</span>
                </button>
                {% endif %}
                
                <a href="{% url 'canchas_lista' %}" class="btn btn-secondary">
                    <i class="fas fa-arrow-left"></i>
                    <span>Volver al listado</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Sección de Próximos Partidos -->
    <div class="partidos-section">
        <div class="section-header">
            <h2 class="section-title">
                <i class="fas fa-calendar-alt"></i>
                <span>Próximos Partidos en esta Cancha</span>
            </h2>
            {% if proximos_partidos %}
                <div class="partidos-count">
                    {{ proximos_partidos|length }} partido{{ proximos_partidos|length|pluralize:",s" }}
                </div>
            {% endif %}
        </div>

        <div class="partidos-container">
            {% if proximos_partidos %}
                <div class="partidos-list">
                    {% for partido_item in proximos_partidos %}
                    <a href="{% url 'detalle_partido' pk=partido_item.id_partido %}" class="partido-card">
                        <!-- Fecha y Hora -->
                        <div class="partido-fecha">
                            <div class="fecha-display">
                                <div class="fecha-dia">{{ partido_item.fecha|date:"d" }}</div>
                                <div class="fecha-mes">{{ partido_item.fecha|date:"M" }}</div>
                                <div class="fecha-ano">{{ partido_item.fecha|date:"Y" }}</div>
                            </div>
                            <div class="hora-display">
                                <span class="hora">{{ partido_item.fecha|date:"H:i" }}</span>
                            </div>
                        </div>

                        <!-- Información del Partido -->
                        <div class="partido-info">
                            <h3 class="partido-titulo">{{ partido_item.get_tipo_display }}</h3>
                            <div class="partido-detalles">
                                <div class="detalle-item">
                                    <i class="fas fa-users"></i>
                                    <span>{{ partido_item.get_modalidad_display }}</span>
                                </div>
                                <div class="detalle-item">
                                    <i class="fas fa-signal"></i>
                                    <span>{{ partido_item.get_nivel_display|default:"Todos los niveles" }}</span>
                                </div>
                            </div>
                        </div>

                        <!-- Progreso de Jugadores -->
                        <div class="partido-progreso">
                            <div class="progreso-info">
                                <span class="progreso-text">{{ partido_item.jugadores.count }}/{{ partido_item.max_jugadores }}</span>
                                <span class="progreso-label">Jugadores</span>
                            </div>
                            <div class="progreso-bar">
                                <div class="progreso-fill" style="width: {% widthratio partido_item.jugadores.count partido_item.max_jugadores 100 %}%"></div>
                            </div>
                        </div>

                        <!-- Estado -->
                        <div class="partido-estado">
                            {% if partido_item.jugadores.count >= partido_item.max_jugadores %}
                                <span class="estado-badge estado-completo">
                                    <i class="fas fa-users"></i>
                                    <span>Completo</span>
                                </span>
                            {% else %}
                                <span class="estado-badge estado-disponible">
                                    <i class="fas fa-user-plus"></i>
                                    <span>Disponible</span>
                                </span>
                            {% endif %}
                        </div>

                        <!-- Indicador de Enlace -->
                        <div class="link-indicator">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </a>
                    {% endfor %}
                </div>
            {% else %}
                <!-- Estado Vacío -->
                <div class="empty-state">
                    <div class="empty-icon">
                        <i class="fas fa-calendar-times"></i>
                    </div>
                    <div class="empty-content">
                        <h3 class="empty-title">No hay partidos programados</h3>
                        <p class="empty-desc">
                            Actualmente no hay partidos programados en esta cancha.
                            <br>¡Sé el primero en organizar uno!
                        </p>
                        <div class="empty-actions">
                            <a href="{% url 'crear_partidos' %}" class="btn btn-primary">
                                <i class="fas fa-plus-circle"></i>
                                <span>Crear Partido</span>
                            </a>
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</div>

<!-- Modal para Contacto de Reserva -->
<div class="modal-overlay" id="contactoModal" onclick="cerrarModal()">
    <div class="modal-container" onclick="event.stopPropagation()">
        <div class="modal-header">
            <h3 class="modal-title">
                <i class="fas fa-phone"></i>
                <span>Contactar para Reservar</span>
            </h3>
            <button class="modal-close" onclick="cerrarModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <div class="contact-info">
                <div class="contact-item">
                    <i class="fas fa-futbol"></i>
                    <span><strong>{{ cancha.nombre_cancha }}</strong></span>
                </div>
                <div class="contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>{{ cancha.ubicacion }}</span>
                </div>
                <div class="contact-item">
                    <i class="fas fa-info-circle"></i>
                    <span>Para reservar esta cancha privada, ponte en contacto directamente con los administradores.</span>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="cerrarModal()">Cerrar</button>
        </div>
    </div>
</div>

<!-- Scripts -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    initializeAnimations();
    setupModal();

    function initializeAnimations() {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-in');
                }
            });
        }, { threshold: 0.1 });

        // Animar elementos principales
        document.querySelectorAll('.cancha-hero-section, .info-item, .partido-card, .empty-state').forEach((el, index) => {
            setTimeout(() => {
                observer.observe(el);
            }, index * 100);
        });

        // Animar barras de progreso
        setTimeout(() => {
            document.querySelectorAll('.progreso-fill').forEach(bar => {
                const width = bar.style.width;
                bar.style.width = '0%';
                setTimeout(() => {
                    bar.style.width = width;
                }, 300);
            });
        }, 800);
    }

    function setupModal() {
        window.contactarReserva = function() {
            document.getElementById('contactoModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        };

        window.cerrarModal = function() {
            document.getElementById('contactoModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        };
    }

    // Lazy loading para imagen hero
    const heroImage = document.querySelector('.hero-image');
    if (heroImage) {
        heroImage.style.opacity = '0';
        heroImage.style.transition = 'opacity 0.5s ease';
        
        if (heroImage.complete) {
            heroImage.style.opacity = '1';
        } else {
            heroImage.addEventListener('load', function() {
                this.style.opacity = '1';
            });
        }
    }
});
</script>
{% endblock %}

================
File: app/templates/canchas/registro_canchas.html
================
{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block title %}{{ titulo_pagina|default:"Registrar Nueva Cancha" }} - De Rabona{% endblock %}

{% block extra_css %}
<link href="{% static 'css/canchas/registro_cancha_styles.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="cancha-container" id="crear-cancha-container">
    <!-- Hero Section -->
    <section class="cancha-hero-section" id="cancha-hero-section">
        <div class="hero-content">
            <div class="hero-icon">
                <i class="fas fa-map-marker-alt"></i>
            </div>
            <div class="hero-text">
                <h1 class="hero-title">{{ titulo_pagina|default:"Registrar Nueva Cancha" }}</h1>
                <p class="hero-subtitle">Añade una nueva cancha a la comunidad de De Rabona</p>
            </div>
        </div>
    </section>

    <!-- Info Alert Section -->
    <section class="info-alert-section" id="cancha-info-alert">
        <div class="custom-alert alert-info">
            <div class="alert-icon">
                <i class="fas fa-info-circle"></i>
            </div>
            <div class="alert-content">
                <h6 class="alert-title">Añadir una cancha a la comunidad</h6>
                <p class="alert-text">Completa los detalles de la cancha. La información será visible para otros jugadores. Si eres dueño o administrador y quieres más opciones, contáctanos.</p>
            </div>
        </div>
    </section>

    <!-- Form Section -->
    <section class="form-section" id="cancha-form-section">
        <div class="form-container">
            <div class="form-header">
                <h3 class="form-title">
                    <i class="fas fa-clipboard-list"></i>
                    Información de la Cancha
                </h3>
                <p class="form-subtitle">Completa todos los campos requeridos para registrar la cancha</p>
            </div>

            <div class="form-body">
                <form method="post" enctype="multipart/form-data" class="cancha-form" id="canchaForm">
                    {% csrf_token %}
                    
                    <div class="form-fields">
                        {{ form|crispy }}
                    </div>
                    
                    <div class="form-actions">
                        <a href="{% url 'canchas_lista' %}" class="btn btn-secondary">
                            <i class="fas fa-times"></i>
                            <span>Cancelar</span>
                        </a>
                        <button type="submit" class="btn btn-primary btn-save">
                            <i class="fas fa-plus-circle"></i>
                            <span class="btn-text">Registrar Cancha</span>
                            <div class="btn-loader">
                                <div class="spinner"></div>
                            </div>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Benefits Section -->
    <section class="benefits-section" id="cancha-benefits-section">
        <div class="benefits-header">
            <h3 class="benefits-title">
                <i class="fas fa-star"></i>
                Beneficios de registrar tu cancha
            </h3>
        </div>
        
        <div class="benefits-grid">
            <div class="benefit-card">
                <div class="benefit-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="benefit-content">
                    <h4 class="benefit-title">Mayor Visibilidad</h4>
                    <p class="benefit-description">Tu cancha será visible para toda la comunidad de jugadores de fútbol.</p>
                </div>
            </div>
            
            <div class="benefit-card">
                <div class="benefit-icon">
                    <i class="fas fa-calendar-check"></i>
                </div>
                <div class="benefit-content">
                    <h4 class="benefit-title">Reservas Organizadas</h4>
                    <p class="benefit-description">Los usuarios pueden organizar partidos y reservar tu cancha fácilmente.</p>
                </div>
            </div>
            
            <div class="benefit-card">
                <div class="benefit-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="benefit-content">
                    <h4 class="benefit-title">Estadísticas</h4>
                    <p class="benefit-description">Obtén estadísticas sobre el uso y popularidad de tu cancha.</p>
                </div>
            </div>
            
            <div class="benefit-card">
                <div class="benefit-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="benefit-content">
                    <h4 class="benefit-title">Confianza</h4>
                    <p class="benefit-description">Los jugadores pueden ver valoraciones y comentarios de otros usuarios.</p>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('canchaForm');
    const submitBtn = document.querySelector('.btn-save');
    const btnText = document.querySelector('.btn-text');
    const btnLoader = document.querySelector('.btn-loader');
    
    // Animación de entrada para las benefit cards
    const benefitCards = document.querySelectorAll('.benefit-card');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.classList.add('animate-in');
                }, index * 150);
                observer.unobserve(entry.target);
            }
        });
    }, { threshold: 0.1 });

    benefitCards.forEach(card => {
        observer.observe(card);
    });
    
    // Validación y estado de carga del formulario
    if (form && submitBtn) {
        form.addEventListener('submit', function(e) {
            // Validación básica de campos requeridos
            const requiredFields = form.querySelectorAll('[required]');
            let isValid = true;
            
            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    isValid = false;
                    field.classList.add('is-invalid');
                    
                    if (!field.parentNode.querySelector('.invalid-feedback')) {
                        const errorMsg = document.createElement('div');
                        errorMsg.className = 'invalid-feedback';
                        errorMsg.textContent = 'Este campo es requerido';
                        field.parentNode.appendChild(errorMsg);
                    }
                } else {
                    field.classList.remove('is-invalid');
                    const errorMsg = field.parentNode.querySelector('.invalid-feedback');
                    if (errorMsg) {
                        errorMsg.remove();
                    }
                }
            });
            
            // Validación específica para campos de texto largos
            const textareas = form.querySelectorAll('textarea');
            textareas.forEach(textarea => {
                if (textarea.value.length > 500) {
                    isValid = false;
                    textarea.classList.add('is-invalid');
                    
                    if (!textarea.parentNode.querySelector('.invalid-feedback')) {
                        const errorMsg = document.createElement('div');
                        errorMsg.className = 'invalid-feedback';
                        errorMsg.textContent = 'El texto no puede exceder los 500 caracteres';
                        textarea.parentNode.appendChild(errorMsg);
                    }
                }
            });
            
            if (!isValid) {
                e.preventDefault();
                // Scroll al primer campo con error
                const firstError = form.querySelector('.is-invalid');
                if (firstError) {
                    firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
                return;
            }
            
            // Estado de carga
            submitBtn.disabled = true;
            submitBtn.classList.add('loading');
            btnText.style.opacity = '0';
            btnLoader.style.opacity = '1';
        });
        
        // Quitar errores cuando el usuario empiece a escribir
        const formFields = form.querySelectorAll('input, textarea, select');
        formFields.forEach(field => {
            field.addEventListener('input', function() {
                this.classList.remove('is-invalid');
                const errorMsg = this.parentNode.querySelector('.invalid-feedback');
                if (errorMsg) {
                    errorMsg.remove();
                }
            });
        });
    }
    
    // Contador de caracteres para textareas
    const textareas = document.querySelectorAll('textarea');
    textareas.forEach(textarea => {
        const maxLength = 500;
        const counter = document.createElement('div');
        counter.className = 'char-counter';
        counter.textContent = `0/${maxLength}`;
        textarea.parentNode.appendChild(counter);
        
        textarea.addEventListener('input', function() {
            const remaining = this.value.length;
            counter.textContent = `${remaining}/${maxLength}`;
            
            if (remaining > maxLength * 0.8) {
                counter.style.color = 'var(--cancha-warning)';
            } else {
                counter.style.color = 'var(--cancha-text-muted)';
            }
        });
    });
    
    // Preview de imagen
    const imageInput = document.querySelector('input[type="file"]');
    if (imageInput) {
        imageInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    let preview = document.querySelector('.image-preview');
                    if (!preview) {
                        preview = document.createElement('div');
                        preview.className = 'image-preview';
                        imageInput.parentNode.appendChild(preview);
                    }
                    
                    preview.innerHTML = `
                        <img src="${e.target.result}" alt="Preview" class="preview-img">
                        <button type="button" class="remove-preview" onclick="this.parentNode.remove(); document.querySelector('input[type=file]').value = '';">
                            <i class="fas fa-times"></i>
                        </button>
                    `;
                };
                reader.readAsDataURL(file);
            }
        });
    }
});
</script>
{% endblock %}

================
File: app/templates/equipos/crear_equipo_permanente.html
================
{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}{{ titulo_pagina|default:"Crear Equipo" }} - De Rabona{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/equipo/crear_equipo_styles.css' %}">
{% endblock %}

{% block content %}
<div class="crear-equipo-container">
    <!-- Stepper Progress -->
    <div class="progress-stepper">
        <div class="step active" data-step="1">
            <div class="step-circle">
                <i class="fas fa-info-circle"></i>
            </div>
            <span class="step-label">Información</span>
        </div>
        <div class="step-line"></div>
        <div class="step" data-step="2">
            <div class="step-circle">
                <i class="fas fa-palette"></i>
            </div>
            <span class="step-label">Personalización</span>
        </div>
        <div class="step-line"></div>
        <div class="step" data-step="3">
            <div class="step-circle">
                <i class="fas fa-eye"></i>
            </div>
            <span class="step-label">Confirmar</span>
        </div>
    </div>

    <!-- Form Container -->
    <div class="form-main-card">
        <!-- Header -->
        <div class="form-header">
            <h1 class="form-title">{{ titulo_pagina|default:"Crear Nuevo Equipo" }}</h1>
            <p class="form-subtitle">Completa los pasos para crear tu equipo personalizado</p>
        </div>

        <!-- Form Content -->
        <form method="post" enctype="multipart/form-data" class="multi-step-form">
            {% csrf_token %}
            
            <!-- Step 1: Información Básica -->
            <div class="form-step active" data-step="1">
                <div class="step-content">
                    <div class="step-header">
                        <div class="step-icon">
                            <i class="fas fa-info-circle"></i>
                        </div>
                        <div class="step-info">
                            <h2 class="step-title">Información del Equipo</h2>
                            <p class="step-description">Ingresa los datos básicos de tu equipo</p>
                        </div>
                    </div>

                    <div class="fields-container">
                        <!-- Nombre del Equipo -->
                        <div class="field-group">
                            <label for="{{ form.nombre_equipo.id_for_label }}" class="field-label">
                                <i class="fas fa-tag"></i>
                                <span>Nombre del Equipo</span>
                                {% if form.nombre_equipo.field.required %}<span class="required">*</span>{% endif %}
                            </label>
                            <div class="field-wrapper">
                                {{ form.nombre_equipo }}
                                <div class="field-feedback"></div>
                            </div>
                            {% if form.nombre_equipo.help_text %}
                                <div class="field-help">{{ form.nombre_equipo.help_text }}</div>
                            {% endif %}
                            {% if form.nombre_equipo.errors %}
                                <div class="field-errors">
                                    {% for error in form.nombre_equipo.errors %}
                                        <span class="error-text">{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>

                        

                        <!-- Descripción -->
                        <div class="field-group field-full">
                            <label for="{{ form.descripcion.id_for_label }}" class="field-label">
                                <i class="fas fa-align-left"></i>
                                <span>Descripción</span>
                                {% if form.descripcion.field.required %}<span class="required">*</span>{% endif %}
                            </label>
                            <div class="field-wrapper">
                                {{ form.descripcion }}
                                <div class="field-feedback"></div>
                            </div>
                            {% if form.descripcion.help_text %}
                                <div class="field-help">{{ form.descripcion.help_text }}</div>
                            {% endif %}
                            {% if form.descripcion.errors %}
                                <div class="field-errors">
                                    {% for error in form.descripcion.errors %}
                                        <span class="error-text">{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>

                    <div class="step-actions">
                        <div></div> <!-- Spacer -->
                        <button type="button" class="btn btn-primary btn-next" onclick="nextStep()">
                            <span>Siguiente</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 2: Personalización -->
            <div class="form-step" data-step="2">
                <div class="step-content">
                    <div class="step-header">
                        <div class="step-icon">
                            <i class="fas fa-palette"></i>
                        </div>
                        <div class="step-info">
                            <h2 class="step-title">Personalización</h2>
                            <p class="step-description">Agrega elementos visuales a tu equipo</p>
                        </div>
                    </div>

                    <div class="fields-container">
                        <!-- Escudo del Equipo -->
                        <div class="field-group field-full">
                            <label for="{{ form.team_shield.id_for_label }}" class="field-label">
                                <i class="fas fa-shield-alt"></i>
                                <span>Escudo del Equipo</span>
                                {% if form.team_shield.field.required %}<span class="required">*</span>{% endif %}
                            </label>
                            <div class="upload-zone" id="upload-zone">
                                {{ form.team_shield }}
                                <div class="upload-content">
                                    <div class="upload-icon">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                    </div>
                                    <div class="upload-text">
                                        <p class="upload-primary">Arrastra tu escudo aquí</p>
                                        <p class="upload-secondary">o haz clic para seleccionar imagen</p>
                                        <p class="upload-hint">Formatos: JPG, PNG, GIF (máx. 2MB)</p>
                                    </div>
                                </div>
                                <div class="upload-preview" id="upload-preview">
                                    <img src="" alt="Preview" id="preview-image">
                                    <button type="button" class="remove-image" onclick="removeImage()">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                            {% if form.team_shield.help_text %}
                                <div class="field-help">{{ form.team_shield.help_text }}</div>
                            {% endif %}
                            {% if form.team_shield.errors %}
                                <div class="field-errors">
                                    {% for error in form.team_shield.errors %}
                                        <span class="error-text">{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>

                        <!-- Banner del Equipo -->
                        <div class="field-group field-full">
                            <label for="{{ form.team_banner.id_for_label }}" class="field-label">
                                <i class="fas fa-image"></i>
                                <span>Banner del Equipo</span>
                                {% if form.team_banner.field.required %}<span class="required">*</span>{% endif %}
                            </label>
                            <div class="upload-zone" id="banner-upload-zone">
                                {{ form.team_banner }}
                                <div class="upload-content">
                                    <div class="upload-icon">
                                        <i class="fas fa-panorama"></i>
                                    </div>
                                    <div class="upload-text">
                                        <p class="upload-primary">Arrastra tu banner aquí</p>
                                        <p class="upload-secondary">o haz clic para seleccionar imagen</p>
                                        <p class="upload-hint">Recomendado: 1200x300px</p>
                                    </div>
                                </div>
                                <div class="upload-preview banner-preview" id="banner-preview">
                                    <img src="" alt="Banner Preview" id="banner-preview-image">
                                    <button type="button" class="remove-image" onclick="removeBannerImage()">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                            {% if form.team_banner.help_text %}
                                <div class="field-help">{{ form.team_banner.help_text }}</div>
                            {% endif %}
                            {% if form.team_banner.errors %}
                                <div class="field-errors">
                                    {% for error in form.team_banner.errors %}
                                        <span class="error-text">{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>

                    <div class="step-actions">
                        <button type="button" class="btn btn-secondary btn-prev" onclick="prevStep()">
                            <i class="fas fa-arrow-left"></i>
                            <span>Anterior</span>
                        </button>
                        <button type="button" class="btn btn-primary btn-next" onclick="nextStep()">
                            <span>Siguiente</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 3: Vista Previa y Confirmación -->
            <div class="form-step" data-step="3">
                <div class="step-content">
                    <div class="step-header">
                        <div class="step-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <div class="step-info">
                            <h2 class="step-title">Confirmar Equipo</h2>
                            <p class="step-description">Revisa los datos antes de crear tu equipo</p>
                        </div>
                    </div>

                    <div class="preview-container">
                        <!-- Preview Card -->
                        <div class="team-preview" id="team-preview">
                            <!-- Banner Preview -->
                            <div class="preview-banner" id="preview-banner">
                                <div class="banner-placeholder">
                                    <i class="fas fa-image"></i>
                                    <span>Banner del Equipo</span>
                                </div>
                            </div>
                            
                            <div class="preview-content">
                                <div class="preview-header">
                                    <div class="preview-shield">
                                        <i class="fas fa-shield-alt"></i>
                                    </div>
                                    <div class="preview-info">
                                        <h3 class="preview-name">Nombre del Equipo</h3>
                                        <p class="preview-description">Descripción del equipo aparecerá aquí</p>
                                        <div class="preview-type">
                                            <i class="fas fa-tag"></i>
                                            <span id="preview-tipo">Tipo de equipo</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Summary -->
                        <div class="form-summary">
                            <h4 class="summary-title">
                                <i class="fas fa-clipboard-list"></i>
                                <span>Resumen</span>
                            </h4>
                            <div class="summary-items">
                                <div class="summary-item">
                                    <span class="summary-label">Nombre:</span>
                                    <span class="summary-value" id="summary-name">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">Tipo:</span>
                                    <span class="summary-value" id="summary-tipo">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">Descripción:</span>
                                    <span class="summary-value" id="summary-description">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">Escudo:</span>
                                    <span class="summary-value" id="summary-escudo">Sin imagen</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">Banner:</span>
                                    <span class="summary-value" id="summary-banner">Sin imagen</span>
                                </div>
                            </div>
                            
                            <div class="captain-info">
                                <div class="captain-label">
                                    <i class="fas fa-crown"></i>
                                    <span>Capitán del Equipo</span>
                                </div>
                                <div class="captain-name">{{ user.get_full_name|default:user.username }}</div>
                            </div>
                        </div>
                    </div>

                    <div class="step-actions">
                        <button type="button" class="btn btn-secondary btn-prev" onclick="prevStep()">
                            <i class="fas fa-arrow-left"></i>
                            <span>Anterior</span>
                        </button>
                        <button type="submit" class="btn btn-primary btn-submit">
                            <i class="fas fa-check"></i>
                            <span class="submit-text">Crear Equipo</span>
                            <div class="submit-spinner">
                                <i class="fas fa-spinner fa-spin"></i>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <!-- Form Errors -->
    {% if form.non_field_errors %}
        <div class="form-errors-container">
            {% for error in form.non_field_errors %}
                <div class="error-banner">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>{{ error }}</span>
                </div>
            {% endfor %}
        </div>
    {% endif %}
</div>

<!-- Scripts -->
<script>
let currentStep = 1;
const totalSteps = 3;

document.addEventListener('DOMContentLoaded', function() {
    initializeForm();
    initializeUploads();
    initializePreview();
    console.log('Form initialized');
});

function initializeForm() {
    const form = document.querySelector('.multi-step-form');
    const inputs = form.querySelectorAll('input, textarea, select');
    
    inputs.forEach(input => {
        input.addEventListener('input', function() {
            validateField.call(this);
            updatePreview();
        });
        input.addEventListener('blur', validateField);
        input.addEventListener('change', updatePreview);
    });

    form.addEventListener('submit', handleSubmit);
}

function initializeUploads() {
    // Shield upload
    initializeUploadZone('upload-zone', 'team_shield', 'preview-image', showImagePreview);
    
    // Banner upload
    initializeUploadZone('banner-upload-zone', 'team_banner', 'banner-preview-image', showBannerPreview);
}

function initializeUploadZone(zoneId, fieldName, previewImageId, previewCallback) {
    const uploadZone = document.getElementById(zoneId);
    const fileInput = document.querySelector(`input[name="${fieldName}"]`);
    
    if (!uploadZone || !fileInput) return;

    uploadZone.addEventListener('dragover', handleDragOver);
    uploadZone.addEventListener('dragleave', handleDragLeave);
    uploadZone.addEventListener('drop', function(e) {
        handleDrop.call(this, e, previewCallback);
    });
    
    uploadZone.addEventListener('click', function(e) {
        if (!e.target.closest('.upload-preview') && !e.target.closest('.remove-image')) {
            fileInput.click();
        }
    });
    
    fileInput.addEventListener('change', function() {
        handleFileSelect.call(this, previewCallback);
    });
}

function initializePreview() {
    updatePreview();
}

function nextStep() {
    console.log('Moving from step:', currentStep);
    
    if (currentStep === 1 && !validateStep(currentStep)) {
        console.log('Step 1 validation failed');
        return;
    }
    
    if (currentStep < totalSteps) {
        currentStep++;
        showStep(currentStep);
        updateStepper();
        updatePreview();
    }
}

function prevStep() {
    if (currentStep > 1) {
        currentStep--;
        showStep(currentStep);
        updateStepper();
    }
}

function showStep(step) {
    document.querySelectorAll('.form-step').forEach(s => s.classList.remove('active'));
    const targetStep = document.querySelector(`.form-step[data-step="${step}"]`);
    if (targetStep) {
        targetStep.classList.add('active');
    }
}

function updateStepper() {
    document.querySelectorAll('.step').forEach((step, index) => {
        const stepNum = index + 1;
        step.classList.toggle('active', stepNum === currentStep);
        step.classList.toggle('completed', stepNum < currentStep);
    });
}

function validateStep(step) {
    const stepElement = document.querySelector(`.form-step[data-step="${step}"]`);
    const requiredInputs = stepElement.querySelectorAll('input[required], textarea[required], select[required]');
    
    let isValid = true;
    requiredInputs.forEach(input => {
        if (!input.value.trim()) {
            isValid = false;
            showFieldError(input, 'Este campo es requerido');
        } else {
            clearFieldError(input);
        }
    });

    return isValid;
}

function validateField() {
    const value = this.value.trim();
    const isRequired = this.hasAttribute('required');
    
    if (isRequired && !value) {
        showFieldError(this, 'Este campo es requerido');
        return false;
    } else {
        clearFieldError(this);
        return true;
    }
}

function showFieldError(field, message) {
    const wrapper = field.closest('.field-wrapper');
    if (!wrapper) return;
    
    const feedback = wrapper.querySelector('.field-feedback');
    if (!feedback) return;
    
    wrapper.classList.add('error');
    wrapper.classList.remove('success');
    feedback.textContent = message;
    feedback.classList.add('show');
}

function clearFieldError(field) {
    const wrapper = field.closest('.field-wrapper');
    if (!wrapper) return;
    
    const feedback = wrapper.querySelector('.field-feedback');
    if (!feedback) return;
    
    wrapper.classList.remove('error');
    wrapper.classList.add('success');
    feedback.classList.remove('show');
}

function handleDragOver(e) {
    e.preventDefault();
    this.classList.add('dragover');
}

function handleDragLeave() {
    this.classList.remove('dragover');
}

function handleDrop(e, previewCallback) {
    e.preventDefault();
    this.classList.remove('dragover');
    
    const files = e.dataTransfer.files;
    if (files.length > 0) {
        processFile(files[0], previewCallback);
    }
}

function handleFileSelect(previewCallback) {
    if (this.files && this.files[0]) {
        processFile(this.files[0], previewCallback);
    }
}

function processFile(file, previewCallback) {
    if (!file.type.startsWith('image/')) {
        alert('Por favor selecciona una imagen válida');
        return;
    }

    const reader = new FileReader();
    reader.onload = function(e) {
        previewCallback(e.target.result);
    };
    reader.readAsDataURL(file);
}

function showImagePreview(src) {
    const uploadZone = document.getElementById('upload-zone');
    const preview = document.getElementById('upload-preview');
    const image = document.getElementById('preview-image');
    
    if (image && preview && uploadZone) {
        image.src = src;
        uploadZone.classList.add('has-image');
        preview.classList.add('show');
        updatePreview();
    }
}

function showBannerPreview(src) {
    const uploadZone = document.getElementById('banner-upload-zone');
    const preview = document.getElementById('banner-preview');
    const image = document.getElementById('banner-preview-image');
    
    if (image && preview && uploadZone) {
        image.src = src;
        uploadZone.classList.add('has-image');
        preview.classList.add('show');
        updatePreview();
    }
}

function removeImage() {
    const uploadZone = document.getElementById('upload-zone');
    const preview = document.getElementById('upload-preview');
    const fileInput = document.querySelector('input[name="team_shield"]');
    
    if (uploadZone && preview && fileInput) {
        uploadZone.classList.remove('has-image');
        preview.classList.remove('show');
        fileInput.value = '';
        updatePreview();
    }
}

function removeBannerImage() {
    const uploadZone = document.getElementById('banner-upload-zone');
    const preview = document.getElementById('banner-preview');
    const fileInput = document.querySelector('input[name="team_banner"]');
    
    if (uploadZone && preview && fileInput) {
        uploadZone.classList.remove('has-image');
        preview.classList.remove('show');
        fileInput.value = '';
        updatePreview();
    }
}

function updatePreview() {
    const nombreInput = document.querySelector('input[name="nombre_equipo"]');
    const descripcionInput = document.querySelector('textarea[name="descripcion"]');
    const tipoInput = document.querySelector('select[name="tipo_equipo"]');
    const shieldImage = document.getElementById('preview-image');
    const bannerImage = document.getElementById('banner-preview-image');
    
    // Update preview card
    const previewName = document.querySelector('.preview-name');
    const previewDesc = document.querySelector('.preview-description');
    const previewTipo = document.getElementById('preview-tipo');
    const previewShield = document.querySelector('.preview-shield');
    const previewBanner = document.getElementById('preview-banner');
    
    if (previewName && nombreInput) {
        previewName.textContent = nombreInput.value || 'Nombre del Equipo';
    }
    
    if (previewDesc && descripcionInput) {
        previewDesc.textContent = descripcionInput.value || 'Descripción del equipo aparecerá aquí';
    }
    
    if (previewTipo && tipoInput) {
        const selectedOption = tipoInput.options[tipoInput.selectedIndex];
        previewTipo.textContent = selectedOption ? selectedOption.text : 'Tipo de equipo';
    }
    
    if (previewShield && shieldImage && shieldImage.src && shieldImage.src !== window.location.href) {
        previewShield.innerHTML = `<img src="${shieldImage.src}" alt="Escudo">`;
    }
    
    if (previewBanner && bannerImage && bannerImage.src && bannerImage.src !== window.location.href) {
        previewBanner.innerHTML = `<img src="${bannerImage.src}" alt="Banner">`;
    }
    
    updateSummary();
}

function updateSummary() {
    const summaryName = document.getElementById('summary-name');
    const summaryTipo = document.getElementById('summary-tipo');
    const summaryDesc = document.getElementById('summary-description');
    const summaryEscudo = document.getElementById('summary-escudo');
    const summaryBanner = document.getElementById('summary-banner');
    
    const nombreInput = document.querySelector('input[name="nombre_equipo"]');
    const tipoInput = document.querySelector('select[name="tipo_equipo"]');
    const descripcionInput = document.querySelector('textarea[name="descripcion"]');
    const shieldImage = document.getElementById('preview-image');
    const bannerImage = document.getElementById('banner-preview-image');
    
    if (summaryName && nombreInput) {
        summaryName.textContent = nombreInput.value || '-';
    }
    
    if (summaryTipo && tipoInput) {
        const selectedOption = tipoInput.options[tipoInput.selectedIndex];
        summaryTipo.textContent = selectedOption ? selectedOption.text : '-';
    }
    
    if (summaryDesc && descripcionInput) {
        summaryDesc.textContent = descripcionInput.value || '-';
    }
    
    if (summaryEscudo) {
        const hasShield = shieldImage && shieldImage.src && shieldImage.src !== window.location.href;
        summaryEscudo.textContent = hasShield ? 'Imagen seleccionada' : 'Sin imagen';
    }
    
    if (summaryBanner) {
        const hasBanner = bannerImage && bannerImage.src && bannerImage.src !== window.location.href;
        summaryBanner.textContent = hasBanner ? 'Imagen seleccionada' : 'Sin imagen';
    }
}

function handleSubmit(e) {
    const submitBtn = document.querySelector('.btn-submit');
    if (submitBtn) {
        submitBtn.classList.add('loading');
        submitBtn.disabled = true;
    }
}
</script>
{% endblock %}

================
File: app/templates/equipos/detalle_equipo.html
================
{% extends 'base.html' %}
{% load static %}

{% block title %}{{ equipo.nombre_equipo }} - De Rabona{% endblock %}

{% block extra_css %}
<link href="{% static 'css/equipo/detalle_equipo_styles.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="detalle-equipo-container">
    <!-- Banner Hero Section -->
    <div class="equipo-hero-section">
        <div class="hero-banner">
            <img src="{% if equipo.team_banner %}{{ equipo.team_banner.url }}{% else %}{% static 'images/banner_equipo_default.jpg' %}{% endif %}" 
                 class="banner-image" 
                 alt="Banner de {{ equipo.nombre_equipo }}">
            <div class="banner-overlay"></div>
        </div>
        
        <div class="hero-content">
            <div class="equipo-identity">
                <div class="equipo-shield">
                    {% if equipo.team_shield %}
                        <img src="{{ equipo.team_shield.url }}" alt="Escudo de {{ equipo.nombre_equipo }}">
                    {% else %}
                        <div class="shield-placeholder">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                    {% endif %}
                </div>
                
                <div class="equipo-info">
                    <h1 class="equipo-name">{{ equipo.nombre_equipo }}</h1>
                    <div class="equipo-meta">
                        <div class="meta-item">
                            <i class="fas fa-crown"></i>
                            <span>{{ equipo.capitan.get_full_name|default:equipo.capitan.username }}</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-calendar"></i>
                            <span>Creado {{ equipo.fecha_creacion|date:"M Y" }}</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-users"></i>
                            <span>{{ equipo.jugadores.count }} miembro{{ equipo.jugadores.count|pluralize:",s" }}</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Actions -->
            <div class="hero-actions">
                {% if es_capitan %}
                    <a href="{% url 'editar_equipo_permanente' pk=equipo.id_equipo %}" class="btn btn-primary">
                        <i class="fas fa-edit"></i>
                        <span>Editar Equipo</span>
                    </a>
                    <button class="btn btn-secondary" onclick="openModal('gestionarMiembrosModal')">
                        <i class="fas fa-user-cog"></i>
                        <span>Gestionar Miembros</span>
                    </button>
                {% elif not es_miembro %}
                    <button class="btn btn-primary" id="solicitarUnirse">
                        <i class="fas fa-user-plus"></i>
                        <span>Solicitar Unirse</span>
                    </button>
                {% else %}
                    <div class="member-badge">
                        <i class="fas fa-check"></i>
                        <span>Eres Miembro</span>
                    </div>
                    <button class="btn btn-outline" id="abandonarEquipo">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Abandonar Equipo</span>
                    </button>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="content-grid">
            <!-- Left Column -->
            <div class="content-left">
                <!-- Team Description -->
                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">
                            <i class="fas fa-info-circle"></i>
                            <span>Información del Equipo</span>
                        </h2>
                    </div>
                    <div class="card-body">
                        <div class="team-description">
                            {% if equipo.descripcion %}
                                <p>{{ equipo.descripcion|linebreaksbr }}</p>
                            {% else %}
                                <div class="empty-description">
                                    <i class="fas fa-file-alt"></i>
                                    <span>Este equipo aún no tiene una descripción.</span>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <!-- Team Members -->
                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">
                            <i class="fas fa-users"></i>
                            <span>Miembros del Equipo</span>
                        </h2>
                        <div class="members-count">{{ equipo.jugadores.count }}</div>
                    </div>
                    <div class="card-body">
                        {% if equipo.jugadores.exists %}
                            <div class="members-grid">
                                {% for jugador in equipo.jugadores.all %}
                                <div class="member-card">
                                    <div class="member-avatar">
                                        <img src="{% if jugador.imagen_perfil %}{{ jugador.imagen_perfil.url }}{% else %}{% static 'images/avatar_default.png' %}{% endif %}" 
                                             alt="{{ jugador.get_full_name|default:jugador.username }}">
                                        {% if jugador == equipo.capitan %}
                                            <div class="captain-badge">
                                                <i class="fas fa-crown"></i>
                                            </div>
                                        {% endif %}
                                    </div>
                                    <div class="member-info">
                                        <h3 class="member-name">{{ jugador.get_full_name|default:jugador.username }}</h3>
                                        <p class="member-position">{{ jugador.get_posicion_display|default:"Sin posición" }}</p>
                                        <div class="member-rating">
                                            <i class="fas fa-star"></i>
                                            <span>{{ jugador.calificacion|floatformat:0|default:"N/A" }}</span>
                                        </div>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        {% else %}
                            <div class="empty-state">
                                <div class="empty-icon">
                                    <i class="fas fa-user-plus"></i>
                                </div>
                                <div class="empty-content">
                                    <h3 class="empty-title">No hay miembros</h3>
                                    <p class="empty-desc">Este equipo aún no tiene jugadores asignados además del capitán.</p>
                                    {% if es_capitan %}
                                        <button class="btn btn-primary" onclick="openModal('invitarJugadorModal')">
                                            <i class="fas fa-user-plus"></i>
                                            <span>Invitar Jugadores</span>
                                        </button>
                                    {% endif %}
                                </div>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="content-right">
                <!-- Team Stats -->
                <div class="content-card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="fas fa-chart-bar"></i>
                            <span>Estadísticas</span>
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-number">{{ equipo.jugadores.count }}</div>
                                    <div class="stat-label">Miembros</div>
                                </div>
                            </div>
                            
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <i class="fas fa-futbol"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-number">{{ equipo.partidos_jugados_permanente|default:0 }}</div>
                                    <div class="stat-label">Partidos</div>
                                </div>
                            </div>
                            
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <i class="fas fa-trophy"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-number">{{ equipo.victorias_permanente|default:0 }}</div>
                                    <div class="stat-label">Victorias</div>
                                </div>
                            </div>
                            
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <i class="fas fa-star"></i>
                                </div>
                                <div class="stat-content">
                                    <div class="stat-number">{{ equipo.calificacion_promedio|floatformat:0 }}</div>
                                    <div class="stat-label">ELO Promedio</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Coming Soon Features -->
                <div class="content-card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="fas fa-rocket"></i>
                            <span>Próximamente</span>
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="coming-soon-list">
                            <div class="feature-item">
                                <i class="fas fa-chart-line"></i>
                                <span>Historial de partidos</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-medal"></i>
                                <span>Rankings y logros</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-analytics"></i>
                                <span>Estadísticas detalladas</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-calendar-check"></i>
                                <span>Calendario de partidos</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="content-card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="fas fa-bolt"></i>
                            <span>Acciones Rápidas</span>
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="actions-list">
                            <a href="{% url 'lista_mis_equipos' %}" class="action-item">
                                <div class="action-icon">
                                    <i class="fas fa-arrow-left"></i>
                                </div>
                                <div class="action-content">
                                    <h4>Volver a Mis Equipos</h4>
                                    <p>Regresar al listado completo</p>
                                </div>
                            </a>
                            
                            {% if es_capitan %}
                            <a href="{% url 'crear_partidos' %}" class="action-item">
                                <div class="action-icon">
                                    <i class="fas fa-plus-circle"></i>
                                </div>
                                <div class="action-content">
                                    <h4>Crear Partido</h4>
                                    <p>Organizar un partido con este equipo</p>
                                </div>
                            </a>
                            {% endif %}
                            
                            <a href="#" class="action-item disabled">
                                <div class="action-icon">
                                    <i class="fas fa-history"></i>
                                </div>
                                <div class="action-content">
                                    <h4>Ver Historial</h4>
                                    <p>Próximamente disponible</p>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal para gestionar miembros -->
{% if es_capitan %}
<div class="modal-overlay" id="gestionarMiembrosModal" onclick="closeModal('gestionarMiembrosModal')">
    <div class="modal-container" onclick="event.stopPropagation()">
        <div class="modal-header">
            <h3 class="modal-title">
                <i class="fas fa-user-cog"></i>
                <span>Gestionar Miembros</span>
            </h3>
            <button class="modal-close" onclick="closeModal('gestionarMiembrosModal')">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <div class="coming-soon-message">
                <div class="coming-soon-icon">
                    <i class="fas fa-tools"></i>
                </div>
                <h4>Funcionalidad en Desarrollo</h4>
                <p>Esta característica estará disponible próximamente. Podrás invitar jugadores, gestionar solicitudes y administrar los miembros de tu equipo.</p>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="closeModal('gestionarMiembrosModal')">Cerrar</button>
        </div>
    </div>
</div>
{% endif %}

<!-- Scripts -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    initializeAnimations();
    setupInteractions();
    setupParallax();
});

function initializeAnimations() {
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate-in');
            }
        });
    }, { threshold: 0.1 });

    // Animate member cards
    document.querySelectorAll('.member-card').forEach((card, index) => {
        setTimeout(() => {
            observer.observe(card);
        }, index * 100);
    });

    // Animate content cards
    document.querySelectorAll('.content-card').forEach((card, index) => {
        setTimeout(() => {
            observer.observe(card);
        }, index * 200);
    });
}

function setupInteractions() {
    // Join team request
    const joinBtn = document.getElementById('solicitarUnirse');
    if (joinBtn) {
        joinBtn.addEventListener('click', function() {
            if (confirm('¿Estás seguro de que quieres solicitar unirte a este equipo?')) {
                this.innerHTML = '<i class="fas fa-clock"></i><span>Solicitud Enviada</span>';
                this.classList.remove('btn-primary');
                this.classList.add('btn-secondary');
                this.disabled = true;
                
                // Show success message
                showNotification('Solicitud enviada correctamente', 'success');
            }
        });
    }

    // Leave team
    const leaveBtn = document.getElementById('abandonarEquipo');
    if (leaveBtn) {
        leaveBtn.addEventListener('click', function() {
            if (confirm('¿Estás seguro de que quieres abandonar este equipo? Esta acción no se puede deshacer.')) {
                // Simulate leaving team
                showNotification('Has abandonado el equipo', 'info');
                setTimeout(() => {
                    window.location.href = "{% url 'lista_mis_equipos' %}";
                }, 2000);
            }
        });
    }
}

function setupParallax() {
    const banner = document.querySelector('.banner-image');
    if (banner && window.innerWidth > 768) {
        window.addEventListener('scroll', function() {
            const scrolled = window.pageYOffset;
            const parallax = scrolled * 0.3;
            banner.style.transform = `translateY(${parallax}px)`;
        });
    }
}

function openModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
    }
}

function closeModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
}

function showNotification(message, type = 'info') {
    const notification = document.createElement('div');
    notification.className = `notification notification-${type}`;
    notification.innerHTML = `
        <i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'times' : 'info'}-circle"></i>
        <span>${message}</span>
    `;
    
    notification.style.cssText = `
        position: fixed;
        top: 2rem;
        right: 2rem;
        background: ${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#3b82f6'};
        color: white;
        padding: 1rem 1.5rem;
        border-radius: 12px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        z-index: 1050;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        animation: slideInRight 0.3s ease;
    `;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.style.animation = 'slideInRight 0.3s ease reverse';
        setTimeout(() => notification.remove(), 300);
    }, 4000);
}

// Add animation keyframes
const style = document.createElement('style');
style.textContent = `
    @keyframes slideInRight {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
`;
document.head.appendChild(style);
</script>
{% endblock %}

================
File: app/templates/equipos/editar_equipo_permanente.html
================
{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block title %}{{ titulo_pagina|default:"Editar Equipo" }} - De Rabona{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/equipo/editar_equipo_styles.css' %}">
{% endblock %}

{% block content %}
<div class="editar-equipo-container">
    <!-- Hero Section -->
    <div class="editar-equipo-hero animate-in">
        <div class="hero-content">
            <div class="current-team-info">
                <div class="current-shield">
                    {% if equipo.team_shield %}
                        <img src="{{ equipo.team_shield.url }}" alt="Escudo {{ equipo.nombre_equipo }}">
                    {% else %}
                        <div class="shield-placeholder">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                    {% endif %}
                </div>
                <div class="current-details">
                    <h1 class="current-name">{{ equipo.nombre_equipo }}</h1>
                    <p class="current-subtitle">Editando informaciรณn del equipo</p>
                </div>
            </div>
            <div class="edit-icon">
                <i class="fas fa-edit"></i>
            </div>
        </div>
    </div>

    <!-- Mensajes del Sistema -->
    {% if messages %}
        <div class="messages-section">
            {% for message in messages %}
                <div class="custom-alert alert-{{ message.tags }}">
                    <div class="alert-icon">
                        <i class="fas fa-{% if message.tags == 'success' %}check-circle{% elif message.tags == 'error' or message.tags == 'danger' %}exclamation-triangle{% elif message.tags == 'warning' %}exclamation-circle{% else %}info-circle{% endif %}"></i>
                    </div>
                    <div class="alert-content">{{ message }}</div>
                    <button type="button" class="alert-dismiss" onclick="this.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <!-- Formulario Principal -->
    <div class="editar-equipo-form-container animate-in">
        <form method="post" enctype="multipart/form-data" class="equipo-form" id="editarEquipoForm">
            {% csrf_token %}
            
            <div class="form-sections">
                <!-- Secciรณn de informaciรณn bรกsica -->
                <div class="form-section">
                    <div class="section-header">
                        <div class="section-icon">
                            <i class="fas fa-info-circle"></i>
                        </div>
                        <div class="section-content">
                            <h2 class="section-title">Informaciรณn Bรกsica</h2>
                            <p class="section-description">Modifica los datos principales de tu equipo</p>
                        </div>
                    </div>
                    
                    <div class="form-grid">
                        <!-- Campo Nombre del Equipo (siempre primero) -->
                        {% for field in form %}
                            {% if field.name == 'nombre_equipo' %}
                                <div class="form-field">
                                    <label class="form-label" for="{{ field.id_for_label }}">
                                        <div class="label-content">
                                            <div class="label-icon">
                                                <i class="fas fa-tag"></i>
                                            </div>
                                            <span class="label-text">
                                                {{ field.label }}
                                                {% if field.field.required %}
                                                    <span class="required-asterisk">*</span>
                                                {% endif %}
                                            </span>
                                        </div>
                                    </label>
                                    
                                    <div class="field-wrapper">
                                        {{ field }}
                                        <div class="field-status">
                                            <i class="fas fa-check-circle field-valid-icon"></i>
                                            <i class="fas fa-exclamation-circle field-invalid-icon"></i>
                                        </div>
                                    </div>
                                    
                                    {% if field.help_text %}
                                        <small class="form-help">{{ field.help_text }}</small>
                                    {% endif %}
                                    {% if field.errors %}
                                        <div class="field-errors">
                                            {% for error in field.errors %}
                                                <small class="error-text">{{ error }}</small>
                                            {% endfor %}
                                        </div>
                                    {% endif %}
                                </div>
                            {% endif %}
                        {% endfor %}

                        <!-- Campo Descripciรณn (siempre segundo) -->
                        {% for field in form %}
                            {% if field.name == 'descripcion' %}
                                <div class="form-field form-field-full">
                                    <label class="form-label" for="{{ field.id_for_label }}">
                                        <div class="label-content">
                                            <div class="label-icon">
                                                <i class="fas fa-align-left"></i>
                                            </div>
                                            <span class="label-text">
                                                {{ field.label }}
                                                {% if field.field.required %}
                                                    <span class="required-asterisk">*</span>
                                                {% endif %}
                                            </span>
                                        </div>
                                    </label>
                                    
                                    <div class="field-wrapper">
                                        {{ field }}
                                        <div class="field-status">
                                            <i class="fas fa-check-circle field-valid-icon"></i>
                                            <i class="fas fa-exclamation-circle field-invalid-icon"></i>
                                        </div>
                                    </div>
                                    
                                    {% if field.help_text %}
                                        <small class="form-help">{{ field.help_text }}</small>
                                    {% endif %}
                                    {% if field.errors %}
                                        <div class="field-errors">
                                            {% for error in field.errors %}
                                                <small class="error-text">{{ error }}</small>
                                            {% endfor %}
                                        </div>
                                    {% endif %}
                                </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                
                <!-- Secciรณn de personalizaciรณn visual -->
                <div class="form-section">
                    <div class="section-header">
                        <div class="section-icon">
                            <i class="fas fa-palette"></i>
                        </div>
                        <div class="section-content">
                            <h2 class="section-title">Personalizaciรณn Visual</h2>
                            <p class="section-description">Actualiza la identidad visual de tu equipo</p>
                        </div>
                    </div>
                    
                    <div class="form-grid">
                        {% for field in form %}
                            {% if field.name != 'nombre_equipo' and field.name != 'descripcion' %}
                                <div class="form-field {% if field.name == 'team_shield' or field.name == 'team_banner' %}form-field-full{% endif %}">
                                    <label class="form-label" for="{{ field.id_for_label }}">
                                        <div class="label-content">
                                            <div class="label-icon">
                                                {% if field.name == 'team_shield' %}
                                                    <i class="fas fa-shield-alt"></i>
                                                {% elif field.name == 'team_banner' %}
                                                    <i class="fas fa-image"></i>
                                                {% else %}
                                                    <i class="fas fa-cog"></i>
                                                {% endif %}
                                            </div>
                                            <span class="label-text">
                                                {{ field.label }}
                                                {% if field.field.required %}
                                                    <span class="required-asterisk">*</span>
                                                {% endif %}
                                            </span>
                                        </div>
                                    </label>
                                    
                                    {% if field.name == 'team_shield' or field.name == 'team_banner' %}
                                        <div class="file-upload-container">
                                            <div class="file-upload-wrapper">
                                                <div class="file-input-container">
                                                    {{ field }}
                                                </div>
                                                {% if field.name == 'team_shield' and equipo.team_shield %}
                                                    <div class="current-file-info">
                                                        <div class="current-file-preview">
                                                            <img src="{{ equipo.team_shield.url }}" alt="Escudo actual">
                                                            <div class="current-badge">Actual</div>
                                                        </div>
                                                        <small class="file-info-text">
                                                            <i class="fas fa-info-circle"></i>
                                                            Selecciona un nuevo archivo para reemplazar el escudo actual
                                                        </small>
                                                    </div>
                                                {% elif field.name == 'team_banner' and equipo.team_banner %}
                                                    <div class="current-file-info">
                                                        <div class="current-file-preview">
                                                            <img src="{{ equipo.team_banner.url }}" alt="Banner actual">
                                                            <div class="current-badge">Actual</div>
                                                        </div>
                                                        <small class="file-info-text">
                                                            <i class="fas fa-info-circle"></i>
                                                            Selecciona un nuevo archivo para reemplazar el banner actual
                                                        </small>
                                                    </div>
                                                {% endif %}
                                            </div>
                                        </div>
                                    {% else %}
                                        <div class="field-wrapper">
                                            {{ field }}
                                        </div>
                                    {% endif %}
                                    
                                    {% if field.help_text %}
                                        <small class="form-help">{{ field.help_text }}</small>
                                    {% endif %}
                                    {% if field.errors %}
                                        <div class="field-errors">
                                            {% for error in field.errors %}
                                                <small class="error-text">{{ error }}</small>
                                            {% endfor %}
                                        </div>
                                    {% endif %}
                                </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
            </div>
            
            <!-- Botones de acciรณn -->
            <div class="form-actions animate-in">
                <a href="{% url 'detalle_equipo' pk=equipo.id_equipo %}" class="btn btn-secondary">
                    <i class="fas fa-arrow-left"></i>
                    <span>Cancelar</span>
                </a>
                <button type="submit" class="btn btn-primary btn-submit">
                    <div class="btn-content">
                        <i class="fas fa-save btn-icon"></i>
                        <span class="btn-text">Guardar Cambios</span>
                    </div>
                    <div class="btn-spinner">
                        <i class="fas fa-spinner fa-spin"></i>
                    </div>
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/equipo/editar_equipo.js' %}"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Animaciones de entrada
        const elements = document.querySelectorAll('.animate-in');
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry, index) => {
                if (entry.isIntersecting) {
                    setTimeout(() => {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }, index * 150);
                }
            });
        });
        
        elements.forEach(element => {
            element.style.opacity = '0';
            element.style.transform = 'translateY(30px)';
            element.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(element);
        });

        // Validaciรณn visual de campos
        const inputs = document.querySelectorAll('input, textarea, select');
        inputs.forEach(input => {
            input.addEventListener('blur', function() {
                const wrapper = this.closest('.field-wrapper');
                if (wrapper) {
                    if (this.value.trim() !== '') {
                        wrapper.classList.add('valid');
                        wrapper.classList.remove('invalid');
                    } else if (this.hasAttribute('required')) {
                        wrapper.classList.add('invalid');
                        wrapper.classList.remove('valid');
                    }
                }
            });
        });

        // Manejo del formulario de envรญo
        const form = document.getElementById('editarEquipoForm');
        const submitBtn = document.querySelector('.btn-submit');
        
        if (form && submitBtn) {
            form.addEventListener('submit', function() {
                submitBtn.classList.add('loading');
                submitBtn.disabled = true;
            });
        }

        // Mejorar la experiencia de los campos de archivo
        const fileInputs = document.querySelectorAll('input[type="file"]');
        fileInputs.forEach(input => {
            input.addEventListener('change', function() {
                if (this.files && this.files[0]) {
                    const fileName = this.files[0].name;
                    const wrapper = this.closest('.file-upload-wrapper');
                    let feedback = wrapper.querySelector('.file-selected-feedback');
                    
                    if (!feedback) {
                        feedback = document.createElement('div');
                        feedback.className = 'file-selected-feedback';
                        wrapper.appendChild(feedback);
                    }
                    
                    feedback.innerHTML = `
                        <i class="fas fa-check-circle"></i>
                        <span>Archivo seleccionado: ${fileName}</span>
                    `;
                }
            });
        });
    });
</script>
{% endblock %}

================
File: app/templates/equipos/mis_equipos_lista.html
================
{% extends 'base.html' %}
{% load static %}

{% block title %}{{ titulo_pagina }} - De Rabona{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/equipo/lista_equipo_styles.css' %}">
{% endblock %}

{% block content %}
<div class="equipos-container">
    <!-- Hero Section -->
    <div class="equipos-hero-section animate-in">
        <div class="hero-content">
            <div class="hero-icon">
                <i class="fas fa-users"></i>
            </div>
            <div class="hero-text">
                <h1 class="hero-title">{{ titulo_pagina }}</h1>
                <p class="hero-subtitle">Gestiona y visualiza todos tus equipos</p>
            </div>
        </div>
        
        <div class="header-actions">
            <a href="{% url 'crear_equipo_permanente' %}" class="btn btn-primary">
                <i class="fas fa-plus-circle"></i>
                <span>Crear Nuevo Equipo</span>
            </a>
        </div>
    </div>

    <!-- Mensajes del Sistema -->
    {% if messages %}
        <div class="messages-section">
            {% for message in messages %}
                <div class="custom-alert alert-{{ message.tags }}">
                    <div class="alert-icon">
                        <i class="fas fa-{% if message.tags == 'success' %}check-circle{% elif message.tags == 'error' or message.tags == 'danger' %}exclamation-triangle{% elif message.tags == 'warning' %}exclamation-circle{% else %}info-circle{% endif %}"></i>
                    </div>
                    <div class="alert-content">{{ message }}</div>
                    <button type="button" class="alert-dismiss" onclick="this.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    {% if equipos_list %}
        <!-- Estadísticas rápidas -->
        <div class="stats-section">
            <div class="stats-grid">
                <div class="stat-card animate-in">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">{{ equipos_list|length }}</div>
                        <div class="stat-label">Equipo{{ equipos_list|length|pluralize }}</div>
                    </div>
                </div>
                
                <div class="stat-card animate-in">
                    <div class="stat-icon">
                        <i class="fas fa-crown"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">{{ equipos_list|length }}</div>
                        <div class="stat-label">Capitaneando</div>
                    </div>
                </div>
                
                <div class="stat-card animate-in">
                    <div class="stat-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">--</div>
                        <div class="stat-label">Victorias</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lista de Equipos -->
        <div class="equipos-section">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-shield-alt"></i>
                    Mis Equipos
                </h2>
                <div class="section-meta">
                    <div class="equipos-count">
                        {{ equipos_list|length }} equipos encontrados
                    </div>
                </div>
            </div>
            
            <div class="equipos-grid">
                {% for equipo in equipos_list %}
                <div class="equipo-card animate-in" data-equipo-id="{{ equipo.id_equipo }}">
                    <!-- Banner del equipo -->
                    <div class="equipo-image">
                        {% if equipo.team_banner %}
                            <img src="{{ equipo.team_banner.url }}" alt="Banner de {{ equipo.nombre_equipo }}" class="equipo-img">
                        {% else %}
                            <div class="image-placeholder">
                                <i class="fas fa-image"></i>
                            </div>
                        {% endif %}
                        <div class="image-overlay">
                            <h3 class="equipo-title">{{ equipo.nombre_equipo }}</h3>
                        </div>
                        <div class="equipo-badge">
                            <i class="fas fa-crown"></i>
                            Capitán
                        </div>
                    </div>
                    
                    <!-- Contenido del equipo -->
                    <div class="equipo-content">
                        <!-- Header con escudo y descripción -->
                        <div class="equipo-header">
                            <div class="escudo-container">
                                {% if equipo.team_shield %}
                                    <img src="{{ equipo.team_shield.url }}" alt="Escudo {{ equipo.nombre_equipo }}" class="escudo-image">
                                {% else %}
                                    <div class="escudo-placeholder">
                                        <i class="fas fa-shield-alt"></i>
                                    </div>
                                {% endif %}
                            </div>
                            <div class="equipo-info">
                                <p class="equipo-description">{{ equipo.descripcion|truncatewords:15|default:"Sin descripción disponible." }}</p>
                            </div>
                        </div>
                        
                        <!-- Información del equipo -->
                        <div class="equipo-details">
                            <div class="info-item">
                                <div class="info-icon">
                                    <i class="fas fa-user-shield"></i>
                                </div>
                                <div class="info-text">{{ equipo.capitan.nombre }}</div>
                            </div>
                            
                            <div class="info-item">
                                <div class="info-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="info-text">{{ equipo.jugadores.count }} jugador{{ equipo.jugadores.count|pluralize:"es" }}</div>
                            </div>
                            
                            <div class="info-item">
                                <div class="info-icon">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                <div class="info-text">Creado {{ equipo.fecha_creacion|date:"M Y" }}</div>
                            </div>
                        </div>
                        
                        <!-- Acciones del equipo -->
                        <div class="equipo-actions">
                            <a href="{% url 'detalle_equipo' pk=equipo.id_equipo %}" class="btn btn-primary">
                                <i class="fas fa-eye"></i>
                                Ver Detalles
                            </a>
                            <div class="dropdown">
                                <button class="btn btn-secondary" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                                <ul class="dropdown-menu dropdown-menu-end">
                                    <li>
                                        <a class="dropdown-item" href="{% url 'editar_equipo_permanente' pk=equipo.id_equipo %}">
                                            <i class="fas fa-edit"></i>Editar
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="#">
                                            <i class="fas fa-users"></i>Gestionar Jugadores
                                        </a>
                                    </li>
                                    <li><hr class="dropdown-divider"></li>
                                    <li>
                                        <a class="dropdown-item text-danger" href="#" onclick="confirmDelete('{{ equipo.nombre_equipo }}', '{{ equipo.id_equipo }}')">
                                            <i class="fas fa-trash"></i>Eliminar
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

    {% else %}
        <!-- Estado vacío -->
        <div class="empty-state animate-in">
            <div class="empty-icon">
                <i class="fas fa-users-slash"></i>
            </div>
            <div class="empty-content">
                <h2 class="empty-title">No tienes equipos todavía</h2>
                <p class="empty-desc">
                    Parece que aún no perteneces ni capitaneas ningún equipo permanente.<br>
                    ¡Es el momento perfecto para crear tu primer equipo!
                </p>
                <div class="empty-actions">
                    <a href="{% url 'crear_equipo_permanente' %}" class="btn btn-primary">
                        <i class="fas fa-plus-circle"></i>
                        Crear Mi Primer Equipo
                    </a>
                    <a href="#" class="btn btn-secondary">
                        <i class="fas fa-search"></i>
                        Buscar Equipos
                    </a>
                </div>
                
                <!-- Sugerencias -->
                <div class="suggestions">
                    <h3 class="suggestions-title">¿Qué puedes hacer con un equipo?</h3>
                    <div class="suggestions-grid">
                        <div class="suggestion-item">
                            <i class="fas fa-calendar-check"></i>
                            <span>Organizar partidos</span>
                        </div>
                        <div class="suggestion-item">
                            <i class="fas fa-chart-line"></i>
                            <span>Seguir estadísticas</span>
                        </div>
                        <div class="suggestion-item">
                            <i class="fas fa-trophy"></i>
                            <span>Competir en torneos</span>
                        </div>
                        <div class="suggestion-item">
                            <i class="fas fa-users"></i>
                            <span>Gestionar jugadores</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}
</div>

<!-- Modal de confirmación para eliminar -->
<div class="modal fade" id="confirmDeleteModal" tabindex="-1" aria-labelledby="confirmDeleteModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content bg-dark border-secondary">
            <div class="modal-header border-secondary">
                <h5 class="modal-title text-white" id="confirmDeleteModalLabel">
                    <i class="fas fa-exclamation-triangle text-warning me-2"></i>
                    Confirmar Eliminación
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-white">
                <p>¿Estás seguro de que quieres eliminar el equipo <strong id="teamNameToDelete"></strong>?</p>
                <p class="text-warning small">
                    <i class="fas fa-exclamation-circle me-1"></i>
                    Esta acción no se puede deshacer y perderás toda la información del equipo.
                </p>
            </div>
            <div class="modal-footer border-secondary">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-danger" id="confirmDeleteBtn">
                    <i class="fas fa-trash me-2"></i>Eliminar Equipo
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/equipo/lista_equipos.js' %}"></script>
<script>
    // Función para confirmar eliminación
    function confirmDelete(teamName, teamId) {
        document.getElementById('teamNameToDelete').textContent = teamName;
        document.getElementById('confirmDeleteBtn').onclick = function() {
            // Aquí iría la lógica para eliminar el equipo
            console.log('Eliminar equipo:', teamId);
            // Por ejemplo, enviar formulario o hacer petición AJAX
        };
        new bootstrap.Modal(document.getElementById('confirmDeleteModal')).show();
    }
    
    // Animaciones de entrada
    document.addEventListener('DOMContentLoaded', function() {
        const cards = document.querySelectorAll('.animate-in');
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry, index) => {
                if (entry.isIntersecting) {
                    setTimeout(() => {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }, index * 100);
                }
            });
        });
        
        cards.forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(30px)';
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(card);
        });
    });
</script>
{% endblock %}

================
File: app/templates/estadisticas/estadisticas_generales.html
================
{% extends 'base.html' %}
{% load attribute_filters %}
{% load static %}

{% block title %}{{ titulo_pagina|default:"Estadísticas" }} - De Rabona{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/global/estadisticas_styles.css' %}">
{% endblock %}

{% block content %}
<div class="estadisticas-container">
    <!-- Hero Section -->
    <div class="stats-hero-section">
        <div class="hero-content">
            <div class="hero-icon">
                <i class="fas fa-chart-line"></i>
            </div>
            <div class="hero-text">
                <h1 class="hero-title">{{ titulo_pagina|default:"Estadísticas" }}</h1>
                <p class="hero-subtitle">Rankings y datos de la comunidad De Rabona</p>
            </div>
        </div>
        
        <!-- Filtro de Período -->
        <div class="period-filter">
            <span class="filter-label">Período:</span>
            <div class="period-buttons">
                <a href="?periodo=7dias" class="btn-period {% if periodo_actual_param == '7dias' %}active{% endif %}">
                    <span>7 Días</span>
                </a>
                <a href="?periodo=30dias" class="btn-period {% if periodo_actual_param == '30dias' %}active{% endif %}">
                    <span>Último Mes</span>
                </a>
                <a href="?periodo=todo" class="btn-period {% if periodo_actual_param == 'todo' %}active{% endif %}">
                    <span>Todo</span>
                </a>
            </div>
        </div>

        {% if periodo_seleccionado != "Todo el tiempo" %}
            <div class="period-indicator">
                <i class="fas fa-calendar-alt"></i>
                <span>Mostrando: <strong>{{ periodo_seleccionado }}</strong></span>
            </div>
        {% endif %}
    </div>

    <!-- Mensajes del Sistema -->
    {% if messages %}
        <div class="messages-section">
            {% for message in messages %}
                <div class="custom-alert alert-{{ message.tags }}">
                    <div class="alert-icon">
                        <i class="fas fa-{% if message.tags == 'success' %}check-circle{% elif message.tags == 'error' or message.tags == 'danger' %}exclamation-triangle{% elif message.tags == 'warning' %}exclamation-circle{% else %}info-circle{% endif %}"></i>
                    </div>
                    <div class="alert-content">
                        <span>{{ message }}</span>
                    </div>
                    <button type="button" class="alert-dismiss" onclick="this.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <!-- Rankings Principales -->
    <div class="rankings-section">
        <div class="section-header">
            <h2 class="section-title">
                <i class="fas fa-trophy"></i>
                <span>Rankings de la Comunidad</span>
            </h2>
            <div class="title-accent"></div>
        </div>

        <div class="rankings-grid">
            <!-- Top Jugadores por ELO -->
            <div class="ranking-card elo-ranking">
                <div class="card-header">
                    <div class="header-content">
                        <h3 class="card-title">
                            <i class="fas fa-star"></i>
                            <span>Top 10 Jugadores por ELO</span>
                        </h3>
                        <span class="ranking-badge elo-badge">ELO</span>
                    </div>
                </div>
                
                <div class="card-body">
                    {% if top_elo_jugadores %}
                        <div class="players-list">
                            {% for jugador in top_elo_jugadores %}
                            <div class="player-item" data-rank="{{ forloop.counter }}">
                                <div class="player-rank">
                                    <span class="rank-number rank-{{ forloop.counter }}">{{ forloop.counter }}</span>
                                </div>
                                <div class="player-avatar">
                                    <img src="{% if jugador.imagen_perfil %}{{ jugador.imagen_perfil.url }}{% else %}{% static 'images/avatar_default.png' %}{% endif %}" alt="{{ jugador.nombre }}">
                                </div>
                                <div class="player-info">
                                    <h4 class="player-name">{{ jugador.nombre }}</h4>
                                    <p class="player-position">Posición {{ forloop.counter }}</p>
                                </div>
                                <div class="player-stat">
                                    <span class="stat-value">{{ jugador.calificacion|floatformat:0 }}</span>
                                    <span class="stat-unit">ELO</span>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    {% else %}
                        <div class="empty-state">
                            <div class="empty-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="empty-content">
                                <h4 class="empty-title">Sin datos de ELO</h4>
                                <p class="empty-desc">No hay datos disponibles para mostrar</p>
                            </div>
                        </div>
                    {% endif %}
                </div>

                {% if top_elo_jugadores %}
                <div class="card-footer">
                    <a href="#" class="btn btn-secondary">
                        <span>Ver ranking completo</span>
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                {% endif %}
            </div>

            <!-- Jugadores Más Activos -->
            <div class="ranking-card activity-ranking">
                <div class="card-header">
                    <div class="header-content">
                        <h3 class="card-title">
                            <i class="fas fa-running"></i>
                            <span>Top 10 Jugadores Activos</span>
                        </h3>
                        <span class="ranking-badge activity-badge">{{ periodo_seleccionado }}</span>
                    </div>
                </div>
                
                <div class="card-body">
                    {% if top_jugadores_activos %}
                        <div class="players-list">
                            {% for jugador in top_jugadores_activos %}
                            <div class="player-item" data-rank="{{ forloop.counter }}">
                                <div class="player-rank">
                                    <span class="rank-number rank-{{ forloop.counter }}">{{ forloop.counter }}</span>
                                </div>
                                <div class="player-avatar">
                                    <img src="{% if jugador.imagen_perfil %}{{ jugador.imagen_perfil.url }}{% else %}{% static 'images/avatar_default.png' %}{% endif %}" alt="{{ jugador.nombre }}">
                                </div>
                                <div class="player-info">
                                    <h4 class="player-name">{{ jugador.nombre }}</h4>
                                    <p class="player-position">Jugador activo</p>
                                </div>
                                <div class="player-stat">
                                    <span class="stat-value">{{ jugador.num_partidos_periodo }}</span>
                                    <span class="stat-unit">Partidos</span>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    {% else %}
                        <div class="empty-state">
                            <div class="empty-icon">
                                <i class="fas fa-running"></i>
                            </div>
                            <div class="empty-content">
                                <h4 class="empty-title">Sin actividad</h4>
                                <p class="empty-desc">No hay datos de actividad para este período</p>
                            </div>
                        </div>
                    {% endif %}
                </div>

                {% if top_jugadores_activos %}
                <div class="card-footer">
                    <a href="#" class="btn btn-secondary">
                        <span>Ver ranking completo</span>
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Equipos y Canchas -->
    <div class="teams-venues-section">
        <div class="section-header">
            <h2 class="section-title">
                <i class="fas fa-chart-bar"></i>
                <span>Equipos y Canchas Destacados</span>
            </h2>
            <div class="title-accent"></div>
        </div>

        <div class="tv-grid">
            <!-- Top Equipos -->
            <div class="data-card teams-card">
                <div class="card-header">
                    <div class="header-content">
                        <h3 class="card-title">
                            <i class="fas fa-users"></i>
                            <span>Top 10 Equipos</span>
                        </h3>
                        <span class="ranking-badge teams-badge">{{ periodo_seleccionado }}</span>
                    </div>
                    <p class="card-subtitle">Ordenados por victorias y partidos jugados</p>
                </div>
                
                <div class="card-body">
                    {% if top_equipos_activos %}
                        <div class="teams-list">
                            {% for equipo_stat in top_equipos_activos %}
                            <div class="team-item" data-rank="{{ forloop.counter }}">
                                <div class="team-rank">
                                    <span class="rank-badge rank-{{ forloop.counter }}">{{ forloop.counter }}</span>
                                </div>
                                <div class="team-avatar">
                                    {% if equipo_stat.team_shield %}
                                        <img src="{{ equipo_stat.team_shield.url }}" alt="Escudo {{ equipo_stat.nombre_equipo }}">
                                    {% else %}
                                        <div class="team-shield-placeholder">
                                            <i class="fas fa-shield-alt"></i>
                                        </div>
                                    {% endif %}
                                </div>
                                <div class="team-info">
                                    <h4 class="team-name">{{ equipo_stat.nombre_equipo }}</h4>
                                    <p class="team-meta">Equipo {{ forloop.counter }}</p>
                                </div>
                                <div class="team-stats">
                                    <div class="stat-group">
                                        <span class="stat-number">
                                            {% if periodo_actual_param == 'todo' and equipo_stat|hasattr:'victorias_permanente' %}
                                                {{ equipo_stat.victorias_permanente }}
                                            {% elif equipo_stat|hasattr:'victorias_periodo' %}
                                                {{ equipo_stat.victorias_periodo }}
                                            {% elif equipo_stat|hasattr:'num_victorias' %}
                                                {{ equipo_stat.num_victorias }}
                                            {% else %}
                                                0
                                            {% endif %}
                                        </span>
                                        <span class="stat-label">Vic.</span>
                                    </div>
                                    <div class="stat-separator">/</div>
                                    <div class="stat-group">
                                        <span class="stat-number">
                                            {% if periodo_actual_param == 'todo' and equipo_stat|hasattr:'partidos_jugados_permanente' %}
                                                {{ equipo_stat.partidos_jugados_permanente }}
                                            {% elif equipo_stat|hasattr:'partidos_jugados_periodo' %}
                                                {{ equipo_stat.partidos_jugados_periodo }}
                                            {% elif equipo_stat|hasattr:'num_partidos' %}
                                                {{ equipo_stat.num_partidos }}
                                            {% else %}
                                                0
                                            {% endif %}
                                        </span>
                                        <span class="stat-label">Jug.</span>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    {% else %}
                        <div class="empty-state">
                            <div class="empty-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="empty-content">
                                <h4 class="empty-title">Sin datos de equipos</h4>
                                <p class="empty-desc">No hay datos para este período</p>
                            </div>
                        </div>
                    {% endif %}
                </div>

                {% if top_equipos_activos %}
                <div class="card-footer">
                    <a href="#" class="btn btn-secondary">
                        <span>Ver ranking completo</span>
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                {% endif %}
            </div>

            <!-- Top Canchas -->
            <div class="data-card venues-card">
                <div class="card-header">
                    <div class="header-content">
                        <h3 class="card-title">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Top 10 Canchas Populares</span>
                        </h3>
                        <span class="ranking-badge venues-badge">{{ periodo_seleccionado }}</span>
                    </div>
                    <p class="card-subtitle">Ordenadas por partidos jugados</p>
                </div>
                
                <div class="card-body">
                    {% if top_canchas_populares %}
                        <div class="venues-list">
                            {% for cancha_stat in top_canchas_populares %}
                            <div class="venue-item" data-rank="{{ forloop.counter }}">
                                <div class="venue-rank">
                                    <span class="rank-badge rank-{{ forloop.counter }}">{{ forloop.counter }}</span>
                                </div>
                                <div class="venue-icon">
                                    <i class="fas fa-map-pin"></i>
                                </div>
                                <div class="venue-info">
                                    <h4 class="venue-name">{{ cancha_stat.nombre_cancha }}</h4>
                                    <p class="venue-meta">
                                        <i class="fas fa-map-marker-alt"></i>
                                        <span>Cancha {{ forloop.counter }}</span>
                                    </p>
                                </div>
                                <div class="venue-stats">
                                    <div class="stat-group">
                                        <span class="stat-number">{{ cancha_stat.num_partidos_cancha }}</span>
                                        <span class="stat-label">Partidos</span>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    {% else %}
                        <div class="empty-state">
                            <div class="empty-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div class="empty-content">
                                <h4 class="empty-title">Sin datos de canchas</h4>
                                <p class="empty-desc">No hay datos para este período</p>
                            </div>
                        </div>
                    {% endif %}
                </div>

                {% if top_canchas_populares %}
                <div class="card-footer">
                    <a href="#" class="btn btn-secondary">
                        <span>Ver listado completo</span>
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Información Adicional -->
    <div class="info-section">
        <div class="info-card">
            <div class="card-header">
                <div class="header-content">
                    <h3 class="card-title">
                        <i class="fas fa-info-circle"></i>
                        <span>Acerca de estas estadísticas</span>
                    </h3>
                </div>
            </div>
            
            <div class="card-body">
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="info-text">
                            <h4>Sistema ELO</h4>
                            <p>El ranking ELO se calcula basado en victorias, derrotas y la calidad de los oponentes.</p>
                        </div>
                    </div>
                    <div class="info-item">
                        <div class="info-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="info-text">
                            <h4>Actividad</h4>
                            <p>Los jugadores más activos son aquellos que han participado en más partidos en el período seleccionado.</p>
                        </div>
                    </div>
                    <div class="info-item">
                        <div class="info-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <div class="info-text">
                            <h4>Equipos</h4>
                            <p>Los equipos se ordenan por número de victorias y, en caso de empate, por partidos jugados.</p>
                        </div>
                    </div>
                    <div class="info-item">
                        <div class="info-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="info-text">
                            <h4>Canchas</h4>
                            <p>La popularidad de las canchas se mide por el número total de partidos jugados en cada una.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Scripts para animaciones -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    initializeAnimations();
    addInteractiveEffects();
    highlightActivePeriod();

    function initializeAnimations() {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-in');
                }
            });
        }, { threshold: 0.1 });

        // Animar secciones principales
        document.querySelectorAll('.stats-hero-section, .ranking-card, .data-card, .info-card').forEach((el, index) => {
            setTimeout(() => {
                observer.observe(el);
            }, index * 100);
        });

        // Animar items de manera escalonada
        setTimeout(() => {
            document.querySelectorAll('.player-item, .team-item, .venue-item').forEach((item, index) => {
                setTimeout(() => {
                    item.classList.add('animate-in');
                }, index * 50);
            });
        }, 500);
    }

    function addInteractiveEffects() {
        // Efectos hover para items de jugadores
        document.querySelectorAll('.player-item').forEach(item => {
            item.addEventListener('mouseenter', function() {
                this.style.transform = 'translateX(8px) scale(1.02)';
                this.style.boxShadow = '0 12px 32px rgba(247, 131, 92, 0.15)';
            });
            
            item.addEventListener('mouseleave', function() {
                this.style.transform = 'translateX(0) scale(1)';
                this.style.boxShadow = '';
            });
        });

        // Efectos hover para equipos y canchas
        document.querySelectorAll('.team-item, .venue-item').forEach(item => {
            item.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-3px) scale(1.01)';
                this.style.boxShadow = '0 8px 24px rgba(0, 212, 177, 0.1)';
            });
            
            item.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
                this.style.boxShadow = '';
            });
        });

        // Efectos para botones
        document.querySelectorAll('.btn').forEach(btn => {
            btn.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-2px)';
            });
            
            btn.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });
    }

    function highlightActivePeriod() {
        const activePeriod = document.querySelector('.btn-period.active');
        if (activePeriod) {
            activePeriod.style.boxShadow = '0 0 20px rgba(247, 131, 92, 0.3)';
        }
    }
});
</script>
{% endblock %}

================
File: app/templates/partidos/detalle_partido.html
================
{% extends 'main.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}{{ titulo_pagina }} - De Rabona{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/partidos/detalle_partido_styles.css' %}">
{% endblock %}

{% block content %}
<div class="match-detail-container">
    {% if messages %}
        <div class="messages-container">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                    {% if message.tags == 'success' %}
                        <i class="fas fa-check-circle me-2"></i>
                    {% elif message.tags == 'error' or message.tags == 'danger' %}
                        <i class="fas fa-exclamation-triangle me-2"></i>
                    {% elif message.tags == 'warning' %}
                        <i class="fas fa-exclamation-circle me-2"></i>
                    {% else %}
                        <i class="fas fa-info-circle me-2"></i>
                    {% endif %}
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <!-- Hero Section -->
    <div class="match-hero">
        <div class="hero-background">
            <div class="hero-overlay"></div>
            <div class="hero-pattern"></div>
        </div>
        <div class="hero-content">
            <div class="match-title-section">
                <h1 class="match-title">{{ titulo_pagina }}</h1> <!-- PONER EL STR DEL PARTIDO-->
                <div class="match-status-badge status-{{ partido.estado|lower }}">
                    {% if partido.estado == 'PROGRAMADO' %}
                        <i class="fas fa-clock"></i>
                    {% elif partido.estado == 'FINALIZADO' %}
                        <i class="fas fa-check-circle"></i>
                    {% elif partido.estado == 'EN_CURSO' %}
                        <i class="fas fa-play-circle"></i>
                    {% else %}
                        <i class="fas fa-calendar"></i>
                    {% endif %}
                    {{ partido.get_estado_display }}
                </div>
            </div>
            {% if es_creador and partido.estado == 'PROGRAMADO' %}
                <div class="hero-actions">
                    <button class="btn btn-premium">
                        <i class="fas fa-edit me-2"></i>
                        Configurar Partido
                    </button>
                </div>
            {% endif %}
        </div>
    </div>

    <!-- Main Content Grid -->
    <div class="match-content-grid">
        <!-- Left Column: Match Info -->
        <div class="match-info-column">
            <div class="info-card glass-effect">
                <div class="card-header">
                    <h3 class="card-title">
                        <i class="fas fa-info-circle me-2"></i>
                        Información del Partido
                    </h3>
                </div>
                <div class="card-body">
                    <div class="info-grid">
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-futbol"></i>
                            </div>
                            <div class="info-content">
                                <span class="info-label">Cancha</span>
                                <span class="info-value">{{ partido.cancha.nombre_cancha }}</span>
                                <span class="info-detail">({{ partido.cancha.get_superficie_display }})</span>
                            </div>
                        </div>

                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div class="info-content">
                                <span class="info-label">Ubicación</span>
                                <span class="info-value">{{ partido.cancha.ubicacion }}</span>
                            </div>
                        </div>

                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-calendar-alt"></i>
                            </div>
                            <div class="info-content">
                                <span class="info-label">Fecha y Hora</span>
                                <span class="info-value">{{ partido.fecha|date:"l, d F Y" }}</span>
                                <span class="info-detail">{{ partido.fecha|date:"H:i" }}</span>
                            </div>
                        </div>

                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="info-content">
                                <span class="info-label">Duración</span>
                                <span class="info-value">1 hora</span>
                            </div>
                        </div>

                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="info-content">
                                <span class="info-label">Formato</span>
                                <span class="info-value">{{ partido.get_tipo_display }}</span>
                            </div>
                        </div>

                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-euro-sign"></i>
                            </div>
                            <div class="info-content">
                                <span class="info-label">Costo</span>
                                <span class="info-value">
                                    {% if partido.costo > 0 %}
                                        {{ partido.costo|floatformat:2 }}€
                                    {% else %}
                                        Gratis
                                    {% endif %}
                                </span>
                                {% if partido.costo > 0 %}
                                    <span class="info-detail">({{ partido.get_metodo_pago_display }})</span>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                    {% if partido.comentarios %}
                        <div class="comments-section">
                            <h4 class="comments-title">
                                <i class="fas fa-comment me-2"></i>
                                Comentarios Adicionales
                            </h4>
                            <p class="comments-content">{{ partido.comentarios|linebreaksbr }}</p>
                        </div>
                    {% endif %}
                </div>
            </div>

            <!-- Players Status Card -->
            <div class="players-status-card glass-effect">
                <div class="card-header">
                    <h3 class="card-title">
                        <i class="fas fa-users me-2"></i>
                        Estado del Partido
                    </h3>
                    <div class="players-count">
                        <span class="current">{{ partido.jugadores.count }}</span>
                        <span class="separator">/</span>
                        <span class="max">{{ partido.max_jugadores }}</span>
                    </div>
                </div>
                <div class="card-body">
                    <div class="progress-container">
                        {% widthratio partido.jugadores.count partido.max_jugadores 100 as progress_width %}
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: {{ progress_width }}%"></div>
                        </div>
                        <div class="progress-labels">
                            <span>{{ plazas_disponibles }} plaza{{ plazas_disponibles|pluralize }} disponible{{ plazas_disponibles|pluralize }}</span>
                        </div>
                    </div>

                    {% if plazas_disponibles > 0 and inscripcion_esta_abierta %}
                        <div class="status-message status-available">
                            <i class="fas fa-check-circle me-2"></i>
                            ¡Inscripciones abiertas!
                        </div>
                    {% elif partido.jugadores.count >= partido.max_jugadores %}
                        <div class="status-message status-full">
                            <i class="fas fa-times-circle me-2"></i>
                            Partido completo
                        </div>
                    {% elif not inscripcion_esta_abierta %}
                        <div class="status-message status-closed">
                            <i class="fas fa-hourglass-end me-2"></i>
                            Inscripciones cerradas
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Right Column: Football Field & Team Management -->
        <div class="field-column">
            {% if es_creador and partido.estado == 'PROGRAMADO' %}
                <!-- Team Assignment Section -->
                <div class="team-management-section">
                    <div class="section-header">
                        <h3 class="section-title">
                            <i class="fas fa-tactics me-2"></i>
                            Asignación de Equipos
                        </h3>
                        <div class="header-controls">
                            <!-- Assignment Mode Toggle -->
                            <div class="assignment-mode-toggle">
                                <button class="mode-btn active" data-mode="drag" id="dragModeBtn">
                                    <i class="fas fa-hand-rock me-2"></i>
                                    Arrastrar
                                </button>
                                <button class="mode-btn" data-mode="dropdown" id="dropdownModeBtn">
                                    <i class="fas fa-list me-2"></i>
                                    Lista
                                </button>
                                <button class="mode-btn" data-mode="auto" id="autoModeBtn">
                                    <i class="fas fa-magic me-2"></i>
                                    Auto
                                </button>
                            </div>
                            <button class="btn btn-save" id="saveTeamsBtn" disabled>
                                <i class="fas fa-save me-2"></i>
                                Guardar Equipos
                            </button>
                        </div>
                    </div>

                    <!-- Assignment Mode Info -->
                    <div class="assignment-info">
                        <div class="info-card drag-info active" data-info="drag">
                            <i class="fas fa-info-circle me-2"></i>
                            Arrastra los jugadores entre las zonas del campo o el banquillo para asignar equipos.
                        </div>
                        <div class="info-card dropdown-info" data-info="dropdown">
                            <i class="fas fa-info-circle me-2"></i>
                            Selecciona el equipo para cada jugador usando las listas desplegables.
                        </div>
                        <div class="info-card auto-info" data-info="auto">
                            <i class="fas fa-info-circle me-2"></i>
                            Los equipos se asignarán automáticamente de forma equilibrada.
                        </div>
                    </div>

                    <!-- Drag Mode: Football Field -->
                    <div class="assignment-mode drag-mode active" data-assignment="drag">
                        <div class="football-field-container">
                            <div class="field-wrapper">
                                <!-- Field Background -->
                                <div class="football-field" data-tipo-partido="{{ partido.tipo }}">
                                    <!-- Field markings -->
                                    <div class="field-lines">
                                        <!-- Center circle -->
                                        <div class="center-circle"></div>
                                        <div class="center-line"></div>
                                        
                                        <!-- Penalty areas -->
                                        <div class="penalty-area left"></div>
                                        <div class="penalty-area right"></div>
                                        
                                        <!-- Goal areas -->
                                        <div class="goal-area left"></div>
                                        <div class="goal-area right"></div>
                                        
                                        <!-- Goals -->
                                        <div class="goal left"></div>
                                        <div class="goal right"></div>
                                        
                                        <!-- Corner arcs -->
                                        <div class="corner-arc top-left"></div>
                                        <div class="corner-arc top-right"></div>
                                        <div class="corner-arc bottom-left"></div>
                                        <div class="corner-arc bottom-right"></div>
                                    </div>

                                    <!-- Team Local Zone -->
                                    <div class="team-zone local-zone" data-team="local">
                                        <div class="team-label">
                                            <i class="fas fa-home me-2"></i>
                                            Equipo Local
                                            <span class="team-counter local-counter">0</span>
                                        </div>
                                        <div class="players-drop-zone" id="local-players">
                                            {% if partido.equipo_local %}
                                                {% for jugador in partido.equipo_local.jugadores.all %}
                                                    <div class="field-player local-player" draggable="true" data-jugador-id="{{ jugador.id }}">
                                                        <div class="player-avatar">
                                                            <img src="{% if jugador.imagen_perfil %}{{ jugador.imagen_perfil.url }}{% else %}{% static 'images/avatar_default.png' %}{% endif %}" alt="{{ jugador.nombre }}">
                                                        </div>
                                                        <div class="player-name">{{ jugador.nombre|truncatechars:10 }}</div>
                                                        <div class="player-position">{{ jugador.get_posicion_display|default:"JUG"|truncatechars:3 }}</div>
                                                    </div>
                                                {% endfor %}
                                            {% endif %}
                                        </div>
                                    </div>

                                    <!-- Team Visitante Zone -->
                                    <div class="team-zone visitante-zone" data-team="visitante">
                                        <div class="team-label">
                                            <i class="fas fa-plane me-2"></i>
                                            Equipo Visitante
                                            <span class="team-counter visitante-counter">0</span>
                                        </div>
                                        <div class="players-drop-zone" id="visitante-players">
                                            {% if partido.equipo_visitante %}
                                                {% for jugador in partido.equipo_visitante.jugadores.all %}
                                                    <div class="field-player visitante-player" draggable="true" data-jugador-id="{{ jugador.id }}">
                                                        <div class="player-avatar">
                                                            <img src="{% if jugador.imagen_perfil %}{{ jugador.imagen_perfil.url }}{% else %}{% static 'images/avatar_default.png' %}{% endif %}" alt="{{ jugador.nombre }}">
                                                        </div>
                                                        <div class="player-name">{{ jugador.nombre|truncatechars:10 }}</div>
                                                        <div class="player-position">{{ jugador.get_posicion_display|default:"JUG"|truncatechars:3 }}</div>
                                                    </div>
                                                {% endfor %}
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>

                                <!-- Bench Area -->
                                <div class="bench-area">
                                    <div class="bench-section">
                                        <h4 class="bench-title">
                                            <i class="fas fa-chair me-2"></i>
                                            Banquillo / Sin Asignar
                                            <span class="team-counter bench-counter">0</span>
                                        </h4>
                                        <div class="bench-players" id="bench-players">
                                            {% for jugador in jugadores_inscritos_list %}
                                                {% if not partido.equipo_local or jugador not in partido.equipo_local.jugadores.all %}
                                                    {% if not partido.equipo_visitante or jugador not in partido.equipo_visitante.jugadores.all %}
                                                        <div class="bench-player" draggable="true" data-jugador-id="{{ jugador.id }}">
                                                            <div class="player-avatar">
                                                                <img src="{% if jugador.imagen_perfil %}{{ jugador.imagen_perfil.url }}{% else %}{% static 'images/avatar_default.png' %}{% endif %}" alt="{{ jugador.nombre }}">
                                                            </div>
                                                            <div class="player-info">
                                                                <div class="player-name">{{ jugador.nombre }}</div>
                                                                <div class="player-position">{{ jugador.get_posicion_display|default:"Jugador" }}</div>
                                                            </div>
                                                            {% if jugador == partido.creador %}
                                                                <div class="creator-badge">
                                                                    <i class="fas fa-crown"></i>
                                                                </div>
                                                            {% endif %}
                                                        </div>
                                                    {% endif %}
                                                {% endif %}
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Dropdown Mode: List Assignment -->
                    <div class="assignment-mode dropdown-mode" data-assignment="dropdown">
                        <div class="dropdown-assignment-container">
                            <div class="players-assignment-list">
                                {% for jugador in jugadores_inscritos_list %}
                                    <div class="player-assignment-row" data-jugador-id="{{ jugador.id }}">
                                        <div class="player-info-section">
                                            <div class="player-avatar">
                                                <img src="{% if jugador.imagen_perfil %}{{ jugador.imagen_perfil.url }}{% else %}{% static 'images/avatar_default.png' %}{% endif %}" alt="{{ jugador.nombre }}">
                                            </div>
                                            <div class="player-details">
                                                <h4 class="player-name">{{ jugador.nombre }}</h4>
                                                <p class="player-position">{{ jugador.get_posicion_display|default:"Jugador" }}</p>
                                                {% if jugador == partido.creador %}
                                                    <span class="creator-tag">
                                                        <i class="fas fa-crown me-1"></i>Creador
                                                    </span>
                                                {% endif %}
                                            </div>
                                        </div>
                                        <div class="assignment-controls">
                                            <select class="team-select" data-jugador="{{ jugador.id }}">
                                                <option value="bench" 
                                                    {% if not partido.equipo_local or jugador not in partido.equipo_local.jugadores.all %}
                                                        {% if not partido.equipo_visitante or jugador not in partido.equipo_visitante.jugadores.all %}
                                                            selected
                                                        {% endif %}
                                                    {% endif %}>
                                                    Banquillo
                                                </option>
                                                <option value="local"
                                                    {% if partido.equipo_local and jugador in partido.equipo_local.jugadores.all %}
                                                        selected
                                                    {% endif %}>
                                                    Equipo Local
                                                </option>
                                                <option value="visitante"
                                                    {% if partido.equipo_visitante and jugador in partido.equipo_visitante.jugadores.all %}
                                                        selected
                                                    {% endif %}>
                                                    Equipo Visitante
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                {% endfor %}
                            </div>
                            
                            <!-- Team Summary -->
                            <div class="team-summary">
                                <div class="summary-card">
                                    <h4 class="summary-title">
                                        <i class="fas fa-home me-2"></i>
                                        Equipo Local
                                    </h4>
                                    <div class="player-count">
                                        <span class="count" id="localCountDropdown">0</span>
                                        <span class="max-text">jugadores</span>
                                    </div>
                                    <div class="players-preview" id="localPlayersPreview"></div>
                                </div>
                                
                                <div class="summary-card">
                                    <h4 class="summary-title">
                                        <i class="fas fa-plane me-2"></i>
                                        Equipo Visitante
                                    </h4>
                                    <div class="player-count">
                                        <span class="count" id="visitanteCountDropdown">0</span>
                                        <span class="max-text">jugadores</span>
                                    </div>
                                    <div class="players-preview" id="visitantePlayersPreview"></div>
                                </div>
                                
                                <div class="summary-card">
                                    <h4 class="summary-title">
                                        <i class="fas fa-chair me-2"></i>
                                        Banquillo
                                    </h4>
                                    <div class="player-count">
                                        <span class="count" id="benchCountDropdown">0</span>
                                        <span class="max-text">jugadores</span>
                                    </div>
                                    <div class="players-preview" id="benchPlayersPreview"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Auto Mode: Automatic Assignment -->
                    <div class="assignment-mode auto-mode" data-assignment="auto">
                        <div class="auto-assignment-container">
                            <div class="auto-options">
                                <h4 class="auto-title">Opciones de Asignación Automática</h4>
                                <div class="auto-controls">
                                    <div class="auto-option">
                                        <label class="auto-label">
                                            <input type="radio" name="autoMode" value="random" checked>
                                            <span class="radio-custom"></span>
                                            <div class="option-content">
                                                <strong>Aleatorio</strong>
                                                <p>Asignación completamente aleatoria</p>
                                            </div>
                                        </label>
                                    </div>
                                    
                                    <div class="auto-option">
                                        <label class="auto-label">
                                            <input type="radio" name="autoMode" value="balanced">
                                            <span class="radio-custom"></span>
                                            <div class="option-content">
                                                <strong>Equilibrado</strong>
                                                <p>Basado en posiciones y habilidades</p>
                                            </div>
                                        </label>
                                    </div>
                                    
                                    <div class="auto-option">
                                        <label class="auto-label">
                                            <input type="radio" name="autoMode" value="position">
                                            <span class="radio-custom"></span>
                                            <div class="option-content">
                                                <strong>Por Posición</strong>
                                                <p>Priorizando posiciones preferidas</p>
                                            </div>
                                        </label>
                                    </div>
                                </div>
                                
                                <button class="btn btn-primary btn-auto-assign" id="autoAssignBtn">
                                    <i class="fas fa-magic me-2"></i>
                                    Asignar Automáticamente
                                </button>
                            </div>
                            
                            <!-- Auto Assignment Result -->
                            <div class="auto-result" id="autoResult" style="display: none;">
                                <h4 class="result-title">Resultado de la Asignación</h4>
                                <div class="result-teams">
                                    <div class="result-team local">
                                        <h5><i class="fas fa-home me-2"></i>Equipo Local</h5>
                                        <div class="result-players" id="autoLocalPlayers"></div>
                                    </div>
                                    <div class="result-team visitante">
                                        <h5><i class="fas fa-plane me-2"></i>Equipo Visitante</h5>
                                        <div class="result-players" id="autoVisitantePlayers"></div>
                                    </div>
                                    <div class="result-team bench">
                                        <h5><i class="fas fa-chair me-2"></i>Banquillo</h5>
                                        <div class="result-players" id="autoBenchPlayers"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Hidden Form -->
                    <form method="post" action="{% url 'detalle_partido' pk=partido.id_partido %}" id="teamAssignmentForm" style="display: none;">
                        {% csrf_token %}
                        {{ form_asignar_equipos|crispy }}
                        <input type="hidden" id="localPlayersInput" name="equipo_local_jugadores" value="">
                        <input type="hidden" id="visitantePlayersInput" name="equipo_visitante_jugadores" value="">
                    </form>
                </div>

            {% else %}
                <!-- Regular Players List View -->
                <div class="players-list-section">
                    <div class="section-header">
                        <h3 class="section-title">
                            <i class="fas fa-users me-2"></i>
                            Jugadores Inscritos
                        </h3>
                    </div>

                    {% if jugadores_inscritos_list %}
                        <div class="players-grid">
                            {% for jugador_inscrito in jugadores_inscritos_list %}
                                <div class="player-card">
                                    <div class="player-avatar-wrapper">
                                        <img src="{% if jugador_inscrito.imagen_perfil %}{{ jugador_inscrito.imagen_perfil.url }}{% else %}{% static 'images/avatar_default.png' %}{% endif %}" class="player-avatar" alt="{{ jugador_inscrito.nombre }}">
                                        {% if jugador_inscrito == partido.creador %}
                                            <div class="creator-crown">
                                                <i class="fas fa-crown"></i>
                                            </div>
                                        {% endif %}
                                    </div>
                                    <div class="player-info">
                                        <h4 class="player-name">{{ jugador_inscrito.nombre }}</h4>
                                        <p class="player-position">{{ jugador_inscrito.get_posicion_display|default:"Jugador" }}</p>
                                        <div class="player-badges">
                                            {% if partido.equipo_local and jugador_inscrito in partido.equipo_local.jugadores.all %}
                                                <span class="team-badge local">Local</span>
                                            {% elif partido.equipo_visitante and jugador_inscrito in partido.equipo_visitante.jugadores.all %}
                                                <span class="team-badge visitante">Visitante</span>
                                            {% else %}
                                                <span class="team-badge bench">Banquillo</span>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    {% else %}
                        <div class="empty-state">
                            <div class="empty-icon">
                                <i class="fas fa-user-plus"></i>
                            </div>
                            <h4 class="empty-title">Sin jugadores inscritos</h4>
                            <p class="empty-description">Aún no hay jugadores inscritos en este partido.</p>
                        </div>
                    {% endif %}
                </div>
            {% endif %}

            <!-- Action Buttons -->
            <div class="action-buttons">
                {% if es_creador %}
                    {% if partido.estado == 'PROGRAMADO' %}
                        {% if partido.equipo_local and partido.equipo_visitante %}
                            <a href="{% url 'registrar_resultado_partido' pk=partido.id_partido %}" class="btn btn-primary btn-large">
                                <i class="fas fa-clipboard-check me-2"></i>
                                Registrar Resultado
                            </a>
                        {% endif %}
                    {% endif %}
                {% elif not esta_inscrito and inscripcion_esta_abierta %}
                    <button class="btn btn-success btn-large" id="joinMatchBtn">
                        <i class="fas fa-plus-circle me-2"></i>
                        Unirse al Partido
                    </button>
                {% elif esta_inscrito %}
                    <button class="btn btn-outline-danger btn-large" id="leaveMatchBtn">
                        <i class="fas fa-minus-circle me-2"></i>
                        Abandonar Partido
                    </button>
                {% endif %}

                <a href="{% url 'buscar_partidos' %}" class="btn btn-outline btn-large">
                    <i class="fas fa-arrow-left me-2"></i>
                    Volver a Partidos
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Drag Preview Element -->
<div id="dragPreview" class="drag-preview"></div>

<!-- Touch Feedback -->
<div id="touchFeedback" class="touch-feedback"></div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/detalle_partido.js' %}"></script>
{% endblock %}

================
File: app/templates/partidos/mis_partidos.html
================
{% extends 'base.html' %}
{% load static %}

{% block title %}{{ titulo_pagina|default:"Mis Partidos" }} - De Rabona{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/partidos/mis_partidos_styles.css' %}">
{% endblock %}

{% block content %}
<div class="mis-partidos-container">
    <!-- Hero Section -->
    <div class="partidos-hero-section">
        <div class="hero-content">
            <div class="hero-icon">
                <i class="fas fa-calendar-alt"></i>
            </div>
            <div class="hero-text">
                <h1 class="hero-title">{{ titulo_pagina|default:"Mis Partidos" }}</h1>
                <p class="hero-subtitle">Consulta tus próximos partidos y tu historial de juegos</p>
            </div>
        </div>
        
        <div class="hero-actions">
            <a href="{% url 'crear_partidos' %}" class="btn btn-primary">
                <i class="fas fa-plus-circle"></i>
                <span>Organizar un Partido</span>
            </a>
        </div>
    </div>

    <!-- Mensajes del Sistema -->
    {% if messages %}
        <div class="messages-section">
            {% for message in messages %}
                <div class="custom-alert alert-{{ message.tags }}">
                    <div class="alert-icon">
                        <i class="fas fa-{% if message.tags == 'success' %}check-circle{% elif message.tags == 'error' or message.tags == 'danger' %}exclamation-triangle{% elif message.tags == 'warning' %}exclamation-circle{% else %}info-circle{% endif %}"></i>
                    </div>
                    <div class="alert-content">
                        <span>{{ message }}</span>
                    </div>
                    <button type="button" class="alert-dismiss" onclick="this.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <!-- Sección Próximos Partidos -->
    <div class="proximos-section">
        <div class="section-header">
            <h2 class="section-title">
                <i class="fas fa-calendar-alt"></i>
                <span>Próximos Partidos</span>
            </h2>
            {% if proximos_partidos_info %}
                <div class="section-meta">
                    <span class="partidos-count">{{ proximos_partidos_info|length }} partido{{ proximos_partidos_info|length|pluralize }}</span>
                </div>
            {% endif %}
        </div>

        {% if proximos_partidos_info %}
            <div class="partidos-grid">
                {% for item in proximos_partidos_info %}
                    {% with partido=item.partido es_creador=item.es_creador inscripcion_esta_abierta=item.inscripcion_esta_abierta plazas_disponibles=item.plazas_disponibles %}
                    <div class="partido-card {% if es_creador %}creator-card{% endif %}" data-partido-id="{{ partido.id_partido }}">
                        <!-- Header del Partido -->
                        <div class="partido-header">
                            <div class="partido-info">
                                <h3 class="partido-title">
                                    <a href="{% url 'detalle_partido' pk=partido.id_partido %}" class="partido-link">
                                        {{ partido.cancha.nombre_cancha }}
                                    </a>
                                </h3>
                                <div class="partido-meta">
                                    <span class="partido-date">
                                        <i class="fas fa-calendar-day"></i>
                                        <span>{{ partido.fecha|date:"d/m/Y \a \l\a\s H:i" }}</span>
                                    </span>
                                </div>
                            </div>
                            {% if es_creador %}
                                <div class="creator-badge">
                                    <i class="fas fa-crown"></i>
                                    <span>Creador</span>
                                </div>
                            {% endif %}
                        </div>

                        <!-- Detalles del Partido -->
                        <div class="partido-details">
                            <div class="detail-item">
                                <div class="detail-icon">
                                    <i class="fas fa-map-marker-alt"></i>
                                </div>
                                <span class="detail-text">{{ partido.cancha.ubicacion|truncatechars:35 }}</span>
                            </div>
                            <div class="detail-item">
                                <div class="detail-icon">
                                    <i class="fas fa-running"></i>
                                </div>
                                <span class="detail-text">{{ partido.get_tipo_display }} - {{ partido.get_modalidad_display }}</span>
                            </div>
                        </div>

                        <!-- Progreso de Jugadores -->
                        <div class="jugadores-progress">
                            <div class="progress-header">
                                <span class="progress-label">Jugadores inscritos</span>
                                <span class="progress-count">{{ partido.jugadores.count }}/{{ partido.max_jugadores }}</span>
                            </div>
                            <div class="progress-bar-container">
                                <div class="progress-bar">
                                    <div class="progress-fill {% if partido.jugadores.count >= partido.max_jugadores %}full{% endif %}" 
                                         style="width: {% widthratio partido.jugadores.count partido.max_jugadores 100 %}%"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Estados del Partido -->
                        <div class="partido-estados">
                            {% if inscripcion_esta_abierta %}
                                <span class="estado-badge estado-abierto">
                                    <i class="fas fa-user-plus"></i>
                                    <span>Inscripción Abierta</span>
                                </span>
                            {% elif partido.estado == 'PROGRAMADO' %}
                                <span class="estado-badge estado-cerrado">
                                    <i class="fas fa-lock"></i>
                                    <span>Inscripción Cerrada</span>
                                </span>
                            {% endif %}
                            
                            {% if plazas_disponibles > 0 and inscripcion_esta_abierta %}
                                <span class="plazas-badge">
                                    {{ plazas_disponibles }} plaza{{ plazas_disponibles|pluralize }} disponible{{ plazas_disponibles|pluralize }}
                                </span>
                            {% endif %}
                        </div>

                        <!-- Countdown -->
                        <div class="partido-countdown" data-fecha="{{ partido.fecha|date:'c' }}">
                            <div class="countdown-container">
                                <i class="fas fa-clock"></i>
                                <span class="countdown-text">Calculando...</span>
                            </div>
                        </div>

                        <!-- Acciones -->
                        <div class="partido-actions">
                            <a href="{% url 'detalle_partido' pk=partido.id_partido %}" class="btn btn-secondary">
                                <i class="fas fa-eye"></i>
                                <span>Ver Detalles</span>
                            </a>
                            {% if es_creador %}
                                <div class="dropdown">
                                    <button class="btn btn-outline" onclick="toggleDropdown(this)">
                                        <i class="fas fa-ellipsis-v"></i>
                                    </button>
                                    <div class="dropdown-menu">
                                        <a href="#" class="dropdown-item">
                                            <i class="fas fa-edit"></i>
                                            <span>Editar</span>
                                        </a>
                                        <a href="#" class="dropdown-item">
                                            <i class="fas fa-users"></i>
                                            <span>Gestionar Jugadores</span>
                                        </a>
                                        <div class="dropdown-divider"></div>
                                        <a href="#" class="dropdown-item danger">
                                            <i class="fas fa-times"></i>
                                            <span>Cancelar</span>
                                        </a>
                                    </div>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    {% endwith %}
                {% endfor %}
            </div>
        {% else %}
            <div class="empty-state">
                <div class="empty-icon">
                    <i class="fas fa-calendar-plus"></i>
                </div>
                <div class="empty-content">
                    <h3 class="empty-title">No tienes próximos partidos</h3>
                    <p class="empty-desc">
                        No tienes partidos programados o en los que estés inscrito.
                        <br>¡Es hora de unirse a la acción!
                    </p>
                    <div class="empty-actions">
                        <a href="{% url 'buscar_partidos' %}" class="btn btn-primary">
                            <i class="fas fa-search"></i>
                            <span>Buscar Partidos</span>
                        </a>
                        <a href="{% url 'crear_partidos' %}" class="btn btn-secondary">
                            <i class="fas fa-plus"></i>
                            <span>Crear Partido</span>
                        </a>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>

    <!-- Sección Historial -->
    <div class="historial-section">
        <div class="section-header">
            <h2 class="section-title">
                <i class="fas fa-history"></i>
                <span>Historial de Partidos</span>
            </h2>
            {% if partidos_jugados_info %}
                <div class="section-meta">
                    <span class="partidos-count">{{ partidos_jugados_info|length }} partido{{ partidos_jugados_info|length|pluralize }} jugado{{ partidos_jugados_info|length|pluralize }}</span>
                </div>
            {% endif %}
        </div>

        {% if partidos_jugados_info %}
            <div class="historial-list">
                {% for item in partidos_jugados_info %}
                    {% with partido=item.partido es_creador=item.es_creador resultado_str=item.resultado_str %}
                    <a href="{% url 'detalle_partido' pk=partido.id_partido %}" class="historial-item" data-partido-id="{{ partido.id_partido }}">
                        <!-- Información Principal -->
                        <div class="historial-main">
                            <div class="historial-info">
                                <h4 class="historial-title">{{ partido.cancha.nombre_cancha }}</h4>
                                <div class="historial-meta">
                                    <span class="historial-tipo">{{ partido.get_tipo_display }}</span>
                                    <span class="historial-separator">•</span>
                                    <span class="historial-modalidad">{{ partido.get_modalidad_display }}</span>
                                </div>
                            </div>
                            <div class="historial-fecha">
                                <div class="fecha-display">
                                    <span class="fecha-dia">{{ partido.fecha|date:"d" }}</span>
                                    <span class="fecha-mes">{{ partido.fecha|date:"M" }}</span>
                                    <span class="fecha-ano">{{ partido.fecha|date:"Y" }}</span>
                                </div>
                            </div>
                        </div>

                        <!-- Resultado o Estado -->
                        <div class="historial-resultado">
                            {% if partido.estado == 'FINALIZADO' %}
                                <div class="resultado-container">
                                    <i class="fas fa-trophy"></i>
                                    <span class="resultado-text">{{ resultado_str }}</span>
                                </div>
                            {% else %}
                                <div class="estado-container">
                                    <span class="estado-badge-historial estado-{{ partido.estado|lower }}">
                                        {{ partido.get_estado_display }}
                                    </span>
                                </div>
                            {% endif %}
                        </div>

                        <!-- Badges -->
                        <div class="historial-badges">
                            {% if es_creador %}
                                <span class="historial-badge badge-creador">
                                    <i class="fas fa-crown"></i>
                                    <span>Creador</span>
                                </span>
                            {% endif %}
                            
                            {% if es_creador and partido.estado == 'PROGRAMADO' and partido.fecha < ahora %}
                                <span class="historial-badge badge-pendiente">
                                    <i class="fas fa-exclamation-triangle"></i>
                                    <span>Resultado Pendiente</span>
                                </span>
                            {% elif es_creador and partido.estado == 'EN_CURSO' and partido.fecha < ahora %}
                                <span class="historial-badge badge-pendiente">
                                    <i class="fas fa-clock"></i>
                                    <span>Finalizar Partido</span>
                                </span>
                            {% endif %}
                        </div>

                        <!-- Indicador de Enlace -->
                        <div class="link-indicator">
                            <i class="fas fa-chevron-right"></i>
                        </div>

                        <!-- Indicador de Acción Requerida -->
                        {% if es_creador and partido.estado == 'PROGRAMADO' and partido.fecha < ahora %}
                            <div class="action-indicator">
                                <i class="fas fa-exclamation-circle"></i>
                            </div>
                        {% elif es_creador and partido.estado == 'EN_CURSO' and partido.fecha < ahora %}
                            <div class="action-indicator">
                                <i class="fas fa-clock"></i>
                            </div>
                        {% endif %}
                    </a>
                    {% endwith %}
                {% endfor %}
            </div>

            <!-- Footer de Historial -->
            <div class="historial-footer">
                <button class="btn btn-secondary" id="loadMoreHistory">
                    <i class="fas fa-chevron-down"></i>
                    <span>Ver más partidos</span>
                </button>
            </div>
        {% else %}
            <div class="empty-state">
                <div class="empty-icon">
                    <i class="fas fa-receipt"></i>
                </div>
                <div class="empty-content">
                    <h3 class="empty-title">No tienes historial de partidos</h3>
                    <p class="empty-desc">
                        Aún no has participado en ningún partido.
                        <br>¡Comienza tu aventura futbolística!
                    </p>
                    <div class="empty-actions">
                        <a href="{% url 'buscar_partidos' %}" class="btn btn-primary">
                            <i class="fas fa-search"></i>
                            <span>Buscar Partidos</span>
                        </a>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
</div>


<script>
document.addEventListener('DOMContentLoaded', function() {
    initializeCountdowns();
    initializeAnimations();
    initializeDropdowns();
    initializeLoadMore();

    function initializeCountdowns() {
        const countdownElements = document.querySelectorAll('.partido-countdown');
        
        countdownElements.forEach(element => {
            const fechaString = element.getAttribute('data-fecha');
            if (!fechaString) return;
            
            const fechaPartido = new Date(fechaString);
            const countdownText = element.querySelector('.countdown-text');
            
            function updateCountdown() {
                const ahora = new Date();
                const diferencia = fechaPartido - ahora;
                
                if (diferencia <= 0) {
                    countdownText.innerHTML = '<span class="text-warning">¡Partido en curso!</span>';
                    return;
                }
                
                const dias = Math.floor(diferencia / (1000 * 60 * 60 * 24));
                const horas = Math.floor((diferencia % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutos = Math.floor((diferencia % (1000 * 60 * 60)) / (1000 * 60));
                
                if (dias > 0) {
                    countdownText.textContent = `En ${dias} día${dias > 1 ? 's' : ''} y ${horas}h`;
                } else if (horas > 0) {
                    countdownText.textContent = `En ${horas}h ${minutos}m`;
                } else {
                    countdownText.innerHTML = `<span class="text-warning">En ${minutos} minutos</span>`;
                }
            }
            
            updateCountdown();
            setInterval(updateCountdown, 60000);
        });
    }

    function initializeAnimations() {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-in');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.partido-card, .historial-item, .empty-state').forEach((el, index) => {
            setTimeout(() => {
                observer.observe(el);
            }, index * 100);
        });
    }

    function initializeDropdowns() {
        window.toggleDropdown = function(button) {
            const dropdown = button.parentElement;
            const menu = dropdown.querySelector('.dropdown-menu');
            const isOpen = dropdown.classList.contains('open');
            
            // Cerrar todos los dropdowns
            document.querySelectorAll('.dropdown.open').forEach(d => {
                d.classList.remove('open');
            });
            
            if (!isOpen) {
                dropdown.classList.add('open');
            }
        };

        // Cerrar dropdowns al hacer click fuera
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.dropdown')) {
                document.querySelectorAll('.dropdown.open').forEach(d => {
                    d.classList.remove('open');
                });
            }
        });
    }

    function initializeLoadMore() {
        const loadMoreBtn = document.getElementById('loadMoreHistory');
        if (!loadMoreBtn) return;
        
        loadMoreBtn.addEventListener('click', function() {
            const icon = this.querySelector('i');
            const text = this.querySelector('span');
            
            icon.className = 'fas fa-spinner fa-spin';
            text.textContent = 'Cargando...';
            this.disabled = true;
            
            setTimeout(() => {
                icon.className = 'fas fa-chevron-down';
                text.textContent = 'Ver más partidos';
                this.disabled = false;
            }, 1500);
        });
    }
});
</script>
{% endblock %}

================
File: app/templates/partidos/registrar_resultado.html
================
{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block title %}{{ titulo_pagina|default:"Registrar Resultado" }} - De Rabona{% endblock %}

{% block extra_css %}
<link href="{% static 'css/partidos/resultado_partido_styles.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="resultado-container" id="resultado-container">
    <!-- Hero Section -->
    <section class="resultado-hero-section" id="resultado-hero-section">
        <div class="hero-content">
            <div class="hero-icon">
                <i class="fas fa-clipboard-check"></i>
            </div>
            <div class="hero-text">
                <h1 class="hero-title">{{ titulo_pagina|default:"Registrar Resultado del Partido" }}</h1>
                <p class="hero-subtitle">Registra el marcador final y actualiza las estadísticas</p>
            </div>
        </div>
    </section>

    <!-- Partido Info Section -->

    <!-- Equipos Section -->
    <section class="equipos-section" id="resultado-equipos-section">
        {% if partido.equipo_local and partido.equipo_visitante %}
            <div class="equipos-enfrentamiento">
                <div class="equipo-card equipo-local">
                    <div class="equipo-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="equipo-info">
                        <h3 class="equipo-nombre">{{ partido.equipo_local.nombre_equipo|default:"Equipo Local" }}</h3>
                        <span class="equipo-label">Local</span>
                    </div>
                </div>
                
                <div class="vs-separator">
                    <div class="vs-circle">
                        <span class="vs-text">VS</span>
                    </div>
                </div>
                
                <div class="equipo-card equipo-visitante">
                    <div class="equipo-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="equipo-info">
                        <h3 class="equipo-nombre">{{ partido.equipo_visitante.nombre_equipo|default:"Equipo Visitante" }}</h3>
                        <span class="equipo-label">Visitante</span>
                    </div>
                </div>
            </div>
        {% else %}
            <div class="no-equipos-warning">
                <div class="warning-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="warning-content">
                    <h4 class="warning-title">Equipos no asignados</h4>
                    <p class="warning-text">Los equipos no están asignados a este partido. Las calificaciones ELO no se actualizarán automáticamente.</p>
                </div>
            </div>
        {% endif %}
    </section>

    <!-- Formulario Section -->
    <section class="form-section" id="resultado-form-section">
        <div class="form-container">
            <div class="form-header">
                <h3 class="form-title">
                    <i class="fas fa-trophy"></i>
                    Resultado Final
                </h3>
                <p class="form-subtitle">Ingresa el marcador final del partido</p>
            </div>

            <div class="form-body">
                <form method="post" class="resultado-form" id="resultadoForm">
                    {% csrf_token %}
                    
                    <div class="form-fields">
                        {{ form|crispy }}
                    </div>
                    
                    <div class="form-actions">
                        <a href="{% url 'detalle_partido' pk=partido.id_partido %}" class="btn btn-secondary">
                            <i class="fas fa-times"></i>
                            <span>Cancelar</span>
                        </a>
                        <button type="submit" class="btn btn-primary btn-save">
                            <i class="fas fa-save"></i>
                            <span class="btn-text">Guardar Resultado</span>
                            <div class="btn-loader">
                                <div class="spinner"></div>
                            </div>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Info Cards Section -->
    <section class="info-section" id="resultado-info-section">
        <div class="info-grid">
            <div class="info-card">
                <div class="info-card-icon">
                    <i class="fas fa-star"></i>
                </div>
                <div class="info-card-content">
                    <h4 class="info-card-title">Calificación ELO</h4>
                    <p class="info-card-description">Las calificaciones de los jugadores se actualizarán automáticamente basándose en el resultado.</p>
                </div>
            </div>
            
            <div class="info-card">
                <div class="info-card-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="info-card-content">
                    <h4 class="info-card-title">Estadísticas</h4>
                    <p class="info-card-description">El resultado se añadirá al historial y estadísticas personales de cada jugador.</p>
                </div>
            </div>
            
            <div class="info-card">
                <div class="info-card-icon">
                    <i class="fas fa-history"></i>
                </div>
                <div class="info-card-content">
                    <h4 class="info-card-title">Historial</h4>
                    <p class="info-card-description">Una vez guardado, el resultado quedará registrado permanentemente en el historial del partido.</p>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('resultadoForm');
    const submitBtn = document.querySelector('.btn-save');
    const btnText = document.querySelector('.btn-text');
    const btnLoader = document.querySelector('.btn-loader');
    
    // Animación de entrada para las info cards
    const infoCards = document.querySelectorAll('.info-card');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.classList.add('animate-in');
                }, index * 150);
                observer.unobserve(entry.target);
            }
        });
    }, { threshold: 0.1 });

    infoCards.forEach(card => {
        observer.observe(card);
    });
    
    // Validación y estado de carga del formulario
    if (form && submitBtn) {
        form.addEventListener('submit', function(e) {
            // Validación básica
            const scoreFields = form.querySelectorAll('input[type="number"]');
            let isValid = true;
            
            scoreFields.forEach(field => {
                const value = parseInt(field.value);
                if (isNaN(value) || value < 0) {
                    isValid = false;
                    field.classList.add('is-invalid');
                    
                    if (!field.parentNode.querySelector('.invalid-feedback')) {
                        const errorMsg = document.createElement('div');
                        errorMsg.className = 'invalid-feedback';
                        errorMsg.textContent = 'Ingresa un número válido (0 o mayor)';
                        field.parentNode.appendChild(errorMsg);
                    }
                } else {
                    field.classList.remove('is-invalid');
                    const errorMsg = field.parentNode.querySelector('.invalid-feedback');
                    if (errorMsg) {
                        errorMsg.remove();
                    }
                }
            });
            
            if (!isValid) {
                e.preventDefault();
                return;
            }
            
            // Confirmación antes de enviar
            const confirmMsg = '¿Estás seguro de que quieres guardar este resultado? Una vez guardado no podrá ser modificado.';
            if (!confirm(confirmMsg)) {
                e.preventDefault();
                return;
            }
            
            // Estado de carga
            submitBtn.disabled = true;
            submitBtn.classList.add('loading');
            btnText.style.opacity = '0';
            btnLoader.style.opacity = '1';
        });
        
        // Quitar errores cuando el usuario empiece a escribir
        const formFields = form.querySelectorAll('input');
        formFields.forEach(field => {
            field.addEventListener('input', function() {
                this.classList.remove('is-invalid');
                const errorMsg = this.parentNode.querySelector('.invalid-feedback');
                if (errorMsg) {
                    errorMsg.remove();
                }
            });
        });
    }
});
</script>
{% endblock %}

================
File: app/templates/perfil/perfil.html
================
{% extends 'base.html' %}
{% load static %}

{% block title %}Mi Perfil - De Rabona{% endblock %}

{% block extra_css %}
<link href="{% static 'css/perfil/perfil_styles.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="profile-container">
    <!-- Profile Hero Section -->
    <section class="profile-hero-section">
        <div class="profile-hero-content">
            <!-- Profile Cover -->
            <div class="profile-cover">
                <img src="{% if user.banner_perfil %}{{ user.banner_perfil.url }}{% else %}{% static 'images/banner_default.png' %}{% endif %}" 
                     alt="Banner del perfil" class="profile-cover-image">
                <div class="profile-cover-overlay"></div>
            </div>
            
            <!-- Profile Header -->
            <div class="profile-header">
                <div class="profile-avatar-section">
                    <div class="profile-avatar-wrapper">
                        <img src="{% if user.imagen_perfil %}{{ user.imagen_perfil.url }}{% else %}{% static '/images/avatar_default.png' %}{% endif %}" 
                             alt="Avatar de {{ user.nombre }}" class="profile-avatar">
                        <div class="profile-avatar-ring"></div>
                    </div>
                    
                    <div class="profile-info">
                        <h1 class="profile-name">{{ user.nombre|default:"Nombre no especificado" }}</h1>
                        <div class="profile-meta">
                            {% if user.posicion %}
                                <span class="profile-badge">
                                    <i class="fas fa-futbol"></i>
                                    {{ user.get_posicion_display }}
                                </span>
                            {% endif %}
                            {% if user.ubicacion %}
                                <span class="profile-badge">
                                    <i class="fas fa-map-marker-alt"></i>
                                    {{ user.ubicacion }}
                                </span>
                            {% endif %}
                            <span class="profile-badge profile-elo">
                                <i class="fas fa-star"></i>
                                ELO {{ user.calificacion|floatformat:0 }}
                            </span>
                        </div>
                    </div>
                </div>
                
                <div class="profile-actions">
                    <a href="{% url 'update_profile' %}" class="btn-profile-edit">
                        <i class="fas fa-edit"></i>
                        <span>Editar perfil</span>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Profile Navigation -->
    <section class="profile-nav-section">
        <nav class="profile-nav">
            <button class="profile-nav-item active" data-tab="info">
                <i class="fas fa-info-circle"></i>
                <span>Información</span>
            </button>
            <button class="profile-nav-item" data-tab="stats">
                <i class="fas fa-chart-bar"></i>
                <span>Estadísticas</span>
            </button>
            <button class="profile-nav-item" data-tab="elo-history">
                <i class="fas fa-trophy"></i>
                <span>Historial ELO</span>
            </button>
            <button class="profile-nav-item" data-tab="teams">
                <i class="fas fa-users"></i>
                <span>Mis Equipos</span>
            </button>
        </nav>
    </section>

    <!-- Profile Content -->
    <section class="profile-content-section">
        <!-- Info Tab -->
        <div class="profile-tab-content active" id="info-tab">
            <div class="content-card">
                <div class="card-header">
                    <div class="header-content">
                        <h3 class="card-title">
                            <i class="fas fa-user"></i>
                            Información Personal
                        </h3>
                        <span class="card-subtitle">Datos de tu perfil</span>
                    </div>
                    <a href="{% url 'update_profile' %}" class="header-action">
                        <i class="fas fa-edit"></i>
                        Editar
                    </a>
                </div>
                
                <div class="card-body">
                    <div class="info-grid">
                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-user"></i>
                                Nombre completo
                            </div>
                            <div class="info-value">{{ user.nombre|default:"No especificado" }}</div>
                        </div>
                        
                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-envelope"></i>
                                Email
                            </div>
                            <div class="info-value">{{ user.username }}</div>
                        </div>
                        
                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-calendar"></i>
                                Fecha de nacimiento
                            </div>
                            <div class="info-value">{{ user.fecha_nacimiento|date:"d/m/Y"|default:"No especificada" }}</div>
                        </div>
                        
                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-venus-mars"></i>
                                Género
                            </div>
                            <div class="info-value">{{ user.get_genero_display|default:"No especificado" }}</div>
                        </div>
                        
                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-futbol"></i>
                                Posición preferida
                            </div>
                            <div class="info-value">{{ user.get_posicion_display|default:"No especificada" }}</div>
                        </div>
                        
                        <div class="info-item">
                            <div class="info-label">
                                <i class="fas fa-map-marker-alt"></i>
                                Ubicación
                            </div>
                            <div class="info-value">{{ user.ubicacion|default:"No especificada" }}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stats Tab -->
        <div class="profile-tab-content" id="stats-tab">
            <div class="content-card">
                <div class="card-header">
                    <div class="header-content">
                        <h3 class="card-title">
                            <i class="fas fa-chart-bar"></i>
                            Estadísticas de Juego
                        </h3>
                        <span class="card-subtitle">Tu rendimiento en números</span>
                    </div>
                </div>
                
                <div class="card-body">
                    <!-- Stats Overview -->
                    <div class="stats-overview">
                        <div class="stat-card primary">
                            <div class="stat-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number">{{ user.calificacion|floatformat:0 }}</div>
                                <div class="stat-label">ELO Actual</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-futbol"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number">{{ user.partidos_jugados|default:0 }}</div>
                                <div class="stat-label">Partidos</div>
                            </div>
                        </div>
                        
                        <div class="stat-card success">
                            <div class="stat-icon">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number">{{ user.victorias|default:0 }}</div>
                                <div class="stat-label">Victorias</div>
                            </div>
                        </div>
                        
                        <div class="stat-card neutral">
                            <div class="stat-icon">
                                <i class="fas fa-handshake"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number">{{ user.empates|default:0 }}</div>
                                <div class="stat-label">Empates</div>
                            </div>
                        </div>
                        
                        <div class="stat-card danger">
                            <div class="stat-icon">
                                <i class="fas fa-times"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number">{{ user.derrotas|default:0 }}</div>
                                <div class="stat-label">Derrotas</div>
                            </div>
                        </div>
                        
                        {% with total_partidos=user.partidos_jugados|default:0 %}
                        <div class="stat-card accent">
                            <div class="stat-icon">
                                <i class="fas fa-percentage"></i>
                            </div>
                            <div class="stat-content">
                                {% if total_partidos > 0 %}
                                    <div class="stat-number">{% widthratio user.victorias total_partidos 100 %}%</div>
                                {% else %}
                                    <div class="stat-number">N/A</div>
                                {% endif %}
                                <div class="stat-label">% Victoria</div>
                            </div>
                        </div>
                        {% endwith %}
                    </div>
                    
                    <!-- Performance Chart -->
                    {% with total_partidos=user.partidos_jugados|default:0 %}
                    {% if total_partidos > 0 %}
                    <div class="performance-chart">
                        <h4 class="chart-title">Distribución de Resultados</h4>
                        <div class="chart-bars">
                            <div class="chart-bar">
                                <div class="bar-header">
                                    <span class="bar-label">Victorias</span>
                                    <span class="bar-percentage">{% widthratio user.victorias total_partidos 100 %}%</span>
                                </div>
                                <div class="bar-track">
                                    <div class="bar-fill success" style="width: {% widthratio user.victorias total_partidos 100 %}%"></div>
                                </div>
                            </div>
                            
                            <div class="chart-bar">
                                <div class="bar-header">
                                    <span class="bar-label">Empates</span>
                                    <span class="bar-percentage">{% widthratio user.empates total_partidos 100 %}%</span>
                                </div>
                                <div class="bar-track">
                                    <div class="bar-fill neutral" style="width: {% widthratio user.empates total_partidos 100 %}%"></div>
                                </div>
                            </div>
                            
                            <div class="chart-bar">
                                <div class="bar-header">
                                    <span class="bar-label">Derrotas</span>
                                    <span class="bar-percentage">{% widthratio user.derrotas total_partidos 100 %}%</span>
                                </div>
                                <div class="bar-track">
                                    <div class="bar-fill danger" style="width: {% widthratio user.derrotas total_partidos 100 %}%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    {% endwith %}
                </div>
            </div>
        </div>

        <!-- ELO History Tab -->
        <div class="profile-tab-content" id="elo-history-tab">
            <div class="content-card">
                <div class="card-header">
                    <div class="header-content">
                        <h3 class="card-title">
                            <i class="fas fa-trophy"></i>
                            Historial ELO
                        </h3>
                        <span class="card-subtitle">Evolución de tu calificación</span>
                    </div>
                </div>
                
                <div class="card-body">
                    <div class="empty-state">
                        <div class="empty-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h4 class="empty-title">Próximamente</h4>
                        <p class="empty-desc">Gráfico de evolución de tu ELO y listado de cambios por partido.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Teams Tab -->
        <div class="profile-tab-content" id="teams-tab">
            <div class="content-card">
                <div class="card-header">
                    <div class="header-content">
                        <h3 class="card-title">
                            <i class="fas fa-users"></i>
                            Mis Equipos
                        </h3>
                        <span class="card-subtitle">Equipos donde participas</span>
                    </div>
                </div>
                
                <div class="card-body">
                    <div class="empty-state">
                        <div class="empty-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h4 class="empty-title">Próximamente</h4>
                        <p class="empty-desc">Listado de equipos a los que perteneces y tu rol en cada uno.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Tab functionality
    const tabButtons = document.querySelectorAll('.profile-nav-item');
    const tabContents = document.querySelectorAll('.profile-tab-content');
    
    tabButtons.forEach(button => {
        button.addEventListener('click', function() {
            const targetTab = this.getAttribute('data-tab');
            
            // Remove active class from all buttons and contents
            tabButtons.forEach(btn => btn.classList.remove('active'));
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Add active class to clicked button and corresponding content
            this.classList.add('active');
            document.getElementById(targetTab + '-tab').classList.add('active');
            
            // Animate tab content
            const targetContent = document.getElementById(targetTab + '-tab');
            targetContent.style.opacity = '0';
            targetContent.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                targetContent.style.transition = 'all 0.4s ease';
                targetContent.style.opacity = '1';
                targetContent.style.transform = 'translateY(0)';
            }, 50);
        });
    });
    
    // Smooth scroll on profile navigation
    const profileNav = document.querySelector('.profile-nav-section');
    const profileNavOffset = profileNav.offsetTop;
    
    window.addEventListener('scroll', function() {
        if (window.pageYOffset >= profileNavOffset) {
            profileNav.classList.add('sticky');
        } else {
            profileNav.classList.remove('sticky');
        }
    });
    
    // Animate stats on scroll
    const statsObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate-in');
                statsObserver.unobserve(entry.target);
            }
        });
    }, { threshold: 0.1 });
    
    document.querySelectorAll('.stat-card').forEach(card => {
        statsObserver.observe(card);
    });
});
</script>
{% endblock %}

================
File: app/templates/perfil/update_profile.html
================
{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block title %}{{ titulo_pagina|default:"Editar Perfil" }} - De Rabona{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/perfil/editar_perfil_styles.css' %}">
{% endblock %}

{% block content %}
<div class="editar-perfil-page">
    <div class="editar-perfil-container"> 

            
            <div class="form-container"> {# Reemplaza .content-card #}
                <div class="form-header"> {# Reemplaza .content-card-header #}
                    {# <h4 class="content-card-title"> Mapea a .form-title #}
                    <h4 class="form-title">
                        <i class="fas fa-user-edit"></i> 
                        {{ titulo_pagina|default:"Editar Perfil" }}
                    </h4>
                </div>
                <div class="form-body">
                    {% if messages %}
                        <div class="messages-section mb-4"> 
                            {% for message in messages %}
                                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                                    {{ message }}
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            {% endfor %}
                        </div>
                    {% endif %}

                    <form method="post" enctype="multipart/form-data" class="profile-form">
                        {% csrf_token %}
                        
                        {{ form.non_field_errors }}

                        <!-- Información Personal -->
                        <div class="form-section"> 
                            <h5 class="form-section-title">
                                <i class="fas fa-user"></i> 
                                Información Personal
                            </h5>
                            
                            <div class="form-group">
                                
                                {{ form.nombre|as_crispy_field }}
                                
                                {% for error in form.nombre.errors %}
                                    <div class="invalid-feedback d-block">{{ error }}</div>
                                {% endfor %}
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        {{ form.fecha_nacimiento|as_crispy_field  }} 
                                        {% for error in form.fecha_nacimiento.errors %}
                                            <div class="invalid-feedback d-block">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        {{ form.genero |as_crispy_field  }} 
                                        {% for error in form.genero.errors %}
                                            <div class="invalid-feedback d-block">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Información de Fútbol -->
                        <div class="form-section">
                            <h5 class="form-section-title">
                                <i class="fas fa-futbol"></i>
                                Información de Fútbol
                            </h5>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        {{ form.posicion |as_crispy_field  }}
                                        {% for error in form.posicion.errors %}
                                            <div class="invalid-feedback d-block">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="{{ form.ubicacion.id_for_label }}" class="form-label">{{ form.ubicacion.label }}</label>
                                        {{ form.ubicacion }}
                                        {% for error in form.ubicacion.errors %}
                                            <div class="invalid-feedback d-block">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Imágenes del Perfil -->
                        <div class="form-section">
                            <h5 class="form-section-title">
                                <i class="fas fa-images"></i>
                                Imágenes del Perfil
                            </h5>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="{{ form.imagen_perfil.id_for_label }}" class="form-label">{{ form.imagen_perfil.label }}</label>
                                        {% if user.imagen_perfil %}
                                            <div class="current-image-preview">
                                                <img src="{{ user.imagen_perfil.url }}" alt="Avatar actual" class="current-avatar">
                                                <div class="current-image-info">
                                                    <small>Imagen actual</small> {# CSS controlará color #}
                                                    <a href="{{ user.imagen_perfil.url }}" target="_blank" class="view-image-link">
                                                        <i class="fas fa-external-link-alt"></i>
                                                        Ver imagen
                                                    </a>
                                                </div>
                                            </div>
                                        {% endif %}
                                        {{ form.imagen_perfil }} {# Django FileInput. El CSS lo estilizará como .form-control #}
                                        {% for error in form.imagen_perfil.errors %}
                                            <div class="invalid-feedback d-block">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="{{ form.banner_perfil.id_for_label }}" class="form-label">{{ form.banner_perfil.label }}</label>
                                        {% if user.banner_perfil %}
                                            <div class="current-image-preview">
                                                <img src="{{ user.banner_perfil.url }}" alt="Banner actual" class="current-banner">
                                                <div class="current-image-info">
                                                    <small>Banner actual</small>
                                                    <a href="{{ user.banner_perfil.url }}" target="_blank" class="view-image-link">
                                                        <i class="fas fa-external-link-alt"></i>
                                                        Ver imagen
                                                    </a>
                                                </div>
                                            </div>
                                        {% endif %}
                                        {{ form.banner_perfil }}
                                        {% for error in form.banner_perfil.errors %}
                                            <div class="invalid-feedback d-block">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Botones de Acción -->
                        <div class="form-actions"> {# Esta clase ya existe en el CSS nuevo #}
                            <a href="{% url 'perfil' %}" class="btn btn-secondary">
                                <i class="fas fa-times"></i> {# Quitamos me-2 #}
                                Cancelar
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> {# Quitamos me-2 #}
                                Guardar Cambios
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div> 
    </div>
</div>
{% endblock %}

{% block extra_js %}
{{ block.super }} {# Si main.html tiene JS base que quieres mantener #}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Preview de imagen cuando se selecciona un archivo
    const imageInputs = document.querySelectorAll('.profile-form input[type="file"]'); // Más específico
    
    imageInputs.forEach(input => {
        input.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    let previewContainer = input.closest('.form-group').querySelector('.current-image-preview');
                    
                    if (previewContainer) {
                        const img = previewContainer.querySelector('img');
                        if (img) {
                            img.src = event.target.result;
                        }
                        // Actualizar texto a "Vista previa"
                        const smallText = previewContainer.querySelector('.current-image-info small');
                        if (smallText) smallText.textContent = 'Vista previa';
                        const link = previewContainer.querySelector('.view-image-link');
                        if(link) link.style.display = 'none'; // Ocultar "Ver imagen"
                    } else {
                        // Crear preview si no existe (para el caso de que no hubiera imagen previa)
                        const newPreviewDiv = document.createElement('div');
                        newPreviewDiv.className = 'current-image-preview'; // Asegúrate que los estilos CSS se apliquen
                        const imgClass = input.name === 'imagen_perfil' ? 'current-avatar' : 'current-banner';
                        newPreviewDiv.innerHTML = `
                            <img src="${event.target.result}" alt="Vista previa" class="${imgClass}">
                            <div class="current-image-info">
                                <small>Vista previa</small>
                            </div>
                        `;
                        // Insertar antes del input de archivo
                        input.parentNode.insertBefore(newPreviewDiv, input);
                    }
                };
                reader.readAsDataURL(file);
            }
        });
    });

    // Validación del formulario (opcional, Django ya valida)
    const form = document.querySelector('.profile-form');
    if (form) {
        form.addEventListener('submit', function(e) {
           
            const submitButton = form.querySelector('button[type="submit"].btn-primary');
            if (submitButton) {
                submitButton.classList.add('loading'); // Necesitarías CSS para .loading

                const icon = submitButton.querySelector('i');
                if (icon) icon.className = 'fas fa-spinner fa-spin'; // Cambia el ícono a spinner
                submitButton.disabled = true;
            }
        });
    }
});
</script>
{% endblock %}

================
File: app/views/partido_views.py
================
from datetime import timedelta
from django.contrib import messages
from django.urls import reverse_lazy
from django.views.generic import TemplateView,CreateView,UpdateView, ListView, DetailView, View, FormView
from django.contrib.auth.mixins import LoginRequiredMixin
from django.db.models import Count, Case, When, BooleanField
from django.db.models import F as FunctionF
from django.db.models import Q as FunctionQ
from django.shortcuts import get_object_or_404, redirect
from datetime import timezone as django_timezone
from django.utils import timezone as now_timezone
from django.contrib.auth import get_user_model
from app.forms.equipo_forms import AsignarEquiposForm
from app.models.equipo import Equipo
from app.models.user import User
from app.forms.partido_forms import PartidoForm, ResultadoPartidoForm
from app.models.partido import Partido
from django.db.models import ExpressionWrapper, DateTimeField





#PARTIDOS
'''
CrearPartidos

BuscarPartidos

DetallePartidoView

InscribirsePartido

RegistrarResultadoPartidoView
'''



User = get_user_model() 

class CrearPartidos(LoginRequiredMixin, CreateView):
    model = Partido
    form_class = PartidoForm
    template_name = 'partidos/crear_partidos.html'
    success_url = reverse_lazy('buscar_partidos')

    def form_valid(self, form):
        form.instance.creador = self.request.user
        
        if 'fecha' in form.cleaned_data:
            form.instance.fecha = form.cleaned_data['fecha']
        else:
            messages.error(self.request, "Error: Fecha del partido no procesada.")
            return self.form_invalid(form)

        # Asignar fecha_limite_inscripcion si vino del formulario
        # Si es None, el método save() del modelo Partido lo calculará por defecto
        if 'fecha_limite_inscripcion' in form.cleaned_data:
            form.instance.fecha_limite_inscripcion = form.cleaned_data['fecha_limite_inscripcion']
        
        response = super().form_valid(form)
        
        if self.object:
            self.object.jugadores.add(self.request.user)
        
        messages.success(self.request, f"¡Partido en '{self.object.cancha.nombre_cancha}' creado con éxito para el {self.object.fecha.strftime('%d/%m/%Y a las %H:%M')}!")
        return response
    

class BuscarPartidos(LoginRequiredMixin, ListView):
    model = Partido
    template_name = 'partidos/buscar_partidos.html'
    context_object_name = 'partidos_info_list' # Cambiado para evitar confusión con el original
    paginate_by = 9

    def get_queryset(self):
        ahora = now_timezone.now()
        # Partidos programados que aún no han pasado su fecha límite de inscripción efectiva
        # y que tienen plazas disponibles.
        queryset = Partido.objects.filter(
            estado='PROGRAMADO',
            # fecha_limite_inscripcion_efectiva > ahora (esto se hará con annotate y Case/When)
            # o podemos filtrar después de anotar
        ).annotate(
            num_jugadores_inscritos=Count('jugadores'),
            # Calculamos la fecha_limite_efectiva aquí para poder filtrar
            # Si fecha_limite_inscripcion es NULL, usamos fecha - 1 hora
            limite_inscripcion_calculada=Case(
                When(fecha_limite_inscripcion__isnull=False, then=FunctionF('fecha_limite_inscripcion')),
                default=ExpressionWrapper(FunctionF('fecha') - timedelta(hours=1), output_field=DateTimeField())
            )
        ).filter(
            limite_inscripcion_calculada__gt=ahora, # Inscripción aún no ha cerrado
            num_jugadores_inscritos__lt=FunctionF('max_jugadores') # Plazas disponibles
        ).order_by('fecha')
        
        # No excluimos los partidos del usuario aquí, lo manejaremos en el contexto

        return queryset
    
    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs) # Esto ya poblará 'partidos_info_list'
        context['titulo_pagina'] = "Encuentra Partidos"
        
        # Procesar la lista de partidos para añadir información contextual
        partidos_procesados = []
        # 'object_list' es el nombre por defecto que ListView usa para el queryset paginado
        # si no se define context_object_name o si se quiere el queryset original.
        # En nuestro caso, ListView ya usa 'partidos_info_list' por context_object_name.
        for partido in context['partidos_info_list']: 
            es_creador = (partido.creador == self.request.user)
            esta_inscrito = self.request.user in partido.jugadores.all()
            
            # Usamos la propiedad del modelo para determinar si la inscripción está abierta
            # La propiedad ya considera el estado, el límite y las plazas.
            inscripcion_esta_abierta = partido.inscripcion_abierta 

            plazas_disponibles = partido.max_jugadores - partido.num_jugadores_inscritos

            partidos_procesados.append({
                'partido': partido,
                'es_creador': es_creador,
                'esta_inscrito': esta_inscrito,
                'inscripcion_esta_abierta': inscripcion_esta_abierta,
                'plazas_disponibles': plazas_disponibles,
            })
        context['partidos_info_list'] = partidos_procesados # Reemplazamos con la lista procesada
        return context

class DetallePartidoView(LoginRequiredMixin, DetailView): # DetailView puede manejar POST si lo sobrescribes
    model = Partido
    template_name = 'partidos/detalle_partido.html'
    context_object_name = 'partido'
    pk_url_kwarg = 'pk' 

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        partido = self.get_object()
        usuario_actual = self.request.user

        context['titulo_pagina'] = f"Detalles: {partido.cancha.nombre_cancha} - {partido.fecha.strftime('%d/%m %H:%M')}"
        context['es_creador'] = (partido.creador == usuario_actual)
        context['esta_inscrito'] = usuario_actual in partido.jugadores.all()
        context['inscripcion_esta_abierta'] = partido.inscripcion_abierta
        
        jugadores_inscritos_list = partido.jugadores.all().order_by('nombre')
        context['jugadores_inscritos_list'] = jugadores_inscritos_list
        context['plazas_disponibles'] = partido.max_jugadores - partido.jugadores.count()

        if context['es_creador'] and partido.estado == 'PROGRAMADO':
            # Pasar el formulario de asignación de equipos al contexto
            # Pasamos los jugadores inscritos y el partido para pre-rellenar si ya hay equipos
            context['form_asignar_equipos'] = AsignarEquiposForm(
                jugadores_inscritos=jugadores_inscritos_list,
                partido=partido 
            )
        return context

    def post(self, request, *args, **kwargs):
        partido = self.get_object()
        usuario_actual = request.user

        if partido.creador != usuario_actual:
            messages.error(request, "No tienes permiso para modificar este partido.")
            return redirect('detalle_partido', pk=partido.id_partido)

        if partido.estado != 'PROGRAMADO':
            messages.error(request, "Solo se pueden asignar equipos a partidos programados.")
            return redirect('detalle_partido', pk=partido.id_partido)

        # Procesar el formulario de asignación de equipos
        form_asignar = AsignarEquiposForm(request.POST, jugadores_inscritos=partido.jugadores.all(), partido=partido)

        if form_asignar.is_valid():
            jugadores_equipo_local_ids = []
            jugadores_equipo_visitante_ids = []

            for jugador_obj in partido.jugadores.all(): # 'jugador_obj' para evitar confusión con la variable 'jugador' del bucle en el template
                asignacion = form_asignar.cleaned_data.get(f'jugador_{jugador_obj.id}')
                if asignacion == 'local':
                    jugadores_equipo_local_ids.append(jugador_obj.id)
                elif asignacion == 'visitante':
                    jugadores_equipo_visitante_ids.append(jugador_obj.id)
            

            if partido.equipo_local and partido.equipo_local.tipo_equipo == 'PERMANENTE':
                messages.info(request, "Este partido ya tiene un equipo local permanente asignado. No se puede reasignar aquí.")
            elif partido.equipo_visitante and partido.equipo_visitante.tipo_equipo == 'PERMANENTE':
                messages.info(request, "Este partido ya tiene un equipo visitante permanente asignado. No se puede reasignar aquí.")
            else:
                sufijo_nombre = f"{partido.cancha.nombre_cancha[:10]}_{partido.fecha.strftime('%d%m%y%H%M')}"

                if partido.equipo_local: # Si ya existe un equipo de tipo PARTIDO para local
                    equipo_local = partido.equipo_local
                    equipo_local.nombre_equipo = f"Locales - {sufijo_nombre}" # Actualizar nombre por si acaso
                    equipo_local.save()
                else:
                    equipo_local = Equipo.objects.create(
                    nombre_equipo=f"Locales - {sufijo_nombre}",
                    capitan=partido.creador, tipo_equipo='PARTIDO',
                    partido_asociado=partido # Enlazar al partido
                    )
                equipo_local.jugadores.set(User.objects.filter(id__in=jugadores_equipo_local_ids))
                partido.equipo_local = equipo_local

                if partido.equipo_visitante: # Si ya existe un equipo de tipo PARTIDO para visitante
                    equipo_visitante = partido.equipo_visitante
                    equipo_visitante.nombre_equipo = f"Visitantes - {sufijo_nombre}"
                    equipo_visitante.save()
                else:
                    equipo_visitante = Equipo.objects.create(
                    nombre_equipo=f"Visitantes - {sufijo_nombre}",
                    capitan=partido.creador, tipo_equipo='PARTIDO',
                    partido_asociado=partido # Enlazar al partido
                    )  
                    equipo_visitante.jugadores.set(User.objects.filter(id__in=jugadores_equipo_visitante_ids))
                    partido.equipo_visitante = equipo_visitante
        
                partido.save()
                messages.success(request, "Equipos para el partido asignados/actualizados correctamente.")

            return redirect('detalle_partido', pk=partido.id_partido)
        
        else:
            # Si el formulario no es válido, re-renderizar la página con los errores
            # Es un poco más complejo pasar el form con errores de vuelta al DetailView
            # Una forma es guardar los errores en messages o re-renderizar el contexto.
            for field, errors in form_asignar.errors.items():
                for error in errors:
                    messages.error(request, f"Error en asignación: {error}")
            # Recargamos el contexto para que el formulario con errores se muestre
            context = self.get_context_data(**kwargs) # Obtener contexto base
            context['form_asignar_equipos'] = form_asignar # Sobrescribir con el form con errores
            return self.render_to_response(context)


    
class InscribirsePartidoView(LoginRequiredMixin, View):
    def post(self, request, *args, **kwargs):
        partido_id = kwargs.get('partido_id') # Asumiendo que pasas el ID del partido en la URL
        partido = get_object_or_404(Partido, id_partido=partido_id, estado='PROGRAMADO') # Usar id_partido
        usuario = request.user

        # Verificar si ya está inscrito (doble check, aunque el queryset de búsqueda ya lo excluye)
        if usuario in partido.jugadores.all():
            messages.warning(request, "Ya estás inscrito en este partido.")
            return redirect('buscar_partidos') # O a la página de detalle del partido

        # Verificar si hay plazas
        if partido.jugadores.count() >= partido.max_jugadores:
            messages.error(request, "Lo sentimos, este partido ya está lleno.")
            return redirect('buscar_partidos')

        # Crear la inscripción (o simplemente añadir al ManyToManyField)
        # Opción 1: Solo añadir al ManyToManyField 'jugadores' del Partido
        partido.jugadores.add(usuario)
        messages.success(request, f"¡Te has inscrito correctamente al partido en {partido.cancha.nombre_cancha}!")

        return redirect('buscar_partidos') # O a 'mis_partidos' o detalle del partido
    

    
class RegistrarResultadoPartidoView(LoginRequiredMixin, FormView):
    form_class = ResultadoPartidoForm
    template_name = 'partidos/registrar_resultado.html' 

    def dispatch(self, request, *args, **kwargs):
        """
        Asegura que solo el creador del partido pueda acceder y
        que el partido esté en un estado adecuado (PROGRAMADO o EN_CURSO).
        """
        self.partido = get_object_or_404(Partido, id_partido=kwargs['pk'])
        if self.partido.creador != request.user:
            messages.error(request, "No tienes permiso para registrar el resultado de este partido.")
            return redirect('detalle_partido', pk=self.partido.id_partido)
        if self.partido.estado == 'FINALIZADO':
            messages.info(request, "Este partido ya ha finalizado y tiene un resultado registrado.")
            return redirect('detalle_partido', pk=self.partido.id_partido)
        if self.partido.estado == 'CANCELADO':
            messages.warning(request, "No se puede registrar resultado para un partido cancelado.")
            return redirect('detalle_partido', pk=self.partido.id_partido)
        return super().dispatch(request, *args, **kwargs)

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['partido'] = self.partido
        context['titulo_pagina'] = f"Registrar Resultado para: Partido en {self.partido.cancha.nombre_cancha}"
        # Pre-rellenar el formulario si ya hay goles (aunque no debería si no está finalizado)
        if self.partido.goles_local is not None:
            context['form'].fields['goles_local'].initial = self.partido.goles_local
        if self.partido.goles_visitante is not None:
            context['form'].fields['goles_visitante'].initial = self.partido.goles_visitante
        return context

    def form_valid(self, form):
        goles_local = form.cleaned_data['goles_local']
        goles_visitante = form.cleaned_data['goles_visitante']

        partido = self.partido
        # Llamar al nuevo método en el modelo Partido
        partido.registrar_resultado_y_actualizar_stats(goles_local, goles_visitante)
        
        if partido.modalidad != 'AMISTOSO' and partido.equipo_local and partido.equipo_visitante:
            messages.success(self.request, "Resultado registrado y calificaciones ELO actualizadas.")
        elif partido.modalidad == 'AMISTOSO':
            messages.success(self.request, "Resultado del partido amistoso registrado (ELO no afectado).")
        else:
            messages.warning(self.request, "Resultado registrado, pero no se pudieron actualizar las calificaciones ELO (faltan equipos o es amistoso).")
        
        return redirect('detalle_partido', pk=partido.id_partido)

    def get_success_url(self):
        # Este método es llamado por FormView si no se especifica en form_valid un redirect
        # pero como ya hacemos redirect en form_valid, podemos omitirlo o hacerlo más genérico.
        return reverse_lazy('detalle_partido', kwargs={'pk': self.partido.id_partido})

================
File: app/templates/canchas/canchas_lista.html
================
{% extends 'base.html' %}
{% load static %}

{% block title %}{{ titulo_pagina|default:"Canchas Disponibles" }} - De Rabona{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/canchas/canchas_lista_styles.css' %}">
{% endblock %}

{% block content %}
<div class="canchas-container">
    <!-- Hero Section -->
    <div class="canchas-hero-section">
        <div class="hero-content">
            <div class="hero-icon">
                <i class="fas fa-map-marker-alt"></i>
            </div>
            <div class="hero-text">
                <h1 class="hero-title">{{ titulo_pagina|default:"Canchas Disponibles" }}</h1>
                <p class="hero-subtitle">Encuentra o registra las mejores canchas para tus partidos</p>
            </div>
        </div>
        
        <!-- Acciones del Header -->
        <div class="header-actions">
            <!-- Buscador -->
            <form method="get" action="{% url 'canchas_lista' %}" class="search-form">
                <div class="search-container">
                    <div class="search-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <input type="text" name="q" class="search-input" placeholder="Buscar canchas por nombre..." value="{{ request.GET.q }}">
                    <button class="search-btn" type="submit">
                        <span>Buscar</span>
                    </button>
                </div>
            </form>
            
            <!-- Botón Añadir Cancha -->
            <a href="{% url 'canchas_registrar' %}" class="btn btn-primary">
                <i class="fas fa-plus-circle"></i>
                <span>Añadir Cancha</span>
            </a>
        </div>
    </div>

    <!-- Mensajes del Sistema -->
    {% if messages %}
        <div class="messages-section">
            {% for message in messages %}
                <div class="custom-alert alert-{{ message.tags }}">
                    <div class="alert-icon">
                        <i class="fas fa-{% if message.tags == 'success' %}check-circle{% elif message.tags == 'error' or message.tags == 'danger' %}exclamation-triangle{% elif message.tags == 'warning' %}exclamation-circle{% else %}info-circle{% endif %}"></i>
                    </div>
                    <div class="alert-content">
                        <span>{{ message }}</span>
                    </div>
                    <button type="button" class="alert-dismiss" onclick="this.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <!-- Sección Principal -->
    <div class="canchas-section">
        <!-- Header de Sección -->
        {% if canchas_list %}
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-futbol"></i>
                    <span>Canchas Disponibles</span>
                </h2>
                <div class="section-meta">
                    <span class="canchas-count">{{ canchas_list|length }} cancha{{ canchas_list|length|pluralize:",s" }}</span>
                </div>
            </div>
        {% endif %}

        <!-- Grid de Canchas -->
        <div class="canchas-grid">
            {% if canchas_list %}
                {% for cancha in canchas_list %}
                <div class="cancha-card">
                    <!-- Imagen de la Cancha -->
                    <div class="cancha-image">
                        <img src="{% if cancha.imagen %}{{ cancha.imagen.url }}{% else %}{% static 'images/cancha_default.jpg' %}{% endif %}" 
                             alt="{{ cancha.nombre_cancha }}" 
                             class="cancha-img">
                        
                        <!-- Overlay con Título -->
                        <div class="image-overlay">
                            <h3 class="cancha-title">{{ cancha.nombre_cancha }}</h3>
                        </div>
                        
                        <!-- Badge de Propiedad -->
                        <div class="propiedad-badge {% if cancha.propiedad == 'PRIVADA' %}badge-privada{% else %}badge-publica{% endif %}">
                            <i class="fas {% if cancha.propiedad == 'PRIVADA' %}fa-lock{% else %}fa-futbol{% endif %}"></i>
                            <span>{{ cancha.get_propiedad_display }}</span>
                        </div>
                    </div>

                    <!-- Contenido de la Cancha -->
                    <div class="cancha-content">
                        <!-- Información Básica -->
                        <div class="cancha-info">
                            <div class="info-item">
                                <div class="info-icon">
                                    <i class="fas fa-map-marker-alt"></i>
                                </div>
                                <span class="info-text">{{ cancha.ubicacion }}</span>
                            </div>
                            
                            <div class="info-item">
                                <div class="info-icon">
                                    <i class="fas fa-futbol"></i>
                                </div>
                                <span class="info-text">{{ cancha.get_tipo_display }}</span>
                            </div>
                            
                            <div class="info-item">
                                <div class="info-icon">
                                    <i class="fas fa-layer-group"></i>
                                </div>
                                <span class="info-text">{{ cancha.get_superficie_display }}</span>
                            </div>
                            
                            {% if cancha.costo_partido is not None %}
                            <div class="info-item">
                                <div class="info-icon">
                                    <i class="fas fa-euro-sign"></i>
                                </div>
                                <span class="info-text">
                                    {% if cancha.costo_partido > 0 %}
                                        {{ cancha.costo_partido|floatformat:2 }}€
                                    {% else %}
                                        Gratis
                                    {% endif %}
                                </span>
                            </div>
                            {% endif %}
                        </div>

                        <!-- Descripción -->
                        <div class="cancha-descripcion">
                            <p class="descripcion-text">{{ cancha.descripcion|truncatewords:20|default:"Sin descripción disponible." }}</p>
                        </div>

                        <!-- Acciones -->
                        <div class="cancha-actions">
                            <a href="{% url 'detalle_cancha' pk_cancha=cancha.id_cancha %}" class="btn btn-secondary">
                                <i class="fas fa-info-circle"></i>
                                <span>Detalles</span>
                            </a>
                            {% if cancha.propiedad == 'PRIVADA' %}
                            <a href="#" class="btn btn-primary">
                                <i class="fas fa-calendar-alt"></i>
                                <span>Reservar</span>
                            </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <!-- Estado Vacío -->
                <div class="empty-state">
                    <div class="empty-icon">
                        <i class="fas fa-search-location"></i>
                    </div>
                    <div class="empty-content">
                        <h3 class="empty-title">No hay canchas disponibles</h3>
                        <p class="empty-desc">
                            Parece que no hay canchas que coincidan con tu búsqueda o aún no se han registrado.
                            <br>¡Sé el primero en añadir una!
                        </p>
                        <div class="empty-actions">
                            <a href="{% url 'canchas_registrar' %}" class="btn btn-primary">
                                <i class="fas fa-plus-circle"></i>
                                <span>Añadir Nueva Cancha</span>
                            </a>
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>

        <!-- Paginación -->
        {% if is_paginated %}
            <div class="pagination-section">
                <nav class="pagination-nav" aria-label="Navegación de páginas">
                    <div class="pagination">
                        {% if page_obj.has_previous %}
                            <a class="page-link page-nav" href="?page=1{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">
                                <i class="fas fa-angle-double-left"></i>
                                <span>Primera</span>
                            </a>
                            <a class="page-link page-nav" href="?page={{ page_obj.previous_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">
                                <i class="fas fa-angle-left"></i>
                                <span>Anterior</span>
                            </a>
                        {% endif %}

                        <div class="page-numbers">
                            {% for num in page_obj.paginator.page_range %}
                                {% if page_obj.number == num %}
                                    <span class="page-link active">{{ num }}</span>
                                {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
                                    <a class="page-link" href="?page={{ num }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">{{ num }}</a>
                                {% endif %}
                            {% endfor %}
                        </div>

                        {% if page_obj.has_next %}
                            <a class="page-link page-nav" href="?page={{ page_obj.next_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">
                                <span>Siguiente</span>
                                <i class="fas fa-angle-right"></i>
                            </a>
                            <a class="page-link page-nav" href="?page={{ page_obj.paginator.num_pages }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">
                                <span>Última</span>
                                <i class="fas fa-angle-double-right"></i>
                            </a>
                        {% endif %}
                    </div>
                </nav>
            </div>
        {% endif %}
    </div>
</div>

<!-- Scripts para Interactividad -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    initializeAnimations();
    addInteractiveEffects();
    setupSearch();
    handleMessages();

    function initializeAnimations() {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-in');
                }
            });
        }, { threshold: 0.1 });

        // Animar elementos principales
        document.querySelectorAll('.canchas-hero-section, .cancha-card, .empty-state').forEach((el, index) => {
            setTimeout(() => {
                observer.observe(el);
            }, index * 100);
        });
    }

    function addInteractiveEffects() {
        // Efectos hover para tarjetas
        document.querySelectorAll('.cancha-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-6px) scale(1.02)';
                this.style.boxShadow = '0 16px 40px rgba(247, 131, 92, 0.15)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
                this.style.boxShadow = '';
            });
        });

        // Efectos para botones
        document.querySelectorAll('.btn').forEach(btn => {
            btn.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-2px)';
            });
            
            btn.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });
    }

    function setupSearch() {
        const searchInput = document.querySelector('.search-input');
        const searchContainer = document.querySelector('.search-container');
        
        if (searchInput && searchContainer) {
            searchInput.addEventListener('focus', function() {
                searchContainer.classList.add('search-focused');
            });
            
            searchInput.addEventListener('blur', function() {
                searchContainer.classList.remove('search-focused');
            });
        }
    }

    function handleMessages() {
        const alerts = document.querySelectorAll('.custom-alert');
        alerts.forEach(alert => {
            setTimeout(() => {
                alert.style.opacity = '0';
                alert.style.transform = 'translateY(-20px)';
                setTimeout(() => {
                    alert.remove();
                }, 300);
            }, 5000);
        });
    }

    // Lazy loading para imágenes
    const imageObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                img.style.opacity = '1';
                imageObserver.unobserve(img);
            }
        });
    });

    document.querySelectorAll('.cancha-img').forEach(img => {
        img.style.opacity = '0';
        img.style.transition = 'opacity 0.5s ease';
        imageObserver.observe(img);
    });
});
</script>
{% endblock %}

================
File: app/templates/components/top_nav.html
================
<!-- Top Navigation Bar -->
<nav id="top-navbar" class="navbar navbar-expand-lg navbar-dark">
    <div class="container-fluid">
        <!-- Sidebar Toggle -->
        <button id="top-navbar-toggle" class="d-lg-none me-3" type="button">
            <i class="fas fa-bars"></i>
        </button>
        
        <!-- Search Bar -->
        <form id="top-navbar-search-form" class="d-flex flex-grow-1 me-auto mb-2 mb-lg-0 mx-lg-3" method="GET" action="{% url 'buscar_partidos' %}">
            <div class="input-group">
                <span id="top-navbar-search-icon" class="input-group-text">
                    <i class="fas fa-search"></i>
                </span>
                <input 
                    id="top-navbar-search-input" 
                    type="text" 
                    class="form-control" 
                    placeholder="Buscar partidos, canchas, jugadores..." 
                    name="q"
                    value="{{ request.GET.q }}"
                >
            </div>
        </form>
        
        <!-- User dropdown -->
        <div id="top-navbar-user-dropdown" class="dropdown">
            <a id="top-navbar-user-toggle" class="d-flex align-items-center text-decoration-none dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                {% if current_user_avatar_url %}
                    <img src="{{ current_user_avatar_url }}" id="top-navbar-user-avatar" alt="Avatar" class="rounded-circle me-2">
                {% else %}
                    <img src="https://via.placeholder.com/32" id="top-navbar-user-avatar" alt="Avatar" class="rounded-circle me-2">
                {% endif %}
                <span id="top-navbar-user-name">{{ current_user_nombre|default:user.username }}</span>
                <i class="fas fa-chevron-down ms-2"></i>
            </a>
            <ul id="top-navbar-dropdown-menu" class="dropdown-menu dropdown-menu-end text-small" aria-labelledby="top-navbar-user-toggle">
                <li>
                    <a id="top-navbar-profile-link" class="dropdown-item" href="{% url 'perfil' %}">
                        <i class="fas fa-user me-2"></i>
                        Mi perfil
                    </a>
                </li>
                
                <li><hr id="top-navbar-divider" class="dropdown-divider"></li>
                <li>
                    <form action="{% url 'logout' %}" method="post" class="dropdown-item p-0">
                        {% csrf_token %}
                        <button id="top-navbar-logout-btn" type="submit" class="w-100 text-start">
                            <i class="fas fa-sign-out-alt me-2"></i>
                            Cerrar Sesión
                        </button>
                    </form>
                </li>
            </ul>
        </div>
    </div>
</nav>

================
File: app/templates/partidos/buscar_partidos.html
================
{% extends 'base.html' %}
{% load static %}

{% block title %}{{ titulo_pagina|default:"Buscar Partidos" }} - De Rabona{% endblock %}

{% block extra_css %}
<link href="{% static 'css/partidos/buscar_partidos_styles.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="partidos-container" id="buscar-partidos-container">
    <!-- Hero Section -->
    <section class="partidos-hero-section" id="buscar-hero-section">
        <div class="hero-content">
            <div class="hero-icon">
                <i class="fas fa-search"></i>
            </div>
            <div class="hero-text">
                <h1 class="hero-title">{{ titulo_pagina|default:"Partidos Disponibles" }}</h1>
                <p class="hero-subtitle">Asómate a la ventana y busca si están los chavales en las pistas</p>
            </div>
        </div>
        
        <div class="header-actions">
            <a href="{% url 'crear_partidos' %}" class="btn btn-primary">
                <i class="fas fa-plus"></i>
                <span>Crear Partido</span>
            </a>
        </div>
    </section>

    <!-- Messages -->
    {% if messages %}
        <section class="messages-section" id="buscar-messages-section">
            {% for message in messages %}
                <div class="custom-alert alert-{{ message.tags }}">
                    <div class="alert-icon">
                        {% if message.tags == 'success' %}
                            <i class="fas fa-check-circle"></i>
                        {% elif message.tags == 'error' or message.tags == 'danger' %}
                            <i class="fas fa-exclamation-circle"></i>
                        {% elif message.tags == 'warning' %}
                            <i class="fas fa-exclamation-triangle"></i>
                        {% else %}
                            <i class="fas fa-info-circle"></i>
                        {% endif %}
                    </div>
                    <div class="alert-content">{{ message }}</div>
                    <button class="alert-dismiss" onclick="this.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            {% endfor %}
        </section>
    {% endif %}

    <!-- Stats Section -->
    {% if partidos_info_list %}
        <section class="stats-section" id="buscar-stats-section">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-futbol"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">{{ partidos_info_list|length }}</div>
                        <div class="stat-label">Partidos Disponibles</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">
                            {% for item in partidos_info_list %}{{ item.partido.jugadores.count|add:0 }}{% if not forloop.last %} + {% endif %}{% endfor %}
                        </div>
                        <div class="stat-label">Jugadores Inscritos</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">
                            {% regroup partidos_info_list by partido.cancha.ubicacion as ubicaciones %}
                            {{ ubicaciones|length }}
                        </div>
                        <div class="stat-label">Ubicaciones</div>
                    </div>
                </div>
            </div>
        </section>
    {% endif %}

    <!-- Partidos Section -->
    <section class="partidos-section" id="buscar-partidos-section">
        {% if partidos_info_list %}
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-calendar-alt"></i>
                    Próximos Partidos
                </h2>
                <div class="section-meta">
                    <span class="partidos-count">{{ partidos_info_list|length }} partido{{ partidos_info_list|length|pluralize:"s" }}</span>
                </div>
            </div>
            
            <div class="partidos-grid">
                {% for item_info in partidos_info_list %}
                    {% with partido=item_info.partido es_creador=item_info.es_creador esta_inscrito=item_info.esta_inscrito inscripcion_esta_abierta=item_info.inscripcion_esta_abierta plazas_disponibles=item_info.plazas_disponibles %}
                    <div class="partido-card {% if es_creador %}partido-owner{% elif esta_inscrito %}partido-joined{% endif %}">
                        <!-- Partido Header -->
                        <div class="partido-header">
                            <div class="partido-status">
                                {% if es_creador %}
                                    <span class="status-badge status-owner">
                                        <i class="fas fa-crown"></i>
                                        Tu Partido
                                    </span>
                                {% elif esta_inscrito %}
                                    <span class="status-badge status-joined">
                                        <i class="fas fa-check"></i>
                                        Participando
                                    </span>
                                {% elif not inscripcion_esta_abierta and partido.jugadores.count >= partido.max_jugadores %}
                                    <span class="status-badge status-full">
                                        <i class="fas fa-users"></i>
                                        Completo
                                    </span>
                                {% elif not inscripcion_esta_abierta %}
                                    <span class="status-badge status-closed">
                                        <i class="fas fa-lock"></i>
                                        Cerrado
                                    </span>
                                {% else %}
                                    <span class="status-badge status-available">
                                        <i class="fas fa-clock"></i>
                                        Disponible
                                    </span>
                                {% endif %}
                            </div>
                            
                            <div class="partido-capacity">
                                <span class="capacity-text">{{ partido.jugadores.count }}/{{ partido.max_jugadores }}</span>
                                <div class="capacity-bar">
                                    <div class="capacity-fill" style="width: {% widthratio partido.jugadores.count partido.max_jugadores 100 %}%"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Partido Content -->
                        <div class="partido-content">
                            <h3 class="partido-title">
                                <a href="{% url 'detalle_partido' pk=partido.id_partido %}" class="partido-link">
                                    {{ partido.cancha.nombre_cancha }}
                                </a>
                            </h3>
                            
                            <div class="partido-details">
                                <div class="info-item">
                                    <div class="info-icon">
                                        <i class="fas fa-calendar"></i>
                                    </div>
                                    <div class="info-text">
                                        <div class="info-label">Fecha y Hora</div>
                                        <div class="info-value">{{ partido.fecha|date:"d M Y, H:i" }}h</div>
                                    </div>
                                </div>
                                
                                <div class="info-item">
                                    <div class="info-icon">
                                        <i class="fas fa-clock"></i>
                                    </div>
                                    <div class="info-text">
                                        <div class="info-label">Límite Inscripción</div>
                                        <div class="info-value">{{ partido.fecha_limite_inscripcion_efectiva|date:"d/m H:i" }}h</div>
                                    </div>
                                </div>
                                
                                <div class="info-item">
                                    <div class="info-icon">
                                        <i class="fas fa-map-marker-alt"></i>
                                    </div>
                                    <div class="info-text">
                                        <div class="info-label">Ubicación</div>
                                        <div class="info-value">{{ partido.cancha.ubicacion }}</div>
                                    </div>
                                </div>
                                
                                <div class="info-item">
                                    <div class="info-icon">
                                        <i class="fas fa-futbol"></i>
                                    </div>
                                    <div class="info-text">
                                        <div class="info-label">Modalidad</div>
                                        <div class="info-value">{{ partido.get_tipo_display }}</div>
                                    </div>
                                </div>
                                
                                <div class="info-item">
                                    <div class="info-icon">
                                        <i class="fas fa-signal"></i>
                                    </div>
                                    <div class="info-text">
                                        <div class="info-label">Nivel</div>
                                        <div class="info-value">{{ partido.get_nivel_display|default:"Abierto" }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Partido Actions -->
                        <div class="partido-actions">
                            {% if es_creador %}
                                <a href="{% url 'detalle_partido' pk=partido.id_partido %}" class="btn btn-primary">
                                    <i class="fas fa-cog"></i>
                                    <span>Gestionar</span>
                                </a>
                            {% elif esta_inscrito %}
                                <a href="{% url 'detalle_partido' pk=partido.id_partido %}" class="btn btn-secondary">
                                    <i class="fas fa-eye"></i>
                                    <span>Ver Detalles</span>
                                </a>
                            {% elif inscripcion_esta_abierta %}
                                <form action="{% url 'inscribirse_partido' partido_id=partido.id_partido %}" method="post" class="join-form">
                                    {% csrf_token %}
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-user-plus"></i>
                                        <span>Unirse</span>
                                    </button>
                                </form>
                            {% else %}
                                <div class="btn btn-disabled">
                                    <i class="fas fa-ban"></i>
                                    <span>No Disponible</span>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    {% endwith %}
                {% endfor %}
            </div>
            
            <!-- Pagination -->
            {% if is_paginated %}
                <nav class="pagination-section" id="buscar-pagination">
                    <div class="pagination-content">
                        {% if page_obj.has_previous %}
                            <a href="?page=1" class="page-link">
                                <i class="fas fa-angle-double-left"></i>
                                <span>Primera</span>
                            </a>
                            <a href="?page={{ page_obj.previous_page_number }}" class="page-link">
                                <i class="fas fa-angle-left"></i>
                                <span>Anterior</span>
                            </a>
                        {% endif %}
                        
                        <div class="page-info">
                            <span class="current-page">{{ page_obj.number }}</span>
                            <span class="page-separator">de</span>
                            <span class="total-pages">{{ page_obj.paginator.num_pages }}</span>
                        </div>
                        
                        {% if page_obj.has_next %}
                            <a href="?page={{ page_obj.next_page_number }}" class="page-link">
                                <span>Siguiente</span>
                                <i class="fas fa-angle-right"></i>
                            </a>
                            <a href="?page={{ page_obj.paginator.num_pages }}" class="page-link">
                                <span>Última</span>
                                <i class="fas fa-angle-double-right"></i>
                            </a>
                        {% endif %}
                    </div>
                </nav>
            {% endif %}
        {% else %}
            <!-- Empty State -->
            <div class="empty-state">
                <div class="empty-icon">
                    <i class="fas fa-search"></i>
                </div>
                <div class="empty-content">
                    <h3 class="empty-title">No se encontraron partidos</h3>
                    <p class="empty-desc">
                        No hay partidos disponibles que coincidan con tus criterios actuales.
                        ¿Por qué no crear el primero?
                    </p>
                    <div class="empty-actions">
                        <a href="{% url 'crear_partidos' %}" class="btn btn-primary">
                            <i class="fas fa-plus"></i>
                            <span>Crear Primer Partido</span>
                        </a>
                        <a href="{% url 'buscar_partidos' %}" class="btn btn-secondary">
                            <i class="fas fa-refresh"></i>
                            <span>Actualizar Búsqueda</span>
                        </a>
                    </div>
                </div>
            </div>
        {% endif %}
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Animaciones de entrada
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.classList.add('animate-in');
                }, index * 100);
                observer.unobserve(entry.target);
            }
        });
    }, observerOptions);

    // Observar cards
    document.querySelectorAll('.partido-card').forEach(card => {
        observer.observe(card);
    });

    // Confirmación de inscripción
    document.querySelectorAll('.join-form').forEach(form => {
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const confirmation = confirm('¿Confirmas tu participación en este partido?');
            
            if (confirmation) {
                const button = this.querySelector('.btn');
                const originalContent = button.innerHTML;
                button.innerHTML = '<i class="fas fa-spinner fa-spin"></i><span>Inscribiendo...</span>';
                button.disabled = true;
                
                setTimeout(() => {
                    this.submit();
                }, 500);
            }
        });
    });

    // Auto-dismiss alerts
    setTimeout(() => {
        document.querySelectorAll('.custom-alert').forEach(alert => {
            alert.style.opacity = '0';
            alert.style.transform = 'translateY(-10px)';
            setTimeout(() => alert.remove(), 300);
        });
    }, 5000);
});
</script>
{% endblock %}

================
File: app/templates/registration/login.html
================
{% load static %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesión - FieldConnect</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="{% static 'css/auth/login_styles.css' %}" rel="stylesheet">

</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="{% url 'landing' %}">FieldConnect</a>
            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <i class="fas fa-bars text-white"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="navbar-nav ms-auto">
                    <a class="nav-btn-register" href="{% url 'registro' %}">
                        <i class="fas fa-user-plus"></i>
                        Registrarse
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Login Section -->
    <section class="login-section">
        <!-- Background Elements -->
        <div class="login-bg-pattern"></div>
        
        <!-- Hero Image -->
        <div class="login-hero-image d-none d-xl-block">
            <img src="https://sportrenders.com/wp-content/uploads/2023/11/Ronaldinho-Render-PNG-Barcelona-Imagen-Transparente-Sport-Renders.png" alt="Ronaldinho" loading="lazy">
            <div class="login-image-glow"></div>
        </div>
        
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-10 col-lg-8 col-xl-6">
                    <div class="login-card fade-in">
                        <div class="login-card-header">
                            <h1 class="login-title">Bienvenido de nuevo</h1>
        
                            <p class="login-subtitle">
                                Ingresa tus datos para acceder a tu cuenta y conectarte con jugadores de tu zona
                            </p>
                        </div>
                        
                        <form action="{% url 'login' %}" method="post" id="loginForm" class="login-form">
                            {% csrf_token %}
                            
                            <div class="form-grid">
                                {{ form | crispy }}
                            </div>
                            
                            <div class="login-remember">
                                <input type="checkbox" class="form-check-input" id="remember-me">
                                <label class="form-check-label" for="remember-me">Recordarme</label>
                            </div>
                            
                            <button type="submit" class="btn btn-login">
                                <i class="fas fa-sign-in-alt"></i>
                                Iniciar sesión
                            </button>
                            
                            <div class="login-footer">
                                <p>¿No tienes una cuenta? 
                                    <a href="{% url 'registro' %}" class="login-link">Regístrate ahora</a>
                                </p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="login-footer-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                    <p class="footer-text">© 2025 FieldConnect. Simple por diseño.</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <p class="footer-text">
                        Reviviendo el fútbol callejero 
                        <i class="fas fa-futbol gradient-text mx-1"></i>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script>
        // Scroll animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });
    </script>
</body>
</html>

================
File: app/templates/base.html
================
{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}De Rabona{% endblock %}</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- CSS Base -->
    <link href="{% static 'css/global/base_styles.css' %}" rel="stylesheet">
    
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Top Navbar -->
    <nav class="main-navbar" id="base-main-top-navbar">
        <div class="navbar-container" id="base-navbar-container">
            <!-- Mobile Menu Toggle -->
            <button class="navbar-toggle d-lg-none" id="base-main-navbar-toggle" type="button">
                <i class="fas fa-bars"></i>
            </button>

            <!-- Brand (solo móvil) -->
            <a class="navbar-brand d-lg-none" id="base-navbar-brand" href="{% url 'home' %}">
                <div class="brand-logo">DR</div>
                <span class="brand-text">De Rabona</span>
            </a>

            <!-- Spacer para empujar el contenido hacia la derecha -->
            <div class="navbar-spacer" id="base-navbar-spacer"></div>

            <!-- User Section -->
            <div class="navbar-user-section" id="base-navbar-user-section">
                <!-- Notifications -->
                <div class="navbar-notifications" id="base-navbar-notifications">
                    <button class="notification-btn" id="base-notification-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </button>
                </div>

                <!-- User Menu -->
                <div class="dropdown">
                    <button class="navbar-user" id="base-navbar-user" data-bs-toggle="dropdown" aria-expanded="false">
                        <img src="{{ current_user_avatar_url }}" 
                             alt="Avatar" class="user-avatar">
                        <div class="user-info d-none d-md-block">
                            <div class="user-name">{{ user.nombre|default:user.username }}</div>
                            <div class="user-role">{{ user.posicion|default:"Jugador" }}</div>
                        </div>
                        <i class="fas fa-chevron-down user-chevron"></i>
                    </button>
                    
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><a class="dropdown-item" href="{% url 'perfil' %}">
                            <i class="fas fa-user me-2"></i>Mi Perfil
                        </a></li>
                        <li><a class="dropdown-item" href="#">
                            <i class="fas fa-cog me-2"></i>Configuración
                        </a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="{% url 'logout' %}">
                            <i class="fas fa-sign-out-alt me-2"></i>Cerrar Sesión
                        </a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- Sidebar -->
    <aside class="main-sidebar" id="base-main-dashboard-sidebar">
        <div class="sidebar-container" id="base-sidebar-container">
            <!-- Brand Section -->
            <div class="sidebar-brand" id="base-brand-section">
                <div class="brand-logo">DR</div>
                <a href="{% url 'home' %}" class="brand-text">De Rabona</a>
            </div>

            <!-- User Profile Card -->
            <div class="sidebar-user-profile" id="base-user-profile">
                <img src="{{ current_user_avatar_url }}" 
                     alt="Avatar" class="user-avatar-sidebar">
                <div class="user-info">
                    <h6>{{ user.nombre|default:user.username }}</h6>
                    <div class="user-position">{{ user.posicion|default:"Jugador" }}</div>
                    <div class="user-elo">
                        <i class="fas fa-star"></i>
                        {{ user.calificacion|floatformat:0|default:"1500" }} ELO
                    </div>
                </div>
            </div>

            <!-- Navigation Menu -->
            <nav class="sidebar-nav" id="base-nav-menu">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="{% url 'home' %}" class="nav-link {% if request.resolver_match.url_name == 'home' %}active{% endif %}">
                            <i class="fas fa-home"></i>
                            <span>Inicio</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'buscar_partidos' %}" class="nav-link {% if 'partidos' in request.resolver_match.url_name %}active{% endif %}">
                            <i class="fas fa-search"></i>
                            <span>Buscar Partidos</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'crear_partidos' %}" class="nav-link {% if 'crear' in request.resolver_match.url_name %}active{% endif %}">
                            <i class="fas fa-plus"></i>
                            <span>Crear Partido</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'mis_partidos' %}" class="nav-link {% if 'mis_partidos' in request.resolver_match.url_name %}active{% endif %}">
                            <i class="fas fa-calendar"></i>
                            <span>Mis Partidos</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'lista_mis_equipos' %}" class="nav-link {% if 'equipos' in request.resolver_match.url_name %}active{% endif %}">
                            <i class="fas fa-users"></i>
                            <span>Mis Equipos</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'canchas_lista' %}" class="nav-link {% if 'canchas' in request.resolver_match.url_name %}active{% endif %}">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Canchas</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'estadisticas_generales' %}" class="nav-link {% if 'estadisticas' in request.resolver_match.url_name %}active{% endif %}">
                            <i class="fas fa-chart-bar"></i>
                            <span>Estadísticas</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'perfil' %}" class="nav-link {% if 'perfil' in request.resolver_match.url_name %}active{% endif %}">
                            <i class="fas fa-user"></i>
                            <span>Mi Perfil</span>
                        </a>
                    </li>
                    {% if user.is_superuser %}
                    <li class="nav-item">
                        <a href="{% url 'dashboard' %}" class="nav-link {% if 'perfil' in request.resolver_match.url_name %}active{% endif %}">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    {% endif %}
                </ul>
            </nav>

            <!-- Logout Section -->
            <div class="sidebar-logout" id="base-logout-section">
                <form method="post" action="{% url 'logout' %}">
                    {% csrf_token %}
                    <button type="submit" class="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Cerrar Sesión</span>
                    </button>
                </form>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content" id="base-main-content">
        {% block content %}
        {% endblock %}
    </main>

    <!-- Sidebar Overlay (móvil) -->
    <div class="sidebar-overlay d-lg-none" id="base-sidebar-overlay"></div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Base JS -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Sidebar toggle functionality
            const sidebarToggle = document.getElementById('base-main-navbar-toggle');
            const sidebar = document.getElementById('base-main-dashboard-sidebar');
            const overlay = document.getElementById('base-sidebar-overlay');
            
            if (sidebarToggle && sidebar && overlay) {
                sidebarToggle.addEventListener('click', function() {
                    sidebar.classList.toggle('show');
                    overlay.classList.toggle('show');
                    document.body.classList.toggle('sidebar-open');
                });

                overlay.addEventListener('click', function() {
                    sidebar.classList.remove('show');
                    overlay.classList.remove('show');
                    document.body.classList.remove('sidebar-open');
                });
            }

            // Close sidebar on window resize
            window.addEventListener('resize', function() {
                if (window.innerWidth >= 992) {
                    sidebar?.classList.remove('show');
                    overlay?.classList.remove('show');
                    document.body.classList.remove('sidebar-open');
                }
            });

            // Smooth scroll to top on navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function() {
                    if (window.innerWidth < 992) {
                        sidebar?.classList.remove('show');
                        overlay?.classList.remove('show');
                        document.body.classList.remove('sidebar-open');
                    }
                });
            });
        });
    </script>

    {% block extra_js %}{% endblock %}
</body>
</html>

================
File: app/views/__init__.py
================
from .canchas_views import CanchasView, RegistrarCanchaView, DetalleCanchaView
from .commons_views import Landing, Home, DashboardAdmin, DashboardAdminVoice
from .partido_views import CrearPartidos, BuscarPartidos,DetallePartidoView, InscribirsePartidoView, RegistrarResultadoPartidoView
from .user_views import UserRegister,Perfil, UserUpdateProfile
from .equipo_views import CrearEquipoPermanenteView, MisEquiposListView, DetalleEquipoView, EditarEquipoPermanenteView
from .estadisticas_views import EstadisticasView
from .mis_partidos_views import MisPartidosView


__all__ = [
    "CanchasView",
    "RegistrarCanchaView",
    "DetalleCanchaView",
    "Landing",
    "Home",
    "DashboardAdmin",
    "DashboardAdminVoice",
    "CrearPartidos",
    "BuscarPartidos",
    "DetallePartidoView",
    "InscribirsePartidoView",
    "RegistrarResultadoPartidoView",
    "UserRegister",
    "Perfil",
    "UserUpdateProfile",
    "CrearEquipoPermanenteView",
    "MisEquiposListView",
    "DetalleEquipoView",
    "EditarEquipoPermanenteView",
    "MisPartidosView",
    "EstadisticasView"
]

================
File: app/views/commons_views.py
================
from django.views.generic import TemplateView
from django.contrib.auth.mixins import LoginRequiredMixin
from django.utils import timezone
from app.models import Partido, User
from django.db.models import Q

# LANDING
class Landing(TemplateView):
    template_name = 'global/landing_page.html'


#HOME
class Home(LoginRequiredMixin, TemplateView):
    template_name = 'global/home.html'

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        usuario_actual = self.request.user
        ahora = timezone.now()

        # 1. Información del Usuario (ya disponible como {{ user }} en el template)
        context['titulo_pagina'] = f"Bienvenido, {usuario_actual.nombre}"

        # 2. Próximos Partidos del Usuario (simplificado, mostrar 2-3)
        proximos_partidos_query = Partido.objects.filter(
            Q(jugadores=usuario_actual) | Q(creador=usuario_actual),
            estado__in=['PROGRAMADO', 'EN_CURSO'],
            fecha__gte=ahora
        ).distinct().select_related('cancha').order_by('fecha')[:3] # Mostrar los próximos 3

        proximos_partidos_info = []
        for partido in proximos_partidos_query:
            proximos_partidos_info.append({
                'partido': partido,
                'es_creador': (partido.creador == usuario_actual),
                'plazas_disponibles': partido.max_jugadores - partido.jugadores.count(),
                'inscripcion_esta_abierta': partido.inscripcion_abierta
            })
        context['proximos_partidos_dashboard'] = proximos_partidos_info
        
        # 3. Actividad Reciente
        ultimo_partido_jugado = Partido.objects.filter(
        Q(jugadores=usuario_actual) | Q(creador=usuario_actual),
        estado='FINALIZADO'
        ).distinct().order_by('-fecha').first()
        context['ultimo_partido_jugado'] = ultimo_partido_jugado



        return context
    
class DashboardAdmin(TemplateView):
    template_name = 'secret/dashboard.html'

class DashboardAdminVoice(TemplateView):
    template_name = 'secret/dashboard_voice.html'

================
File: app/templates/components/nav.html
================
<!-- Sidebar Navigation Component -->
<div id="dashboard-sidebar" class="d-flex flex-column flex-shrink-0">
    <!-- Logo and brand -->
    <div id="dashboard-brand-section">
        <div id="dashboard-brand-logo">
            DR
        </div>
        <a href="{% url 'home' %}" id="dashboard-brand-text">De Rabona</a>
    </div>

    <!-- User profile preview -->
    <div id="dashboard-user-profile">
        {% if current_user_avatar_url %}
            <img src="{{ current_user_avatar_url }}" id="dashboard-user-avatar" alt="Avatar">
        {% else %}
            <img src="https://via.placeholder.com/48" id="dashboard-user-avatar" alt="Avatar"> 
        {% endif %}
        <div id="dashboard-user-info">
            <h6>{{ user.nombre }}</h6>
            <span id="dashboard-user-position">{{ current_user_posicion }}</span>
        </div>
    </div>

    <!-- Navigation menu -->
    <ul id="dashboard-nav-menu">
        <li class="dashboard-nav-item">
            <a href="{% url 'home' %}" class="dashboard-nav-link dashboard-nav-link-active" aria-current="page">
                <i class="fas fa-home"></i>
                Inicio
            </a>
        </li>
        <li class="dashboard-nav-item">
            <a href="{% url 'buscar_partidos' %}" class="dashboard-nav-link">
                <i class="fas fa-search"></i>
                Buscar partidos
            </a>
        </li>
        <li class="dashboard-nav-item">
            <a href="{% url 'crear_partidos' %}" class="dashboard-nav-link">
                <i class="fas fa-plus-circle"></i>
                Crear partido
            </a>
        </li>
        <li class="dashboard-nav-item">
            <a href="{% url 'estadisticas_generales' %}" class="dashboard-nav-link">
                <i class="fas fa-chart-line"></i>
                Estadísticas
            </a>
        </li>
        <li class="dashboard-nav-item">
            <a href="{% url 'lista_mis_equipos' %}" class="dashboard-nav-link">
                <i class="fas fa-users"></i>
                Mis equipos
            </a>
        </li>
        <li class="dashboard-nav-item">
            <a href="{% url 'mis_partidos' %}" class="dashboard-nav-link">
                <i class="fas fa-calendar-alt"></i>
                Mis partidos
            </a>
        </li>
        <li class="dashboard-nav-item">
            <a href="{% url 'canchas_lista' %}" class="dashboard-nav-link">
                <i class="fas fa-map-marker-alt"></i>
                Canchas
            </a>
        </li>
    </ul>

    <!-- Settings and logout -->
    <div id="dashboard-logout-section">
        <form action="{% url 'logout' %}" method="post" class="w-100">
            {% csrf_token %}
            <button type="submit" id="dashboard-btn-logout">
                <i class="fas fa-sign-out-alt"></i>
                Cerrar Sesión
            </button>
        </form>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Obtener todos los enlaces de navegación
        const navLinks = document.querySelectorAll('#dashboard-sidebar .dashboard-nav-link');
        
        // Obtener la URL actual
        const currentPath = window.location.pathname;
        
        // Primero, quitar la clase active de todos los enlaces
        navLinks.forEach(link => {
            link.classList.remove('dashboard-nav-link-active');
        });
        
        // Caso especial: Página de inicio (cuando la URL es "/" o contiene "/home")
        if (currentPath.includes('/home')) {
            const homeLink = document.querySelector('#dashboard-sidebar .dashboard-nav-link i.fas.fa-home').closest('.dashboard-nav-link');
            if (homeLink) {
                homeLink.classList.add('dashboard-nav-link-active');
                return;
            }
        }
        
        // Para otras páginas, buscar coincidencias por URL
        const routeMappings = {
            '/buscar_partidos': '.fas.fa-search',
            '/crear_partidos': '.fas.fa-plus-circle',
            '/estadisticas': '.fas.fa-chart-line',
            '/equipos': '.fas.fa-users',
            '/mis_partidos': '.fas.fa-calendar-alt',
            '/canchas': '.fas.fa-map-marker-alt'
        };
        
        // Buscar coincidencia de ruta
        for (const [route, iconSelector] of Object.entries(routeMappings)) {
            if (currentPath.includes(route)) {
                const link = document.querySelector(`#dashboard-sidebar .dashboard-nav-link i${iconSelector}`).closest('.dashboard-nav-link');
                if (link) {
                    link.classList.add('dashboard-nav-link-active');
                    break;
                }
            }
        }
    });
</script>

================
File: app/urls.py
================
from django.urls import path


from .views import *

urlpatterns = [


##---------- COMMONS --------------------------------------------------------------------------------------------

    path('', Landing.as_view(), name='landing'),
    path('home', Home.as_view(), name='home'),

    path('dashboard', DashboardAdmin.as_view(), name = 'dashboard'),
    path('dashboard_voice', DashboardAdminVoice.as_view(), name = 'dashboard_voice'),

#---------- REGISTRO --------------------------------------------------------------------------------------------
    path('registro',UserRegister.as_view(), name='registro' ),

##---------- PERFIL --------------------------------------------------------------------------------------------
    path('perfil/', Perfil.as_view(), name='perfil'),
    path('update_profile',UserUpdateProfile.as_view(), name='update_profile'),
    
##---------- PARTIDOS --------------------------------------------------------------------------------------------
    path('crear_partidos/', CrearPartidos.as_view(), name='crear_partidos'),
    path('buscar_partidos/', BuscarPartidos.as_view(), name='buscar_partidos'),
    path('partido/<uuid:partido_id>/inscribirse/', InscribirsePartidoView.as_view(), name='inscribirse_partido'),
    path('partido/<uuid:pk>/', DetallePartidoView.as_view(), name='detalle_partido'),
    path('partido/<uuid:pk>/registrar_resultado/', RegistrarResultadoPartidoView.as_view(), name='registrar_resultado_partido'),


##---------- CANCHAS --------------------------------------------------------------------------------------------
    path('canchas/', CanchasView.as_view(), name='canchas_lista'), 
    path('canchas/registrar/', RegistrarCanchaView.as_view(), name='canchas_registrar'),
    path('cancha/<uuid:pk_cancha>/', DetalleCanchaView.as_view(), name='detalle_cancha'),


##---------- EQUIPOS --------------------------------------------------------------------------------------------
    path('equipos/crear_equipo_permanente', CrearEquipoPermanenteView.as_view(), name='crear_equipo_permanente'),
    path('equipos/mis_equipos/', MisEquiposListView.as_view(), name='lista_mis_equipos'), 
    path('equipo/<uuid:pk>/', DetalleEquipoView.as_view(), name='detalle_equipo'), 
    path('equipo/<uuid:pk>/editar/', EditarEquipoPermanenteView.as_view(), name='editar_equipo_permanente'),

##---------- MIS PARTIDOS --------------------------------------------------------------------------------------------

    path('mis_partidos/', MisPartidosView.as_view(), name='mis_partidos'),

##---------- ESTADISTICAS GENEREALES --------------------------------------------------------------------------------------------

    path('estadisticas/', EstadisticasView.as_view(), name='estadisticas_generales'),



]




================================================================
End of Codebase
================================================================
